{"version":3,"file":"main-BqdeWi0i.js","sources":["../../src/assets/images/about.jpg","../../src/utils/element-builder.ts","../../src/components/base/component.ts","../../src/locales/en.ts","../../src/locales/ru.ts","../../src/locales/language-selector.ts","../../src/types/enums.ts","../../src/constants/constants.ts","../../src/utils/image-builder.ts","../../src/pages/about-page.ts","../../src/utils/input-builder.ts","../../src/assets/images/connection-error.png","../../src/utils/button-builder.ts","../../src/components/modals/default-modal.ts","../../src/components/modals/connection-error-modal.ts","../../src/assets/svg/server-error.svg","../../src/components/modals/server-error-modal.ts","../../src/types/guards.ts","../../src/websocket/websocket-service.ts","../../src/components/buttons/base-button.ts","../../src/components/chat/chat-item.ts","../../src/components/chat/chat-list.ts","../../src/assets/images/users.png","../../src/components/chat/chat-preview.ts","../../src/components/chat/user-item.ts","../../src/components/chat/user-list.ts","../../src/pages/chat-page.ts","../../src/router/router.ts","../../src/assets/svg/404.svg","../../src/pages/error-page.ts","../../src/components/forms/authorization-form.ts","../../src/pages/login-page.ts","../../src/utils/link-builder.ts","../../src/components/footer/copyright.ts","../../src/assets/svg/rs-school-logo.svg","../../src/components/footer/rsschool-info.ts","../../src/components/footer/footer.ts","../../src/components/header/header-menu.ts","../../src/assets/icons/rus.png","../../src/assets/icons/uk.png","../../src/components/header/language-selector.ts","../../src/assets/icons/dark.png","../../src/assets/icons/light.png","../../src/components/header/theme-selector.ts","../../src/assets/icons/user.png","../../src/components/header/user-info.ts","../../src/components/header/header-submenu.ts","../../src/components/header/header.ts","../../src/components/app/app.ts","../../src/main.ts"],"sourcesContent":["export default \"__VITE_ASSET___rGYgYZp__\"","import type { ElementParameters } from '@/types/interfaces';\r\n\r\nexport class ElementBuilder {\r\n  protected element: HTMLElement;\r\n\r\n  constructor(parameters: ElementParameters) {\r\n    this.element = document.createElement(parameters.tag);\r\n    this.applyCssClasses(parameters.className);\r\n    this.applyTextContent(parameters.textContent);\r\n    this.applyCallback(parameters.callback, parameters.eventType);\r\n    this.applyAttributes(parameters.attributes);\r\n  }\r\n\r\n  public getElement(): HTMLElement {\r\n    return this.element;\r\n  }\r\n\r\n  public removeElement(): void {\r\n    this.element.remove();\r\n  }\r\n\r\n  private applyCssClasses(className: ElementParameters['className']): void {\r\n    if (className) {\r\n      if (Array.isArray(className)) {\r\n        this.element.classList.add(...className);\r\n      } else {\r\n        this.element.classList.add(className);\r\n      }\r\n    }\r\n  }\r\n\r\n  private applyTextContent(text?: string): void {\r\n    if (text) {\r\n      this.element.textContent = text;\r\n    }\r\n  }\r\n\r\n  private applyAttributes(attributes: ElementParameters['attributes']): void {\r\n    if (attributes) {\r\n      for (const [key, value] of Object.entries(attributes)) {\r\n        this.element.setAttribute(key, value);\r\n      }\r\n    }\r\n  }\r\n\r\n  private applyCallback(\r\n    callback?: ElementParameters['callback'],\r\n    eventType: ElementParameters['eventType'] = 'click'\r\n  ): void {\r\n    if (callback) {\r\n      this.element.addEventListener(eventType, callback);\r\n    }\r\n  }\r\n}\r\n","import type { ElementParameters } from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nexport abstract class Component {\r\n  protected container: HTMLElement;\r\n\r\n  protected constructor(parameters: ElementParameters) {\r\n    this.container = new ElementBuilder(parameters).getElement();\r\n  }\r\n\r\n  public getElement(): HTMLElement {\r\n    return this.container;\r\n  }\r\n\r\n  public remove(): void {\r\n    this.container.remove();\r\n  }\r\n\r\n  protected abstract render(): void;\r\n}\r\n","export const en = {\r\n  author: 'Konstantin Petrov',\r\n  appName: 'Fun Chat',\r\n  login: 'Login',\r\n  logout: 'Logout',\r\n  signin: 'Sign In',\r\n  send: 'Send',\r\n  edit: 'edit',\r\n  delete: 'delete',\r\n  home: 'Go to Homepage',\r\n  dark: 'Dark theme',\r\n  light: 'Light theme',\r\n  menuChat: 'Chat',\r\n  menuAbout: 'About',\r\n  chatPageTitle: 'Chat',\r\n  loginPageTitle: 'Authorisation',\r\n  aboutPageTitle: 'About App',\r\n  errorPageTitle: 'Page Not Found',\r\n  errorPageMessage: 'Something went wrong! The page does not exist.',\r\n  username: 'Username',\r\n  password: 'Password',\r\n  usernamePlaceholder: 'Fill in the username',\r\n  passwordPlaceholder: 'Fill in the password',\r\n  usernameTooltip: 'Username must be 5-15 characters long',\r\n  passwordTooltip:\r\n    'Password must be 8-20 characters long, include at least one uppercase letter of Latin alphabet, one number, and one special symbol. Example: Crazy99Dancer!',\r\n  usernameError: 'Username length does not match the requirements',\r\n  passwordError: 'Password is not strong enough',\r\n  aboutIntroductionText:\r\n    'My name is Konstantin Petrov, and this is my Fun Chat App for the JavaScript/Front-end 2024Q4 course of RS School.',\r\n  aboutFeaturesTitle: 'App Features',\r\n  aboutStackTitle: 'Tech Stack',\r\n  aboutFeatures: {\r\n    realTimeChat: 'Real-time chat functionality',\r\n    UserAuthorisation: 'User authentication system',\r\n    ResponsiveDesign: 'Modern and responsive design',\r\n    multiLanguage: 'Multi-language support',\r\n    themeSelector: 'Theme mode selector',\r\n  },\r\n  searchPlaceholder: 'Search users...',\r\n  messagePlaceholder: 'Type message...',\r\n  noOtherUser: 'No users available for chatting',\r\n  selectUserMessage: 'Select a user to start chatting',\r\n  userOnline: 'online',\r\n  userOffline: 'offline',\r\n  editedMessage: 'edited',\r\n  notDeliveredMessage: 'not delivered',\r\n  deliveredMessage: 'delivered',\r\n  readMessage: 'read',\r\n  dividerText: 'Unread messages',\r\n  emptyChat: 'This is the beginning of your conversation',\r\n  serverErrorModalTitle: 'Server Error',\r\n  serverErrorModalMessage: 'Unfortunately, the server refused your request',\r\n  connectionErrorModalTitle: 'Connection Error',\r\n  connectionLostModalMessage: 'Connection to the server has been lost. Attempting to reconnect.',\r\n  connectionUnavailableModalMessage:\r\n    'There is no connection to the server. Refresh the page and try again',\r\n};\r\n","export const ru = {\r\n  author: 'Константин Петров',\r\n  appName: 'Веселый Чат',\r\n  login: 'Войти',\r\n  logout: 'Выйти',\r\n  signin: 'Авторизоваться',\r\n  send: 'Отправить',\r\n  edit: 'изменить',\r\n  delete: 'удалить',\r\n  home: 'На домашнюю страницу',\r\n  dark: 'Темная тема',\r\n  light: 'Светлая тема',\r\n  menuChat: 'Чат',\r\n  menuAbout: 'Инфо',\r\n  chatPageTitle: 'Чат',\r\n  loginPageTitle: 'Авторизация',\r\n  aboutPageTitle: 'Информация о приложении',\r\n  errorPageTitle: 'Страница не найдена',\r\n  errorPageMessage: 'Что-то пошло не так! Страница не существует.',\r\n  username: 'Имя пользователя',\r\n  password: 'Пароль',\r\n  usernamePlaceholder: 'Введите имя пользователя',\r\n  passwordPlaceholder: 'Введите пароль',\r\n  usernameTooltip: 'Имя пользователя должно состоять из 5-15 символов',\r\n  passwordTooltip:\r\n    'Пароль должен состоять из 8-20 символов, содержать как минимум одну заглавную букву латинского алфавита, одну цифру и один специальный символ. Пример: Crazy99Dancer!',\r\n  usernameError: 'Длина имени пользователя не соответствует требованиям',\r\n  passwordError: 'Пароль не достаточно сложный',\r\n  aboutIntroductionText:\r\n    'Меня зовут Константин Петров и это мое приложение Веселый Чатик, сделанное для курса JavaScript/Front-end 2024Q4 в RS School.',\r\n  aboutFeaturesTitle: 'Функционал Приложения',\r\n  aboutStackTitle: 'Технологический стек',\r\n  aboutFeatures: {\r\n    realTimeChat: 'Обмен сообщениями в реальном времени',\r\n    UserAuthorisation: 'Система аутентификации пользователей',\r\n    ResponsiveDesign: 'Современный и адаптивный дизайн',\r\n    multiLanguage: 'Поддержка нескольких языков',\r\n    themeSelector: 'Переключатель темы',\r\n  },\r\n  searchPlaceholder: 'Поиск пользователей...',\r\n  messagePlaceholder: 'Введите сообщение...',\r\n  noOtherUser: 'Нет пользователей, доступных для общения',\r\n  selectUserMessage: 'Выберите пользователя для начала общения',\r\n  userOnline: 'онлайн',\r\n  userOffline: 'офлайн',\r\n  editedMessage: 'изменено',\r\n  notDeliveredMessage: 'не доставлено',\r\n  deliveredMessage: 'доставлено',\r\n  readMessage: 'прочитано',\r\n  dividerText: 'Непрочитанные сообщения',\r\n  emptyChat: 'Это начало вашей беседы',\r\n  serverErrorModalTitle: 'Серверная ошибка',\r\n  serverErrorModalMessage: 'К сожалению, сервер отверг ваш запрос',\r\n  connectionErrorModalTitle: 'Ошибка Соединения',\r\n  connectionLostModalMessage: 'Соединение с сервером было потеряно. Пытаемся соединиться повторно.',\r\n  connectionUnavailableModalMessage:\r\n    'Соединение с сервером отсутствует. Обновите страницу браузера и повторите попытку снова.',\r\n};\r\n","import type { Language } from '@/types/enums';\r\n\r\nimport { en } from './en';\r\nimport { ru } from './ru';\r\n\r\nexport class LanguageSelectorUtility {\r\n  private currentLanguage: Language;\r\n\r\n  constructor(defaultLanguage: Language = 'en') {\r\n    const savedLanguage = localStorage.getItem('fun-chat-konstantin-language');\r\n    this.currentLanguage =\r\n      savedLanguage === 'en' || savedLanguage === 'ru' ? savedLanguage : defaultLanguage;\r\n  }\r\n\r\n  public setLanguage(lang: Language): void {\r\n    this.currentLanguage = lang;\r\n    localStorage.setItem('fun-chat-konstantin-language', lang);\r\n    document.dispatchEvent(new CustomEvent('languageChange', { detail: { language: lang } }));\r\n  }\r\n\r\n  public getLanguage(): Language {\r\n    return this.currentLanguage;\r\n  }\r\n\r\n  public getTranslations(): typeof en | typeof ru {\r\n    return this.currentLanguage === 'en' ? en : ru;\r\n  }\r\n}\r\n","export enum Route {\r\n  Login = '#/',\r\n  About = '#/about',\r\n  Chat = '#/chat',\r\n  Error = '#/error',\r\n}\r\n\r\nexport type ActionHandler = () => void;\r\n\r\nexport type Language = 'en' | 'ru';\r\n\r\nexport type Theme = 'light' | 'dark';\r\n\r\nexport enum AboutFeature {\r\n  RealTimeChat = 'realTimeChat',\r\n  UserAuthorisation = 'UserAuthorisation',\r\n  ResponsiveDesign = 'ResponsiveDesign',\r\n  MultiLanguage = 'multiLanguage',\r\n  themeSelector = 'themeSelector',\r\n}\r\n\r\nexport enum TechStack {\r\n  HTML = 'html',\r\n  CSS = 'css',\r\n  TypeScript = 'typescript',\r\n  SASS = 'sass',\r\n  Vite = 'vite',\r\n  ESLint = 'eslint',\r\n  Prettier = 'prettier',\r\n  Stylelint = 'stylelint',\r\n}\r\n\r\nexport enum ConnectionErrorCondition {\r\n  Lost = 'lost',\r\n  Unavailable = 'unavailable',\r\n}\r\n","import { LanguageSelectorUtility } from '@/locales/language-selector';\r\nimport type { AboutFeature, Language, TechStack } from '@/types/enums';\r\nimport { Route } from '@/types/enums';\r\nimport type { MenuItem } from '@/types/interfaces';\r\n\r\nexport const DEFAULT_LANGUAGE: Language = 'en';\r\n\r\nconst languageSelector = new LanguageSelectorUtility(DEFAULT_LANGUAGE);\r\nlet language = languageSelector.getTranslations();\r\n\r\ndocument.addEventListener('languageChange', () => {\r\n  language = languageSelector.getTranslations();\r\n});\r\n\r\nexport const GITHUB_URL: string = 'https://github.com/petruse4ka';\r\nexport const SCHOOL_URL: string = 'https://rs.school/courses/javascript';\r\n\r\nexport const AUTHOR_NAME: string = language.author;\r\n\r\nexport const SCHOOL_NAME: string = 'RS School';\r\n\r\nexport const COPYRIGHT_TEXT: string = '© 2025';\r\n\r\nexport const APP_NAME: string = language.appName;\r\n\r\nexport const BUTTON_TITLES: {\r\n  home: string;\r\n  login: string;\r\n  logout: string;\r\n  signin: string;\r\n  send: string;\r\n  edit: string;\r\n  delete: string;\r\n} = {\r\n  home: language.home,\r\n  login: language.login,\r\n  logout: language.logout,\r\n  signin: language.signin,\r\n  send: language.send,\r\n  edit: language.edit,\r\n  delete: language.delete,\r\n};\r\n\r\nexport const THEME_OPTIONS: { darkTheme: string; lightTheme: string } = {\r\n  darkTheme: language.dark,\r\n  lightTheme: language.light,\r\n};\r\n\r\nexport const MENU_ITEMS: MenuItem[] = [\r\n  { name: language.menuChat, route: Route.Chat },\r\n  { name: language.menuAbout, route: Route.About },\r\n];\r\n\r\nexport const PAGE_TITLES: { login: string; about: string; chat: string; error: string } = {\r\n  login: language.loginPageTitle,\r\n  about: language.aboutPageTitle,\r\n  chat: language.chatPageTitle,\r\n  error: language.errorPageTitle,\r\n};\r\n\r\nexport const ERROR_PAGE_MESSAGE: string = language.errorPageMessage;\r\n\r\nexport const SIGNIN_FORM: {\r\n  username: string;\r\n  password: string;\r\n  usernamePlaceholder: string;\r\n  passwordPlaceholder: string;\r\n} = {\r\n  username: language.username,\r\n  password: language.password,\r\n  usernamePlaceholder: language.usernamePlaceholder,\r\n  passwordPlaceholder: language.passwordPlaceholder,\r\n};\r\n\r\nexport const TOOLTIP_TEXT: { username: string; password: string } = {\r\n  username: language.usernameTooltip,\r\n  password: language.passwordTooltip,\r\n};\r\n\r\nexport const ERROR_TEXT: { username: string; password: string } = {\r\n  username: language.usernameError,\r\n  password: language.passwordError,\r\n};\r\n\r\nexport const ABOUT_PAGE_TEXT: {\r\n  introductionText: string;\r\n  featuresTitle: string;\r\n  stackTitle: string;\r\n  features: { [key in AboutFeature]: string };\r\n  techStack: { [key in TechStack]: string };\r\n} = {\r\n  introductionText: language.aboutIntroductionText,\r\n  featuresTitle: language.aboutFeaturesTitle,\r\n  stackTitle: language.aboutStackTitle,\r\n  features: language.aboutFeatures,\r\n  techStack: {\r\n    html: 'HTML5',\r\n    css: 'CSS3',\r\n    typescript: 'TypeScript',\r\n    sass: 'SASS',\r\n    vite: 'Vite',\r\n    eslint: 'ESLint',\r\n    prettier: 'Prettier',\r\n    stylelint: 'Stylelint',\r\n  },\r\n};\r\n\r\nexport const CHAT_TEXT: {\r\n  searchPlaceholder: string;\r\n  messagePlaceholder: string;\r\n  noOtherUser: string;\r\n  selectUserMessage: string;\r\n  userOnline: string;\r\n  userOffline: string;\r\n  emptyChat: string;\r\n  editedMessage: string;\r\n  notDeliveredMessage: string;\r\n  deliveredMessage: string;\r\n  readMessage: string;\r\n  dividerText: string;\r\n} = {\r\n  searchPlaceholder: language.searchPlaceholder,\r\n  messagePlaceholder: language.messagePlaceholder,\r\n  noOtherUser: language.noOtherUser,\r\n  selectUserMessage: language.selectUserMessage,\r\n  userOnline: language.userOnline,\r\n  userOffline: language.userOffline,\r\n  emptyChat: language.emptyChat,\r\n  editedMessage: language.editedMessage,\r\n  notDeliveredMessage: language.notDeliveredMessage,\r\n  deliveredMessage: language.deliveredMessage,\r\n  readMessage: language.readMessage,\r\n  dividerText: language.dividerText,\r\n};\r\n\r\nexport const SERVER_ERROR_MODAL: { errorTitle: string; errorMessage: string } = {\r\n  errorTitle: language.serverErrorModalTitle,\r\n  errorMessage: language.serverErrorModalMessage,\r\n};\r\n\r\nexport const CONNECTION_ERROR_MODAL: {\r\n  connectionErrorModalTitle: string;\r\n  connectionUnavailableModalMessage: string;\r\n  connectionLostModalMessage: string;\r\n  maxReconnectAttempts: number;\r\n  reconnectInterval: number;\r\n} = {\r\n  connectionErrorModalTitle: language.connectionErrorModalTitle,\r\n  connectionLostModalMessage: language.connectionLostModalMessage,\r\n  connectionUnavailableModalMessage: language.connectionUnavailableModalMessage,\r\n  maxReconnectAttempts: 20,\r\n  reconnectInterval: 5000,\r\n};\r\n","import type { ImageParameters } from '@/types/interfaces';\r\n\r\nimport { ElementBuilder } from './element-builder';\r\n\r\nexport class ImageBuilder extends ElementBuilder {\r\n  constructor(parameters: ImageParameters) {\r\n    super({ ...parameters });\r\n    this.applySource(parameters.source);\r\n    this.applyAlt(parameters.alt);\r\n  }\r\n\r\n  private applySource(source: string): void {\r\n    if (source && this.element instanceof HTMLImageElement) {\r\n      this.element.src = source;\r\n    }\r\n  }\r\n\r\n  private applyAlt(alt: string): void {\r\n    if (alt && this.element instanceof HTMLImageElement) {\r\n      this.element.alt = alt;\r\n    }\r\n  }\r\n}\r\n","import aboutImage from '@/assets/images/about.jpg';\r\nimport { Component } from '@/components/base/component';\r\nimport { ABOUT_PAGE_TEXT, PAGE_TITLES } from '@/constants/constants';\r\nimport { AboutFeature, TechStack } from '@/types/enums';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nexport class AboutPage extends Component {\r\n  constructor() {\r\n    super({ tag: 'main', className: 'about' });\r\n    this.render();\r\n  }\r\n\r\n  private static createFeaturesList(): HTMLElement {\r\n    const featuresTitle = new ElementBuilder({\r\n      tag: 'h2',\r\n      className: ['about__subtitle'],\r\n      textContent: ABOUT_PAGE_TEXT.featuresTitle,\r\n    }).getElement();\r\n\r\n    const featuresList = new ElementBuilder({\r\n      tag: 'ul',\r\n      className: ['about__feature-list'],\r\n    }).getElement();\r\n\r\n    for (const feature of Object.values(AboutFeature)) {\r\n      const listItem = new ElementBuilder({\r\n        tag: 'li',\r\n        className: ['about__feature-item'],\r\n        textContent: ABOUT_PAGE_TEXT.features[feature],\r\n      }).getElement();\r\n      featuresList.append(listItem);\r\n    }\r\n\r\n    const container = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['about__features-container'],\r\n    }).getElement();\r\n\r\n    container.append(featuresTitle, featuresList);\r\n    return container;\r\n  }\r\n\r\n  private static createTechStack(): HTMLElement {\r\n    const stackTitle = new ElementBuilder({\r\n      tag: 'h2',\r\n      className: ['about__subtitle'],\r\n      textContent: ABOUT_PAGE_TEXT.stackTitle,\r\n    }).getElement();\r\n\r\n    const stackIconsContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['about__stack-icons-container'],\r\n    }).getElement();\r\n\r\n    for (const tech of Object.values(TechStack)) {\r\n      const iconContainer = new ElementBuilder({\r\n        tag: 'div',\r\n        className: ['about__stack-item'],\r\n      }).getElement();\r\n\r\n      const icon = new ImageBuilder({\r\n        tag: 'img',\r\n        className: ['about__stack-icon'],\r\n        source: `./assets/svg/${tech}.svg`,\r\n        alt: `${ABOUT_PAGE_TEXT.techStack[tech]} icon`,\r\n      }).getElement();\r\n\r\n      iconContainer.append(icon);\r\n      stackIconsContainer.append(iconContainer);\r\n    }\r\n\r\n    const container = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['about__stack-container'],\r\n    }).getElement();\r\n\r\n    container.append(stackTitle, stackIconsContainer);\r\n    return container;\r\n  }\r\n\r\n  protected render(): void {\r\n    const title = new ElementBuilder({\r\n      tag: 'h1',\r\n      className: ['about__title'],\r\n      textContent: PAGE_TITLES.about,\r\n    }).getElement();\r\n\r\n    const contentContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['about__container'],\r\n    }).getElement();\r\n\r\n    const heroImage = new ImageBuilder({\r\n      tag: 'img',\r\n      className: ['about__image'],\r\n      source: aboutImage,\r\n      alt: 'Two people chatting behind the PC',\r\n    }).getElement();\r\n\r\n    const introductionText = new ElementBuilder({\r\n      tag: 'p',\r\n      className: ['about__introduction'],\r\n      textContent: ABOUT_PAGE_TEXT.introductionText,\r\n    }).getElement();\r\n\r\n    contentContainer.append(\r\n      heroImage,\r\n      introductionText,\r\n      AboutPage.createFeaturesList(),\r\n      AboutPage.createTechStack()\r\n    );\r\n\r\n    this.container.append(title, contentContainer);\r\n  }\r\n}\r\n","import type { InputParameters } from '@/types/interfaces';\r\n\r\nimport { ElementBuilder } from './element-builder';\r\n\r\nexport class InputBuilder extends ElementBuilder {\r\n  constructor(parameters: InputParameters) {\r\n    super({ ...parameters });\r\n    this.setInputProperties(\r\n      parameters.type,\r\n      parameters.value,\r\n      parameters.placeholder,\r\n      parameters.readonly\r\n    );\r\n  }\r\n\r\n  public getValue(): string {\r\n    if (this.element instanceof HTMLInputElement) {\r\n      return this.element.value;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  public setValue(value: string): void {\r\n    if (this.element instanceof HTMLInputElement) {\r\n      this.element.value = value;\r\n    }\r\n  }\r\n\r\n  private setInputProperties(\r\n    type: InputParameters['type'],\r\n    value: InputParameters['value'],\r\n    placeholder: InputParameters['placeholder'],\r\n    readonly: InputParameters['readonly']\r\n  ): void {\r\n    if (this.element instanceof HTMLInputElement) {\r\n      this.element.type = type;\r\n    }\r\n    if (value && this.element instanceof HTMLInputElement) {\r\n      this.element.value = value;\r\n    }\r\n    if (placeholder && this.element instanceof HTMLInputElement) {\r\n      this.element.placeholder = placeholder;\r\n    }\r\n    if (readonly && this.element instanceof HTMLInputElement) {\r\n      this.element.readOnly = true;\r\n    }\r\n  }\r\n}\r\n","export default \"__VITE_ASSET__YU$uwUSn__\"","import type { ElementParameters } from '@/types/interfaces';\r\n\r\nimport { ElementBuilder } from './element-builder';\r\n\r\ninterface ButtonParameters extends ElementParameters {\r\n  type: 'button' | 'submit' | 'reset';\r\n}\r\n\r\nexport class ButtonBuilder extends ElementBuilder {\r\n  constructor(parameters: ButtonParameters) {\r\n    super({ ...parameters });\r\n    this.setButtonType(parameters.type);\r\n  }\r\n\r\n  public disableButton(): void {\r\n    this.element.classList.add('button--disabled');\r\n    if (this.element instanceof HTMLButtonElement) {\r\n      this.element.disabled = true;\r\n    }\r\n  }\r\n\r\n  public enableButton(): void {\r\n    this.element.classList.remove('button--disabled');\r\n    if (this.element instanceof HTMLButtonElement) {\r\n      this.element.disabled = false;\r\n    }\r\n  }\r\n\r\n  private setButtonType(type: ButtonParameters['type']): void {\r\n    if (type && this.element instanceof HTMLInputElement) {\r\n      this.element.type = type;\r\n    }\r\n  }\r\n}\r\n","import { ButtonBuilder } from '@/utils/button-builder';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nimport { Component } from '../base/component';\r\n\r\nexport abstract class Modal extends Component {\r\n  protected modalContent: HTMLElement;\r\n  protected isOpen = false;\r\n  private closeButton: HTMLElement;\r\n\r\n  protected constructor(className: string[]) {\r\n    super({ tag: 'dialog', className: ['modal', ...className] });\r\n\r\n    this.modalContent = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'modal__content',\r\n    }).getElement();\r\n\r\n    this.closeButton = new ButtonBuilder({\r\n      type: 'button',\r\n      tag: 'button',\r\n      className: 'modal__close-button',\r\n      textContent: '×',\r\n      callback: (): void => this.close(),\r\n    }).getElement();\r\n\r\n    this.container.addEventListener('click', (event) => {\r\n      if (event.target === this.container) {\r\n        this.close();\r\n      }\r\n    });\r\n\r\n    document.addEventListener('keydown', (event) => {\r\n      if (event.key === 'Escape' && this.isOpen) {\r\n        this.close();\r\n      }\r\n    });\r\n\r\n    this.render();\r\n  }\r\n\r\n  public open(): void {\r\n    if (!this.isOpen) {\r\n      document.body.append(this.container);\r\n      document.body.style.overflow = 'hidden';\r\n\r\n      if (this.container instanceof HTMLDialogElement) {\r\n        this.container.showModal();\r\n      }\r\n\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  public close(): void {\r\n    if (this.isOpen) {\r\n      if (this.container instanceof HTMLDialogElement) {\r\n        this.container.close();\r\n      }\r\n\r\n      document.body.style.overflow = '';\r\n      this.container.remove();\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  protected render(): void {\r\n    this.modalContent.append(this.closeButton);\r\n    this.container.append(this.modalContent);\r\n  }\r\n}\r\n","import connectionError from '@/assets/images/connection-error.png';\r\nimport { CONNECTION_ERROR_MODAL } from '@/constants/constants';\r\nimport { ConnectionErrorCondition } from '@/types/enums';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nimport { Modal } from './default-modal';\r\n\r\nexport class ConnectionErrorModal extends Modal {\r\n  private errorCondition: ConnectionErrorCondition;\r\n  private messageContainer: HTMLElement | null = null;\r\n\r\n  constructor(errorCondition: ConnectionErrorCondition) {\r\n    super(['connection-error-modal']);\r\n    this.errorCondition = errorCondition;\r\n    this.renderChildren();\r\n  }\r\n\r\n  public renderChildren(): void {\r\n    this.messageContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'connection-error-modal__message',\r\n    }).getElement();\r\n\r\n    const heading = new ElementBuilder({\r\n      tag: 'h2',\r\n      className: 'connection-error-modal__heading',\r\n      textContent: CONNECTION_ERROR_MODAL.connectionErrorModalTitle,\r\n    }).getElement();\r\n\r\n    const image = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'connection-error-modal__image',\r\n      source: connectionError,\r\n      alt: 'Person in yellow builder helmet',\r\n    }).getElement();\r\n\r\n    const text = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'connection-error-modal__text',\r\n      textContent:\r\n        this.errorCondition === ConnectionErrorCondition.Lost\r\n          ? CONNECTION_ERROR_MODAL.connectionLostModalMessage\r\n          : CONNECTION_ERROR_MODAL.connectionUnavailableModalMessage,\r\n    }).getElement();\r\n\r\n    this.messageContainer.append(heading, image, text);\r\n    this.modalContent.append(this.messageContainer);\r\n  }\r\n}\r\n","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20280%20280'%20xml:space='preserve'%3e%3cg%20id='XMLID_12_'%3e%3cpath%20id='XMLID_441_'%20style='fill:%23FFDA44;'%20d='M30.678,265.068c-27.33,0-38.511-19.365-24.846-43.034l109.322-189.35%20c13.665-23.669,36.026-23.669,49.691,0l109.322,189.35c13.665,23.669,2.484,43.034-24.846,43.034H30.678z'/%3e%3cpath%20id='XMLID_443_'%20style='fill:%23FF9811;'%20d='M274.168,222.034L164.846,32.684C158.014,20.849,149.006,14.949,140,14.95v250.118%20h109.322C276.652,265.068,287.833,245.703,274.168,222.034z'/%3e%3cpolygon%20id='XMLID_444_'%20style='fill:%23FFFFFF;'%20points='140,175.068%20120,175.068%20110,95.068%20140,95.068%20150,135.068%20'/%3e%3cpolygon%20id='XMLID_445_'%20style='fill:%23FFDA44;'%20points='160,175.068%20140,175.068%20140,95.068%20170,95.068%20'/%3e%3cpolygon%20id='XMLID_446_'%20style='fill:%23FFFFFF;'%20points='140,235.068%20120,235.068%20120,195.068%20140,195.068%20150,215.068%20'/%3e%3crect%20id='XMLID_447_'%20x='140'%20y='195.068'%20style='fill:%23FFDA44;'%20width='20'%20height='40'/%3e%3c/g%3e%3c/svg%3e\"","import serverError from '@/assets/svg/server-error.svg';\r\nimport { SERVER_ERROR_MODAL } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nimport { Modal } from './default-modal';\r\n\r\nexport class ServerErrorModal extends Modal {\r\n  private errorMessage: string;\r\n  private messageContainer: HTMLElement | null = null;\r\n\r\n  constructor(message: string) {\r\n    super(['server-error-modal']);\r\n    this.errorMessage = message;\r\n    this.renderChildren();\r\n  }\r\n\r\n  public renderChildren(): void {\r\n    this.messageContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'server-error-modal__message',\r\n    }).getElement();\r\n\r\n    const heading = new ElementBuilder({\r\n      tag: 'h2',\r\n      className: 'server-error-modal__heading',\r\n      textContent: SERVER_ERROR_MODAL.errorTitle,\r\n    }).getElement();\r\n\r\n    const image = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'server-error-modal__image',\r\n      source: serverError,\r\n      alt: 'Sever Error',\r\n    }).getElement();\r\n\r\n    const text = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'server-error-modal__text',\r\n      textContent: SERVER_ERROR_MODAL.errorMessage,\r\n    }).getElement();\r\n\r\n    const error = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'server-error-modal__error-text',\r\n      textContent: this.errorMessage,\r\n    }).getElement();\r\n\r\n    this.messageContainer.append(heading, image, text, error);\r\n    this.modalContent.append(this.messageContainer);\r\n  }\r\n}\r\n","import type { LanguageChangeEvent, LoggedUser, WebSocketMessage } from './interfaces';\r\n\r\nexport function isLanguageChangeEvent(event: Event): event is LanguageChangeEvent {\r\n  return event instanceof CustomEvent && 'language' in event.detail;\r\n}\r\n\r\nexport function isWebSocketMessage<T>(message: unknown): message is WebSocketMessage<T> {\r\n  return typeof message === 'object' && message !== null && 'payload' in message;\r\n}\r\n\r\nexport function isLoggedUser(data: unknown): data is LoggedUser {\r\n  return typeof data === 'object' && data !== null && 'username' in data && 'password' in data;\r\n}\r\n\r\nexport function isWebSocketMessageWithPayload<T>(\r\n  message: WebSocketMessage<unknown>,\r\n  type: string,\r\n  payloadProperty: string\r\n): message is WebSocketMessage<T> {\r\n  return (\r\n    typeof message === 'object' &&\r\n    message !== null &&\r\n    message.type === type &&\r\n    typeof message.payload === 'object' &&\r\n    message.payload !== null &&\r\n    payloadProperty in message.payload\r\n  );\r\n}\r\n","import { ConnectionErrorModal } from '@/components/modals/connection-error-modal';\r\nimport { ServerErrorModal } from '@/components/modals/server-error-modal';\r\nimport { CONNECTION_ERROR_MODAL } from '@/constants/constants';\r\nimport { ConnectionErrorCondition } from '@/types/enums';\r\nimport { isLoggedUser, isWebSocketMessage, isWebSocketMessageWithPayload } from '@/types/guards';\r\nimport type {\r\n  ErrorResponsePayload,\r\n  MessageDeleteStatus,\r\n  MessageDeliveryStatus,\r\n  MessageEditStatus,\r\n  MessageReadStatus,\r\n  User,\r\n  UserActiveResponsePayload,\r\n  UserInactiveResponsePayload,\r\n  UserLoginResponsePayload,\r\n  UserLogoutResponsePayload,\r\n  UserMessage,\r\n  UserMessageDeletePayload,\r\n  UserMessageDeleteResponsePayload,\r\n  UserMessageDeliveryResponsePayload,\r\n  UserMessageEditPayload,\r\n  UserMessageEditResponsePayload,\r\n  UserMessageReadPayload,\r\n  UserMessageReadResponsePayload,\r\n  UserMessageResponsePayload,\r\n  WebSocketMessage,\r\n} from '@/types/interfaces';\r\nimport type {\r\n  ActiveUsersHandler,\r\n  InactiveUsersHandler,\r\n  LoginHandler,\r\n  LogoutHandler,\r\n  MessageDeleteHandler,\r\n  MessageDeliverHandler,\r\n  MessageEditHandler,\r\n  MessageHistoryHandler,\r\n  MessageReadHandler,\r\n  OtherUserLoginHandler,\r\n  OtherUserLogoutHandler,\r\n  UserLoginRequest,\r\n  UserLogoutRequest,\r\n  UserMessageHandler,\r\n  UserMessageRequest,\r\n  UsersRequest,\r\n} from '@/types/types';\r\n\r\nexport class WebSocketService {\r\n  private static instance: WebSocketService | undefined = undefined;\r\n  private socket: WebSocket | undefined = undefined;\r\n  private url = 'ws://localhost:4000';\r\n  private loginHandlers: LoginHandler[] = [];\r\n  private logoutHandlers: LogoutHandler[] = [];\r\n  private otherUsersLoginHandler: OtherUserLoginHandler | null = null;\r\n  private otherUsersLogoutHandler: OtherUserLogoutHandler | null = null;\r\n  private activeUsersHandler: ActiveUsersHandler | null = null;\r\n  private inactiveUsersHandler: InactiveUsersHandler | null = null;\r\n  private userMessageHandlers: UserMessageHandler[] = [];\r\n  private messageHistoryHandlers: MessageHistoryHandler[] = [];\r\n  private messageDeleteHandlers: MessageDeleteHandler[] = [];\r\n  private messageEditHandler: MessageEditHandler | null = null;\r\n  private messageDeliverHandler: MessageDeliverHandler | null = null;\r\n  private messageReadHandlers: MessageReadHandler[] = [];\r\n  private currentUser: { login: string; password: string } | null = null;\r\n  private userPassword: string = '';\r\n  private connectionLostModal: ConnectionErrorModal;\r\n  private connectionUnavailableModal: ConnectionErrorModal;\r\n  private reconnectAttempts = 0;\r\n  private maxReconnectAttempts = CONNECTION_ERROR_MODAL.maxReconnectAttempts;\r\n  private reconnectInterval = CONNECTION_ERROR_MODAL.reconnectInterval;\r\n  private reconnectModalShown = false;\r\n\r\n  constructor() {\r\n    this.connect();\r\n    this.connectionLostModal = new ConnectionErrorModal(ConnectionErrorCondition.Lost);\r\n    this.connectionUnavailableModal = new ConnectionErrorModal(\r\n      ConnectionErrorCondition.Unavailable\r\n    );\r\n  }\r\n\r\n  public static getInstance(): WebSocketService {\r\n    if (!WebSocketService.instance) {\r\n      WebSocketService.instance = new WebSocketService();\r\n    }\r\n    return WebSocketService.instance;\r\n  }\r\n\r\n  public setLoginHandler(callback: LoginHandler): void {\r\n    this.loginHandlers.push(callback);\r\n  }\r\n\r\n  public setLogoutHandler(callback: LogoutHandler): void {\r\n    this.logoutHandlers.push(callback);\r\n  }\r\n\r\n  public setOtherUsersLoginHandler(callback: OtherUserLoginHandler): void {\r\n    this.otherUsersLoginHandler = callback;\r\n  }\r\n\r\n  public setOtherUsersLogoutHandler(callback: OtherUserLogoutHandler): void {\r\n    this.otherUsersLogoutHandler = callback;\r\n  }\r\n\r\n  public setActiveUsersHandler(callback: ActiveUsersHandler): void {\r\n    this.activeUsersHandler = callback;\r\n  }\r\n\r\n  public setInactiveUsersHandler(callback: InactiveUsersHandler): void {\r\n    this.inactiveUsersHandler = callback;\r\n  }\r\n\r\n  public setUserMessagesHandler(callback: UserMessageHandler): void {\r\n    this.userMessageHandlers.push(callback);\r\n  }\r\n\r\n  public setMessageHistoryHandler(callback: MessageHistoryHandler): void {\r\n    this.messageHistoryHandlers.push(callback);\r\n  }\r\n\r\n  public setMessageDeleteHandler(callback: MessageDeleteHandler): void {\r\n    this.messageDeleteHandlers.push(callback);\r\n  }\r\n\r\n  public setMessageEditHandler(callback: MessageEditHandler): void {\r\n    this.messageEditHandler = callback;\r\n  }\r\n\r\n  public setMessageDeliverHandler(callback: MessageDeliverHandler): void {\r\n    this.messageDeliverHandler = callback;\r\n  }\r\n\r\n  public setMessageReadHandler(callback: MessageReadHandler): void {\r\n    this.messageReadHandlers.push(callback);\r\n  }\r\n\r\n  public getCurrentUser(): User | null {\r\n    return this.currentUser ? { login: this.currentUser.login, isLogined: true } : null;\r\n  }\r\n\r\n  public sendLoginRequest(username: string, password: string): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      this.connectionUnavailableModal.open();\r\n      throw new Error('Local server is unavailable');\r\n    }\r\n\r\n    this.userPassword = password;\r\n    sessionStorage.setItem('loggedUser', JSON.stringify({ username, password }));\r\n\r\n    const message: UserLoginRequest = {\r\n      id: crypto.randomUUID(),\r\n      type: 'USER_LOGIN',\r\n      payload: {\r\n        user: {\r\n          login: username,\r\n          password: password,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(message));\r\n  }\r\n\r\n  public sendLogoutRequest(): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    if (!this.currentUser) {\r\n      throw new Error('No user is currently logged in');\r\n    }\r\n\r\n    const message: UserLogoutRequest = {\r\n      id: crypto.randomUUID(),\r\n      type: 'USER_LOGOUT',\r\n      payload: {\r\n        user: {\r\n          login: this.currentUser.login,\r\n          password: this.currentUser.password,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(message));\r\n    sessionStorage.removeItem('loggedUser');\r\n  }\r\n\r\n  public requestAllUsers(): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    const activeMessage: UsersRequest = {\r\n      id: crypto.randomUUID(),\r\n      type: 'USER_ACTIVE',\r\n      payload: null,\r\n    };\r\n\r\n    const inactiveMessage: UsersRequest = {\r\n      id: crypto.randomUUID(),\r\n      type: 'USER_INACTIVE',\r\n      payload: null,\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(activeMessage));\r\n    this.socket.send(JSON.stringify(inactiveMessage));\r\n  }\r\n\r\n  public sendMessage(receiver: string, text: string): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      this.connectionUnavailableModal.open();\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    const message: UserMessageRequest = {\r\n      id: crypto.randomUUID(),\r\n      type: 'MSG_SEND',\r\n      payload: {\r\n        message: {\r\n          to: receiver,\r\n          text: text,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(message));\r\n  }\r\n\r\n  public editMessage(messageId: string, newText: string): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    const message: WebSocketMessage<UserMessageEditPayload> = {\r\n      id: crypto.randomUUID(),\r\n      type: 'MSG_EDIT',\r\n      payload: {\r\n        message: {\r\n          id: messageId,\r\n          text: newText,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(message));\r\n  }\r\n\r\n  public deleteMessage(messageId: string): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    const message: WebSocketMessage<UserMessageDeletePayload> = {\r\n      id: crypto.randomUUID(),\r\n      type: 'MSG_DELETE',\r\n      payload: {\r\n        message: {\r\n          id: messageId,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(message));\r\n  }\r\n\r\n  public fetchMessageHistory(userLogin: string): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    const request: WebSocketMessage<{ user: { login: string } }> = {\r\n      id: crypto.randomUUID(),\r\n      type: 'MSG_FROM_USER',\r\n      payload: {\r\n        user: {\r\n          login: userLogin,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(request));\r\n  }\r\n\r\n  public readMessage(messageId: string): void {\r\n    if (!this.socket || this.socket.readyState !== WebSocket.OPEN) {\r\n      throw new Error('WebSocket is not connected');\r\n    }\r\n\r\n    const message: WebSocketMessage<UserMessageReadPayload> = {\r\n      id: crypto.randomUUID(),\r\n      type: 'MSG_READ',\r\n      payload: {\r\n        message: {\r\n          id: messageId,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.socket.send(JSON.stringify(message));\r\n  }\r\n\r\n  private connect(): void {\r\n    this.socket = new WebSocket(this.url);\r\n    this.addEventListeners();\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    if (!this.socket) return;\r\n\r\n    this.socket.addEventListener('open', this.handleSocketOpenEvent);\r\n    this.socket.addEventListener('message', this.handleMessageEvent);\r\n    this.socket.addEventListener('close', this.handleSocketCloseEvent);\r\n  }\r\n\r\n  private handleSocketOpenEvent = (): void => {\r\n    this.reconnectAttempts = 0;\r\n    this.reconnectModalShown = false;\r\n    this.connectionLostModal.close();\r\n\r\n    const loggedUser = sessionStorage.getItem('loggedUser');\r\n    if (loggedUser) {\r\n      try {\r\n        const parsedData: unknown = JSON.parse(loggedUser);\r\n        if (isLoggedUser(parsedData)) {\r\n          this.sendLoginRequest(parsedData.username, parsedData.password);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  private handleMessageEvent = (event: MessageEvent<string>): void => {\r\n    try {\r\n      const message: unknown = JSON.parse(event.data);\r\n      if (isWebSocketMessage(message)) {\r\n        this.handleMessage(message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error', error);\r\n    }\r\n  };\r\n\r\n  private handleSocketCloseEvent = (): void => {\r\n    const user = this.currentUser;\r\n    this.currentUser = null;\r\n    if (user) {\r\n      for (const handler of this.logoutHandlers) {\r\n        handler({ login: user.login, isLogined: false });\r\n      }\r\n    }\r\n\r\n    document.dispatchEvent(new CustomEvent('connectionLost'));\r\n\r\n    if (!this.reconnectModalShown) {\r\n      this.connectionLostModal.open();\r\n      this.reconnectModalShown = true;\r\n    }\r\n\r\n    if (this.reconnectAttempts < this.maxReconnectAttempts) {\r\n      this.reconnectAttempts++;\r\n      setTimeout(() => this.connect(), this.reconnectInterval);\r\n    }\r\n  };\r\n\r\n  private handleMessage(message: WebSocketMessage<unknown>): void {\r\n    this.handleAuthMessages(message);\r\n    this.handleUserMessages(message);\r\n    this.handleErrorMessage(message);\r\n  }\r\n\r\n  private handleAuthMessages(message: WebSocketMessage<unknown>): void {\r\n    if (isWebSocketMessageWithPayload<UserLoginResponsePayload>(message, 'USER_LOGIN', 'user')) {\r\n      this.handleLogin(message.payload.user);\r\n      return;\r\n    }\r\n\r\n    if (isWebSocketMessageWithPayload<UserLogoutResponsePayload>(message, 'USER_LOGOUT', 'user')) {\r\n      this.handleLogout(message.payload.user);\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isWebSocketMessageWithPayload<UserLoginResponsePayload>(\r\n        message,\r\n        'USER_EXTERNAL_LOGIN',\r\n        'user'\r\n      )\r\n    ) {\r\n      this.handleOtherUserLogin(message.payload.user);\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isWebSocketMessageWithPayload<UserLoginResponsePayload>(\r\n        message,\r\n        'USER_EXTERNAL_LOGOUT',\r\n        'user'\r\n      )\r\n    ) {\r\n      this.handleOtherUsersLogout(message.payload.user);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleUserMessages(message: WebSocketMessage<unknown>): void {\r\n    this.handleUserStatusMessages(message);\r\n    this.handleMessageDeliveryMessages(message);\r\n    this.handleMessageStatusMessages(message);\r\n  }\r\n\r\n  private handleUserStatusMessages(message: WebSocketMessage<unknown>): void {\r\n    if (isWebSocketMessageWithPayload<UserActiveResponsePayload>(message, 'USER_ACTIVE', 'users')) {\r\n      this.handleActiveUsers(message.payload.users);\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isWebSocketMessageWithPayload<UserInactiveResponsePayload>(message, 'USER_INACTIVE', 'users')\r\n    ) {\r\n      this.handleInactiveUsers(message.payload.users);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleMessageDeliveryMessages(message: WebSocketMessage<unknown>): void {\r\n    if (\r\n      isWebSocketMessageWithPayload<{ messages: UserMessage[] }>(\r\n        message,\r\n        'MSG_FROM_USER',\r\n        'messages'\r\n      )\r\n    ) {\r\n      this.handleMessageHistory(message.payload.messages);\r\n      return;\r\n    }\r\n\r\n    if (isWebSocketMessageWithPayload<UserMessageResponsePayload>(message, 'MSG_SEND', 'message')) {\r\n      this.handleUserMessageSent(message.payload.message);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleMessageStatusMessages(message: WebSocketMessage<unknown>): void {\r\n    if (\r\n      isWebSocketMessageWithPayload<UserMessageDeleteResponsePayload>(\r\n        message,\r\n        'MSG_DELETE',\r\n        'message'\r\n      )\r\n    ) {\r\n      this.handleMessageDelete(message.payload.message);\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isWebSocketMessageWithPayload<UserMessageEditResponsePayload>(message, 'MSG_EDIT', 'message')\r\n    ) {\r\n      this.handleMessageEdit(message.payload.message);\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isWebSocketMessageWithPayload<UserMessageDeliveryResponsePayload>(\r\n        message,\r\n        'MSG_DELIVER',\r\n        'message'\r\n      )\r\n    ) {\r\n      this.handleMessageDelivered(message.payload.message);\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isWebSocketMessageWithPayload<UserMessageReadResponsePayload>(message, 'MSG_READ', 'message')\r\n    ) {\r\n      this.handleMessageRead(message.payload.message);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleErrorMessage(message: WebSocketMessage<unknown>): void {\r\n    if (isWebSocketMessageWithPayload<ErrorResponsePayload>(message, 'ERROR', 'error')) {\r\n      this.handleError(message.payload);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleLogin(user: User): void {\r\n    if (this) {\r\n      this.currentUser = {\r\n        login: user.login,\r\n        password: this.userPassword,\r\n      };\r\n      for (const handler of this.loginHandlers) handler(user);\r\n    }\r\n  }\r\n\r\n  private handleLogout(user: User): void {\r\n    if (this) {\r\n      this.currentUser = null;\r\n      for (const handler of this.logoutHandlers) handler(user);\r\n      document.dispatchEvent(new CustomEvent('userLogout'));\r\n    }\r\n  }\r\n\r\n  private handleError(error: ErrorResponsePayload): void {\r\n    if (this) {\r\n      console.error('Error received:', error);\r\n      const modal = new ServerErrorModal(error.error.toUpperCase());\r\n      modal.open();\r\n    }\r\n  }\r\n\r\n  private handleOtherUserLogin(user: User): void {\r\n    if (this.otherUsersLoginHandler) {\r\n      this.otherUsersLoginHandler(user);\r\n    }\r\n  }\r\n\r\n  private handleOtherUsersLogout(user: User): void {\r\n    if (this.otherUsersLogoutHandler) {\r\n      this.otherUsersLogoutHandler(user);\r\n    }\r\n  }\r\n\r\n  private handleActiveUsers(users: User[]): void {\r\n    if (this.activeUsersHandler) {\r\n      this.activeUsersHandler(users);\r\n    }\r\n  }\r\n\r\n  private handleInactiveUsers(users: User[]): void {\r\n    if (this.inactiveUsersHandler) {\r\n      this.inactiveUsersHandler(users);\r\n    }\r\n  }\r\n\r\n  private handleUserMessageSent(message: UserMessage): void {\r\n    if (this) {\r\n      for (const handler of this.userMessageHandlers) {\r\n        handler(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleMessageHistory(messages: UserMessage[]): void {\r\n    if (this) {\r\n      for (const handler of this.messageHistoryHandlers) {\r\n        handler(messages);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleMessageDelete(message: MessageDeleteStatus): void {\r\n    if (this) {\r\n      for (const handler of this.messageDeleteHandlers) {\r\n        handler(message);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleMessageEdit(message: MessageEditStatus): void {\r\n    if (this.messageEditHandler) {\r\n      this.messageEditHandler(message);\r\n    }\r\n  }\r\n\r\n  private handleMessageDelivered(message: MessageDeliveryStatus): void {\r\n    if (this.messageDeliverHandler) {\r\n      this.messageDeliverHandler(message);\r\n    }\r\n  }\r\n\r\n  private handleMessageRead(message: MessageReadStatus): void {\r\n    if (this) {\r\n      for (const handler of this.messageReadHandlers) {\r\n        handler(message);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { ButtonBuilder } from '@/utils/button-builder';\r\n\r\nimport { Component } from '../base/component';\r\n\r\nexport class Button extends Component {\r\n  protected button: ButtonBuilder;\r\n\r\n  constructor(parameters: { className: string[]; textContent: string; callback: () => void }) {\r\n    super({ tag: 'div', className: 'button-container' });\r\n    this.button = new ButtonBuilder({\r\n      tag: 'button',\r\n      type: 'button',\r\n      className: ['button', ...parameters.className],\r\n      textContent: parameters.textContent,\r\n      callback: parameters.callback,\r\n    });\r\n    this.render();\r\n  }\r\n\r\n  public disable(): void {\r\n    this.button.disableButton();\r\n  }\r\n\r\n  public enable(): void {\r\n    this.button.enableButton();\r\n  }\r\n\r\n  protected render(): void {\r\n    this.container.append(this.button.getElement());\r\n  }\r\n}\r\n","import { Component } from '@/components/base/component';\r\nimport { BUTTON_TITLES, CHAT_TEXT } from '@/constants/constants';\r\nimport type { UserMessage } from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { InputBuilder } from '@/utils/input-builder';\r\nimport type { WebSocketService } from '@/websocket/websocket-service';\r\n\r\nimport { Button } from '../buttons/base-button';\r\n\r\nexport class ChatItem extends Component {\r\n  private message: UserMessage;\r\n  private wsService: WebSocketService;\r\n  private currentUser: string;\r\n  private contentContainer: HTMLElement;\r\n\r\n  constructor(message: UserMessage, wsService: WebSocketService) {\r\n    super({\r\n      tag: 'div',\r\n      className: 'chat-item',\r\n      attributes: {\r\n        'data-message-id': message.id,\r\n      },\r\n    });\r\n    this.message = message;\r\n    this.wsService = wsService;\r\n    this.currentUser = wsService.getCurrentUser()?.login || '';\r\n    this.contentContainer = ChatItem.createContentContainer();\r\n    this.render();\r\n    this.addEventListeners();\r\n  }\r\n\r\n  private static createContentContainer(): HTMLElement {\r\n    return new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__content-container',\r\n    }).getElement();\r\n  }\r\n\r\n  protected render(): void {\r\n    const messageContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className:\r\n        this.message.from === this.currentUser\r\n          ? ['chat-item__container', 'chat-item__container--own']\r\n          : ['chat-item__container'],\r\n    }).getElement();\r\n\r\n    this.contentContainer.append(this.createContent());\r\n\r\n    messageContainer.append(this.createHeader(), this.contentContainer, this.createFooter());\r\n\r\n    this.container.append(messageContainer);\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    this.wsService.setMessageDeleteHandler((deletedMessage) => {\r\n      if (deletedMessage.id === this.message.id) {\r\n        this.container.remove();\r\n      }\r\n    });\r\n\r\n    this.wsService.setMessageReadHandler((readMessage) => {\r\n      if (readMessage.id === this.message.id) {\r\n        this.message.status.isReaded = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  private createHeader(): HTMLElement {\r\n    const messageHeader = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__header',\r\n    }).getElement();\r\n\r\n    const messageSender = new ElementBuilder({\r\n      tag: 'span',\r\n      className: 'chat-item__sender',\r\n      textContent: this.message.from,\r\n    }).getElement();\r\n\r\n    const messageTime = new ElementBuilder({\r\n      tag: 'span',\r\n      className: 'chat-item__time',\r\n      textContent: new Date(this.message.datetime).toLocaleTimeString(),\r\n    }).getElement();\r\n\r\n    messageHeader.append(messageSender, messageTime);\r\n    return messageHeader;\r\n  }\r\n\r\n  private createContent(): HTMLElement {\r\n    const content = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__content',\r\n    }).getElement();\r\n\r\n    const text = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'chat-item__text',\r\n      textContent: this.message.text,\r\n    }).getElement();\r\n\r\n    content.append(text);\r\n\r\n    if (this.message.status.isEdited) {\r\n      const editedText = new ElementBuilder({\r\n        tag: 'div',\r\n        className: 'chat-item__edited',\r\n        textContent: CHAT_TEXT.editedMessage,\r\n      }).getElement();\r\n\r\n      content.append(text, editedText);\r\n    }\r\n\r\n    return content;\r\n  }\r\n\r\n  private createEditForm(): HTMLElement {\r\n    const form = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__edit-form',\r\n    }).getElement();\r\n\r\n    const input = new InputBuilder({\r\n      tag: 'input',\r\n      className: ['chat-list__input', 'input__field'],\r\n      type: 'text',\r\n      value: this.message.text,\r\n      placeholder: CHAT_TEXT.messagePlaceholder,\r\n    }).getElement();\r\n\r\n    const confirmButton = new Button({\r\n      className: ['button', 'button--confirm'],\r\n      textContent: '✓',\r\n      callback: (): void => {\r\n        if (input instanceof HTMLInputElement) this.confirmEditMessage(input.value);\r\n      },\r\n    }).getElement();\r\n\r\n    const cancelButton = new Button({\r\n      className: ['button', 'button--cancel'],\r\n      textContent: '✕',\r\n      callback: (): void => this.cancelEditMessage(),\r\n    }).getElement();\r\n\r\n    form.append(input, confirmButton, cancelButton);\r\n    return form;\r\n  }\r\n\r\n  private createStatusContainer(): HTMLElement {\r\n    const statusContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__status-container',\r\n    }).getElement();\r\n\r\n    if (!this.message.status.isDelivered) {\r\n      const notDeliveredStatus = new ElementBuilder({\r\n        tag: 'span',\r\n        className: 'chat-item__status-not-delivered',\r\n        textContent: CHAT_TEXT.notDeliveredMessage,\r\n      }).getElement();\r\n\r\n      statusContainer.append(notDeliveredStatus);\r\n    } else if (this.message.status.isReaded) {\r\n      const readStatus = new ElementBuilder({\r\n        tag: 'span',\r\n        className: 'chat-item__status-read',\r\n        textContent: CHAT_TEXT.readMessage,\r\n      }).getElement();\r\n\r\n      statusContainer.append(readStatus);\r\n    } else {\r\n      const deliveredStatus = new ElementBuilder({\r\n        tag: 'span',\r\n        className: 'chat-item__status-delivered',\r\n        textContent: CHAT_TEXT.deliveredMessage,\r\n      }).getElement();\r\n\r\n      statusContainer.append(deliveredStatus);\r\n    }\r\n\r\n    return statusContainer;\r\n  }\r\n\r\n  private createButtonsContainer(): HTMLElement {\r\n    const buttonsContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__buttons-container',\r\n    }).getElement();\r\n\r\n    const editButton = new Button({\r\n      className: ['button', 'button--edit'],\r\n      textContent: BUTTON_TITLES.edit,\r\n      callback: (): void => this.editMessage(),\r\n    }).getElement();\r\n\r\n    const deleteButton = new Button({\r\n      className: ['button', 'button--delete'],\r\n      textContent: BUTTON_TITLES.delete,\r\n      callback: (): void => this.deleteMessage(),\r\n    }).getElement();\r\n\r\n    buttonsContainer.append(editButton, deleteButton);\r\n    return buttonsContainer;\r\n  }\r\n\r\n  private createFooter(): HTMLElement {\r\n    const footer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-item__footer',\r\n    }).getElement();\r\n\r\n    if (this.message.from === this.currentUser) {\r\n      footer.append(this.createStatusContainer(), this.createButtonsContainer());\r\n    }\r\n\r\n    return footer;\r\n  }\r\n\r\n  private editMessage(): void {\r\n    while (this.contentContainer.firstChild) {\r\n      this.contentContainer.firstChild.remove();\r\n    }\r\n    const editForm = this.createEditForm();\r\n    this.contentContainer.append(editForm);\r\n  }\r\n\r\n  private cancelEditMessage(): void {\r\n    while (this.contentContainer.firstChild) {\r\n      this.contentContainer.firstChild.remove();\r\n    }\r\n    const content = this.createContent();\r\n    this.contentContainer.append(content);\r\n  }\r\n\r\n  private confirmEditMessage(newText: string): void {\r\n    if (newText.trim() === this.message.text) {\r\n      this.cancelEditMessage();\r\n      return;\r\n    }\r\n\r\n    if (newText.trim() === '') {\r\n      this.cancelEditMessage();\r\n      return;\r\n    }\r\n\r\n    this.wsService.editMessage(this.message.id, newText);\r\n    this.message.text = newText;\r\n    this.cancelEditMessage();\r\n  }\r\n\r\n  private deleteMessage(): void {\r\n    this.wsService.deleteMessage(this.message.id);\r\n  }\r\n}\r\n","import { Component } from '@/components/base/component';\r\nimport { CHAT_TEXT } from '@/constants/constants';\r\nimport { BUTTON_TITLES } from '@/constants/constants';\r\nimport type { UserItem, UserMessage } from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { InputBuilder } from '@/utils/input-builder';\r\nimport { WebSocketService } from '@/websocket/websocket-service';\r\n\r\nimport { Button } from '../buttons/base-button';\r\nimport { ChatItem } from './chat-item';\r\n\r\nexport class ChatList extends Component {\r\n  private messageContainer: HTMLElement;\r\n  private messageInput: InputBuilder;\r\n  private sendButton: Button;\r\n  private selectedUser: UserItem | null;\r\n  private wsService: WebSocketService;\r\n  private messages: UserMessage[] = [];\r\n  private unreadMessagesCount: Map<string, number> = new Map();\r\n  private isRead: boolean = false;\r\n  private isManualScrolling: boolean = false;\r\n\r\n  constructor() {\r\n    super({ tag: 'div', className: 'chat-list' });\r\n    this.wsService = WebSocketService.getInstance();\r\n    this.messageContainer = ChatList.createMessageContainer();\r\n    this.messageInput = ChatList.createMessageInput();\r\n    this.sendButton = this.createSendButton();\r\n    this.selectedUser = null;\r\n    this.render();\r\n    this.addEventListeners();\r\n    this.addWebSocketHandlers();\r\n  }\r\n\r\n  private static createMessageContainer(): HTMLElement {\r\n    return new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__list'],\r\n    }).getElement();\r\n  }\r\n\r\n  private static createMessageInput(): InputBuilder {\r\n    return new InputBuilder({\r\n      tag: 'input',\r\n      className: ['chat-list__input', 'input__field'],\r\n      type: 'text',\r\n      value: '',\r\n      placeholder: CHAT_TEXT.messagePlaceholder,\r\n      readonly: false,\r\n    });\r\n  }\r\n\r\n  private static createEmptyChat(): HTMLElement {\r\n    const emptyChat = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__empty'],\r\n    }).getElement();\r\n\r\n    const message = new ElementBuilder({\r\n      tag: 'p',\r\n      className: ['chat-list__empty-message'],\r\n      textContent: CHAT_TEXT.emptyChat,\r\n    }).getElement();\r\n\r\n    emptyChat.append(message);\r\n    return emptyChat;\r\n  }\r\n\r\n  private static createDividerLine(): HTMLElement {\r\n    const divider = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__divider'],\r\n    }).getElement();\r\n\r\n    const line = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__divider-line'],\r\n    }).getElement();\r\n\r\n    const text = new ElementBuilder({\r\n      tag: 'span',\r\n      className: ['chat-list__divider-text'],\r\n      textContent: CHAT_TEXT.dividerText,\r\n    }).getElement();\r\n\r\n    divider.append(line, text);\r\n    return divider;\r\n  }\r\n\r\n  public setSelectedUser(user: UserItem | null): void {\r\n    this.selectedUser = user;\r\n    this.isRead = false;\r\n    if (user) {\r\n      this.fetchMessageHistory(user.login);\r\n    } else {\r\n      this.messages = [];\r\n      this.renderMessages();\r\n    }\r\n    this.messageInput.setValue('');\r\n    this.messageInput.getElement().classList.remove('input__field--error');\r\n    this.render();\r\n  }\r\n\r\n  public getUnreadMessagesCounter(userLogin: string): number {\r\n    return this.unreadMessagesCount.get(userLogin) || 0;\r\n  }\r\n\r\n  public updateUnreadMessagesCounter(userLogin: string, newCount: number): void {\r\n    const currentMessagesCounter = this.unreadMessagesCount.get(userLogin) || 0;\r\n    const newMessagesCounter = currentMessagesCounter + newCount;\r\n\r\n    if (newCount === 0) {\r\n      this.unreadMessagesCount.delete(userLogin);\r\n    } else {\r\n      this.unreadMessagesCount.set(userLogin, newMessagesCounter);\r\n    }\r\n\r\n    document.dispatchEvent(new CustomEvent('unreadMessagesCounterUpdated'));\r\n  }\r\n\r\n  public countUnreadMessages(messages: UserMessage[]): void {\r\n    if (messages.length === 0) return;\r\n\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (!currentUser) return;\r\n\r\n    let unreadMessagesCounter = 0;\r\n    for (const message of messages) {\r\n      if (message.to === currentUser.login && !message.status.isReaded) {\r\n        unreadMessagesCounter += 1;\r\n      }\r\n    }\r\n\r\n    if (this.selectedUser) {\r\n      this.unreadMessagesCount.set(this.selectedUser.login, unreadMessagesCounter);\r\n    }\r\n\r\n    document.dispatchEvent(new CustomEvent('unreadMessagesCounterUpdated'));\r\n  }\r\n\r\n  protected render(): void {\r\n    while (this.container.firstChild) {\r\n      this.container.firstChild.remove();\r\n    }\r\n\r\n    const userInfo = this.createUserInfo();\r\n    this.container.append(userInfo);\r\n\r\n    const chatContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__container'],\r\n    }).getElement();\r\n\r\n    if (this.messageContainer.children.length === 0) {\r\n      const emptyChat = ChatList.createEmptyChat();\r\n      this.messageContainer.append(emptyChat);\r\n    }\r\n\r\n    chatContainer.append(this.messageContainer);\r\n\r\n    const chatControls = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__controls'],\r\n    }).getElement();\r\n\r\n    chatControls.append(this.messageInput.getElement(), this.sendButton.getElement());\r\n    chatContainer.append(chatControls);\r\n\r\n    this.container.append(chatContainer);\r\n  }\r\n\r\n  private fetchMessageHistory(userLogin: string): void {\r\n    this.wsService.fetchMessageHistory(userLogin);\r\n  }\r\n\r\n  private createUserInfo(): HTMLElement {\r\n    const userInfo = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat-list__user-info'],\r\n    }).getElement();\r\n\r\n    if (this.selectedUser) {\r\n      const userName = new ElementBuilder({\r\n        tag: 'span',\r\n        className: ['chat-list__username'],\r\n        textContent: this.selectedUser.login,\r\n      }).getElement();\r\n\r\n      const userStatus = new ElementBuilder({\r\n        tag: 'span',\r\n        className: [\r\n          'chat-list__user-status',\r\n          this.selectedUser.isOnline\r\n            ? 'chat-list__user-status--online'\r\n            : 'chat-list__user-status--offline',\r\n        ],\r\n        textContent: this.selectedUser.isOnline ? CHAT_TEXT.userOnline : CHAT_TEXT.userOffline,\r\n      }).getElement();\r\n\r\n      userInfo.append(userName, userStatus);\r\n    }\r\n\r\n    return userInfo;\r\n  }\r\n\r\n  private createSendButton(): Button {\r\n    return new Button({\r\n      className: ['button--send'],\r\n      textContent: BUTTON_TITLES.send,\r\n      callback: (): void => this.SendMessage(),\r\n    });\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    this.messageInput.getElement().addEventListener('keypress', (event) => {\r\n      if (event.key === 'Enter') {\r\n        this.SendMessage();\r\n      }\r\n    });\r\n\r\n    this.messageInput.getElement().addEventListener('input', () => {\r\n      this.messageInput.getElement().classList.remove('input__field--error');\r\n    });\r\n\r\n    this.messageInput.getElement().addEventListener('focus', () => {\r\n      this.messageInput.getElement().classList.remove('input__field--error');\r\n    });\r\n\r\n    this.messageContainer.addEventListener(\r\n      'wheel',\r\n      () => {\r\n        this.isManualScrolling = true;\r\n        this.ReadMessages();\r\n        setTimeout(() => {\r\n          this.isManualScrolling = false;\r\n        }, 1000);\r\n      },\r\n      { passive: true }\r\n    );\r\n\r\n    this.messageContainer.addEventListener('click', () => {\r\n      this.ReadMessages();\r\n    });\r\n\r\n    globalThis.addEventListener('popstate', () => {\r\n      this.setSelectedUser(null);\r\n    });\r\n\r\n    document.addEventListener('userLogout', () => {\r\n      this.messages = [];\r\n      this.unreadMessagesCount.clear();\r\n    });\r\n\r\n    document.addEventListener('connectionLost', () => {\r\n      this.messages = [];\r\n      this.unreadMessagesCount.clear();\r\n    });\r\n  }\r\n\r\n  private addUserMessageHandlers(): void {\r\n    this.wsService.setUserMessagesHandler((newMessage) => {\r\n      if (\r\n        this.selectedUser &&\r\n        (newMessage.from === this.selectedUser.login || newMessage.to === this.selectedUser.login)\r\n      ) {\r\n        const index = this.messages.find((previousMessage) => previousMessage.id === newMessage.id);\r\n        if (index === undefined) {\r\n          this.messages.push(newMessage);\r\n          if (this.isRead) {\r\n            this.ReadMessages();\r\n          }\r\n          this.renderMessages();\r\n        }\r\n      }\r\n    });\r\n\r\n    this.wsService.setMessageHistoryHandler((messages) => {\r\n      this.messages = messages;\r\n      this.renderMessages();\r\n\r\n      const currentUser = this.wsService.getCurrentUser();\r\n      if (currentUser) {\r\n        const unreadMessages = new Map<string, number>();\r\n        for (const message of messages) {\r\n          if (message.to === currentUser.login && !message.status.isReaded) {\r\n            const currentUnreadMessagesCount = unreadMessages.get(message.from) || 0;\r\n            unreadMessages.set(message.from, currentUnreadMessagesCount + 1);\r\n          }\r\n        }\r\n\r\n        for (const [sender, count] of unreadMessages.entries()) {\r\n          this.unreadMessagesCount.set(sender, count);\r\n        }\r\n        document.dispatchEvent(new CustomEvent('unreadMessagesCounterUpdated'));\r\n      }\r\n    });\r\n  }\r\n\r\n  private addUserMessageStatusHandlers(): void {\r\n    this.wsService.setMessageDeleteHandler((deletedMessage) => {\r\n      this.messages = this.messages.filter((message) => message.id !== deletedMessage.id);\r\n      this.renderMessages();\r\n    });\r\n\r\n    this.wsService.setMessageEditHandler((editedMessage) => {\r\n      const index = this.messages.findIndex((message) => message.id === editedMessage.id);\r\n      if (index !== -1) {\r\n        this.messages[index].text = editedMessage.text;\r\n        this.messages[index].status.isEdited = true;\r\n        this.renderMessages();\r\n      }\r\n    });\r\n\r\n    this.wsService.setMessageDeliverHandler((deliveredMessage) => {\r\n      const index = this.messages.findIndex((message) => message.id === deliveredMessage.id);\r\n      if (index !== -1) {\r\n        this.messages[index].status.isDelivered = true;\r\n        this.renderMessages();\r\n      }\r\n    });\r\n\r\n    this.wsService.setMessageReadHandler((readMessage) => {\r\n      const index = this.messages.findIndex((message) => message.id === readMessage.id);\r\n      if (index !== -1) {\r\n        this.messages[index].status.isReaded = true;\r\n        this.renderMessages();\r\n      }\r\n    });\r\n  }\r\n\r\n  private addWebSocketHandlers(): void {\r\n    this.addUserMessageHandlers();\r\n    this.addUserMessageStatusHandlers();\r\n  }\r\n\r\n  private renderMessages(): void {\r\n    while (this.messageContainer.firstChild) {\r\n      this.messageContainer.firstChild.remove();\r\n    }\r\n\r\n    if (this.messages.length === 0) {\r\n      const emptyChat = ChatList.createEmptyChat();\r\n      this.messageContainer.append(emptyChat);\r\n      return;\r\n    }\r\n\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (!currentUser) return;\r\n\r\n    let hasUnreadMessages = false;\r\n    let wasDividerShown = false;\r\n    let dividerElement: HTMLElement | null = null;\r\n\r\n    if (this.isRead) {\r\n      for (const message of this.messages) {\r\n        const chatItem = new ChatItem(message, this.wsService);\r\n        this.messageContainer.append(chatItem.getElement());\r\n      }\r\n    } else {\r\n      for (const message of this.messages) {\r\n        if (!wasDividerShown && message.to === currentUser.login && !message.status.isReaded) {\r\n          hasUnreadMessages = true;\r\n          const divider = ChatList.createDividerLine();\r\n          this.messageContainer.append(divider);\r\n          wasDividerShown = true;\r\n          dividerElement = divider;\r\n        }\r\n\r\n        const chatItem = new ChatItem(message, this.wsService);\r\n        this.messageContainer.append(chatItem.getElement());\r\n      }\r\n    }\r\n\r\n    if (hasUnreadMessages && dividerElement) {\r\n      dividerElement.scrollIntoView({ behavior: 'instant', block: 'start' });\r\n    } else {\r\n      if (!this.isManualScrolling) {\r\n        this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\r\n      }\r\n    }\r\n  }\r\n\r\n  private SendMessage(): void {\r\n    if (!this.selectedUser) return;\r\n\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (!currentUser) return;\r\n\r\n    const inputElement = this.messageInput.getElement();\r\n    if (inputElement instanceof HTMLInputElement) {\r\n      const message = inputElement.value.trim();\r\n      if (message.length === 0) {\r\n        inputElement.classList.add('input__field--error');\r\n        return;\r\n      }\r\n      this.wsService.sendMessage(this.selectedUser.login, message);\r\n      inputElement.value = '';\r\n      this.ReadMessages();\r\n      this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\r\n    }\r\n  }\r\n\r\n  private ReadMessages(): void {\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (!currentUser || !this.selectedUser) return;\r\n\r\n    const unreadMessages = this.messages.filter(\r\n      (message) =>\r\n        message.from === this.selectedUser?.login &&\r\n        message.to === currentUser.login &&\r\n        !message.status.isReaded\r\n    );\r\n\r\n    if (unreadMessages.length > 0) {\r\n      for (const message of unreadMessages) {\r\n        this.wsService.readMessage(message.id);\r\n      }\r\n    }\r\n\r\n    this.isRead = true;\r\n  }\r\n}\r\n","export default \"__VITE_ASSET__C1UODgkQ__\"","import chatPreviewImage from '@/assets/images/users.png';\r\nimport { Component } from '@/components/base/component';\r\nimport { CHAT_TEXT } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nexport class ChatPreview extends Component {\r\n  constructor() {\r\n    super({ tag: 'div', className: 'chat-preview' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const container = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'chat-preview__container',\r\n    }).getElement();\r\n\r\n    const icon = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'chat-preview__icon',\r\n      source: chatPreviewImage,\r\n      alt: 'Icons of several users',\r\n    }).getElement();\r\n\r\n    const message = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'chat-preview__message',\r\n      textContent: CHAT_TEXT.selectUserMessage,\r\n    }).getElement();\r\n\r\n    container.append(icon, message);\r\n    this.container.append(container);\r\n  }\r\n}\r\n","import { Component } from '@/components/base/component';\r\nimport type { UserItem } from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nexport class User extends Component {\r\n  private user: UserItem;\r\n  private selectUser?: (user: UserItem) => void;\r\n  private unreadMessagesCounter: number;\r\n\r\n  constructor(user: UserItem, callback?: (user: UserItem) => void, unreadCount: number = 0) {\r\n    super({ tag: 'div', className: 'user-list__user' });\r\n    this.user = user;\r\n    this.selectUser = callback;\r\n    this.unreadMessagesCounter = unreadCount;\r\n    this.render();\r\n    this.addEventListeners();\r\n  }\r\n\r\n  protected render(): void {\r\n    const username = new ElementBuilder({\r\n      tag: 'span',\r\n      className: ['user-list__username'],\r\n      textContent: this.user.login,\r\n    }).getElement();\r\n\r\n    const status = new ElementBuilder({\r\n      tag: 'div',\r\n      className: [\r\n        'user-list__status',\r\n        this.user.isOnline ? 'user-list__status--online' : 'user-list__status--offline',\r\n      ],\r\n    }).getElement();\r\n\r\n    this.container.append(status, username);\r\n\r\n    if (this.unreadMessagesCounter > 0) {\r\n      const unreadMessages = new ElementBuilder({\r\n        tag: 'div',\r\n        className: ['user-list__unread-messages'],\r\n        textContent: this.unreadMessagesCounter > 9 ? '9+' : this.unreadMessagesCounter.toString(),\r\n      }).getElement();\r\n      this.container.append(unreadMessages);\r\n    }\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    this.container.addEventListener('click', () => {\r\n      if (this.selectUser) {\r\n        this.selectUser(this.user);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Component } from '@/components/base/component';\r\nimport { CHAT_TEXT } from '@/constants/constants';\r\nimport type {\r\n  MessageDeleteStatus,\r\n  MessageReadStatus,\r\n  User as UserType,\r\n  UserActiveResponsePayload,\r\n  UserInactiveResponsePayload,\r\n  UserItem,\r\n  UserMessage,\r\n} from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { InputBuilder } from '@/utils/input-builder';\r\nimport { WebSocketService } from '@/websocket/websocket-service';\r\n\r\nimport type { ChatList } from './chat-list';\r\nimport { User } from './user-item';\r\n\r\nexport class UserList extends Component {\r\n  private users: Map<string, UserItem> = new Map();\r\n  private searchInput: InputBuilder;\r\n  private userListContainer: HTMLElement;\r\n  private wsService: WebSocketService;\r\n  private chatList?: ChatList;\r\n  private selectedUser: UserItem | null = null;\r\n  private messages: Map<string, UserMessage> = new Map();\r\n\r\n  constructor() {\r\n    super({ tag: 'div', className: 'user-list' });\r\n    this.wsService = WebSocketService.getInstance();\r\n    this.searchInput = UserList.createSearchInput();\r\n    this.userListContainer = UserList.createUserListContainer();\r\n    this.addWebSocketHandlers();\r\n    this.addEventListeners();\r\n    this.render();\r\n    this.requestMessageHistory();\r\n  }\r\n\r\n  private static createUserListContainer(): HTMLElement {\r\n    return new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['user-list__list'],\r\n    }).getElement();\r\n  }\r\n\r\n  private static createSearchInput(): InputBuilder {\r\n    return new InputBuilder({\r\n      tag: 'input',\r\n      className: ['user-list__input', 'input__field'],\r\n      type: 'text',\r\n      value: '',\r\n      placeholder: CHAT_TEXT.searchPlaceholder,\r\n      readonly: false,\r\n    });\r\n  }\r\n\r\n  public setChatList(chatList: ChatList): void {\r\n    this.chatList = chatList;\r\n  }\r\n\r\n  protected render(): void {\r\n    this.container.append(this.searchInput.getElement(), this.userListContainer);\r\n  }\r\n\r\n  private selectUser(user: UserItem): void {\r\n    this.selectedUser = user;\r\n    if (this.chatList) {\r\n      this.chatList.setSelectedUser(user);\r\n      const event = new CustomEvent('userSelected', { bubbles: true });\r\n      this.container.dispatchEvent(event);\r\n    }\r\n    this.searchInput.setValue('');\r\n    this.renderUsers();\r\n  }\r\n\r\n  private addWebSocketHandlers(): void {\r\n    this.wsService.setLoginHandler((user) => {\r\n      this.handleUserLogin(user);\r\n      this.wsService.requestAllUsers();\r\n    });\r\n    this.wsService.setLogoutHandler(this.handleUserLogout.bind(this));\r\n    this.wsService.setOtherUsersLoginHandler(this.handleUserLogin.bind(this));\r\n    this.wsService.setOtherUsersLogoutHandler(this.handleUserLogout.bind(this));\r\n    this.wsService.setActiveUsersHandler(this.handleActiveUsers.bind(this));\r\n    this.wsService.setInactiveUsersHandler(this.handleInactiveUsers.bind(this));\r\n    this.wsService.setMessageHistoryHandler(this.handleMessageHistory.bind(this));\r\n    this.wsService.setUserMessagesHandler(this.handleUserMessage.bind(this));\r\n    this.wsService.setMessageDeleteHandler(this.handleMessageDelete.bind(this));\r\n    this.wsService.setMessageReadHandler(this.handleMessageRead.bind(this));\r\n  }\r\n\r\n  private handleUserLogin(user: UserType): void {\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (user.login !== currentUser?.login) {\r\n      this.users.set(user.login, { login: user.login, isOnline: true });\r\n      if (this.selectedUser && user.login === this.selectedUser.login && this.chatList) {\r\n        this.chatList.setSelectedUser({ ...this.selectedUser, isOnline: true });\r\n      }\r\n      this.renderUsers();\r\n    }\r\n  }\r\n\r\n  private handleUserLogout(user: UserType): void {\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (user.login !== currentUser?.login) {\r\n      this.users.set(user.login, { login: user.login, isOnline: false });\r\n      if (this.selectedUser && user.login === this.selectedUser.login && this.chatList) {\r\n        this.chatList.setSelectedUser({ ...this.selectedUser, isOnline: false });\r\n      }\r\n      this.renderUsers();\r\n    }\r\n  }\r\n\r\n  private handleActiveUsers(users: UserActiveResponsePayload['users']): void {\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    this.users.clear();\r\n    const otherUsers = users.filter((user) => user.login !== currentUser?.login);\r\n    for (const user of otherUsers) {\r\n      this.users.set(user.login, { login: user.login, isOnline: true });\r\n    }\r\n    this.renderUsers();\r\n    this.requestMessageHistory();\r\n  }\r\n\r\n  private handleInactiveUsers(users: UserInactiveResponsePayload['users']): void {\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    const otherUsers = users.filter((user) => user.login !== currentUser?.login);\r\n    for (const user of otherUsers) {\r\n      this.users.set(user.login, { login: user.login, isOnline: false });\r\n    }\r\n    this.renderUsers();\r\n  }\r\n\r\n  private handleMessageHistory(messages: UserMessage[]): void {\r\n    if (this.chatList) {\r\n      this.chatList.countUnreadMessages(messages);\r\n    }\r\n    for (const message of messages) this.messages.set(message.id, message);\r\n  }\r\n\r\n  private handleUserMessage(message: UserMessage): void {\r\n    if (this.chatList && !message.status.isReaded) {\r\n      this.chatList.updateUnreadMessagesCounter(message.from, 1);\r\n    }\r\n    this.messages.set(message.id, message);\r\n  }\r\n\r\n  private handleMessageDelete(deletedMessage: MessageDeleteStatus): void {\r\n    const previousMessage = this.messages.get(deletedMessage.id);\r\n    if (previousMessage && !previousMessage.status.isReaded) {\r\n      this.chatList?.updateUnreadMessagesCounter(previousMessage.from, -1);\r\n    }\r\n    this.messages.delete(deletedMessage.id);\r\n  }\r\n\r\n  private handleMessageRead(readMessage: MessageReadStatus): void {\r\n    const message = this.messages.get(readMessage.id);\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (message && !message.status.isReaded && message.to === currentUser?.login) {\r\n      this.chatList?.updateUnreadMessagesCounter(message.from, -1);\r\n      message.status.isReaded = true;\r\n    }\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    this.searchInput.getElement().addEventListener('input', () => this.filterUsers());\r\n\r\n    document.addEventListener('connectionLost', () => {\r\n      this.selectedUser = null;\r\n      this.messages.clear();\r\n      if (this.chatList) {\r\n        this.chatList.setSelectedUser(null);\r\n      }\r\n      this.renderUsers();\r\n    });\r\n\r\n    document.addEventListener('userLogout', () => {\r\n      this.selectedUser = null;\r\n      this.messages.clear();\r\n      if (this.chatList) {\r\n        this.chatList.setSelectedUser(null);\r\n      }\r\n      this.renderUsers();\r\n    });\r\n\r\n    document.addEventListener('unreadMessagesCounterUpdated', () => {\r\n      this.renderUsers();\r\n    });\r\n\r\n    globalThis.addEventListener('popstate', () => {\r\n      this.selectedUser = null;\r\n      if (this.chatList) {\r\n        this.chatList.setSelectedUser(null);\r\n      }\r\n      this.renderUsers();\r\n    });\r\n  }\r\n\r\n  private filterUsers(): void {\r\n    const searchTerm = this.searchInput.getValue().toLowerCase();\r\n    const filteredUsers = [...this.users.values()].filter((user) =>\r\n      user.login.toLowerCase().includes(searchTerm)\r\n    );\r\n    this.renderUsers(filteredUsers);\r\n  }\r\n\r\n  private renderUsers(users?: UserItem[]): void {\r\n    while (this.userListContainer.firstChild) {\r\n      this.userListContainer.firstChild.remove();\r\n    }\r\n\r\n    const searchTerm = this.searchInput.getValue().toLowerCase();\r\n    const renderedUsers = users || [...this.users.values()];\r\n    const filteredUsers = searchTerm\r\n      ? renderedUsers.filter((user) => user.login.toLowerCase().includes(searchTerm))\r\n      : renderedUsers;\r\n\r\n    if (filteredUsers.length === 0) {\r\n      const noOtherUsersMessage = new ElementBuilder({\r\n        tag: 'p',\r\n        className: 'user-list__no-other-users',\r\n        textContent: CHAT_TEXT.noOtherUser,\r\n      }).getElement();\r\n      this.userListContainer.append(noOtherUsersMessage);\r\n      return;\r\n    }\r\n\r\n    for (const user of filteredUsers) {\r\n      const unreadCount = this.chatList?.getUnreadMessagesCounter(user.login) || 0;\r\n      const userElement = new User(user, this.selectUser.bind(this), unreadCount).getElement();\r\n\r\n      if (this.selectedUser && this.selectedUser.login === user.login) {\r\n        userElement.classList.add('user-list__user--selected');\r\n      }\r\n\r\n      this.userListContainer.append(userElement);\r\n    }\r\n  }\r\n\r\n  private requestMessageHistory(): void {\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    if (currentUser) {\r\n      for (const user of this.users.values()) {\r\n        this.wsService.fetchMessageHistory(user.login);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@/components/base/component';\r\nimport { ChatList } from '@/components/chat/chat-list';\r\nimport { ChatPreview } from '@/components/chat/chat-preview';\r\nimport { UserList } from '@/components/chat/user-list';\r\nimport { PAGE_TITLES } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nexport class ChatPage extends Component {\r\n  private userList: UserList;\r\n  private chatList: ChatList;\r\n  private chatPreview: ChatPreview;\r\n  private showPreview: boolean;\r\n\r\n  constructor() {\r\n    super({ tag: 'main', className: 'chat' });\r\n    this.userList = new UserList();\r\n    this.chatList = new ChatList();\r\n    this.chatPreview = new ChatPreview();\r\n    this.showPreview = true;\r\n\r\n    this.userList.setChatList(this.chatList);\r\n\r\n    this.render();\r\n    this.addEventListeners();\r\n  }\r\n\r\n  protected render(): void {\r\n    const title = new ElementBuilder({\r\n      tag: 'h1',\r\n      className: ['chat__title'],\r\n      textContent: PAGE_TITLES.chat,\r\n    }).getElement();\r\n\r\n    const content = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['chat__content'],\r\n    }).getElement();\r\n\r\n    content.append(this.userList.getElement());\r\n    content.append(this.showPreview ? this.chatPreview.getElement() : this.chatList.getElement());\r\n\r\n    while (this.container.firstChild) {\r\n      this.container.firstChild.remove();\r\n    }\r\n    this.container.append(title, content);\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    this.container.addEventListener('userSelected', () => {\r\n      this.showPreview = false;\r\n      this.render();\r\n    });\r\n\r\n    document.addEventListener('connectionLost', () => {\r\n      this.showPreview = true;\r\n      this.render();\r\n    });\r\n\r\n    document.addEventListener('userLogout', () => {\r\n      this.showPreview = true;\r\n      this.render();\r\n    });\r\n\r\n    globalThis.addEventListener('popstate', () => {\r\n      this.showPreview = true;\r\n      this.render();\r\n    });\r\n  }\r\n}\r\n","import type { ActionHandler } from '@/types/enums';\r\nimport { Route } from '@/types/enums';\r\n\r\nexport class Router {\r\n  private routes: Map<Route, ActionHandler>;\r\n  private loginRoute: Route;\r\n\r\n  constructor(loginRoute: Route) {\r\n    this.routes = new Map();\r\n    this.loginRoute = loginRoute;\r\n\r\n    this.setDefaultRoute();\r\n    this.setEventListeners();\r\n  }\r\n\r\n  public static followRoute(route: Route): void {\r\n    globalThis.location.hash = route;\r\n  }\r\n\r\n  private static checkRouteValidity(hash: string): hash is Route {\r\n    const validRoutes = new Set<string>([Route.Login, Route.About, Route.Chat, Route.Error]);\r\n    return validRoutes.has(hash);\r\n  }\r\n\r\n  public addRoute(route: Route, handler: ActionHandler): void {\r\n    this.routes.set(route, handler);\r\n  }\r\n\r\n  private setDefaultRoute(): void {\r\n    if (!globalThis.location.hash) {\r\n      globalThis.location.hash = this.loginRoute;\r\n    }\r\n  }\r\n\r\n  private setEventListeners(): void {\r\n    globalThis.addEventListener('hashchange', () => this.handleRoute());\r\n    window.addEventListener('load', () => this.handleRoute());\r\n  }\r\n\r\n  private handleRoute(): void {\r\n    const currentHash = globalThis.location.hash || this.loginRoute;\r\n    const route = Router.checkRouteValidity(currentHash) ? currentHash : Route.Error;\r\n    const handler = this.routes.get(route);\r\n\r\n    if (handler) {\r\n      handler();\r\n    } else {\r\n      globalThis.location.hash = this.loginRoute;\r\n    }\r\n  }\r\n}\r\n","export default \"__VITE_ASSET__DYwGXyup__\"","import { Component } from '@/components/base/component';\r\nimport { Button } from '@/components/buttons/base-button';\r\nimport { ERROR_PAGE_MESSAGE, PAGE_TITLES } from '@/constants/constants';\r\nimport { BUTTON_TITLES } from '@/constants/constants';\r\nimport { Router } from '@/router/router';\r\nimport { Route } from '@/types/enums';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nimport error from '../assets/svg/404.svg';\r\n\r\nexport class ErrorPage extends Component {\r\n  constructor() {\r\n    super({ tag: 'main', className: 'error' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const errorSection = new ElementBuilder({\r\n      tag: 'div',\r\n      className: ['error__container'],\r\n    }).getElement();\r\n\r\n    const errorImage = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'error__image',\r\n      source: error,\r\n      alt: '404 Error Page Image',\r\n    }).getElement();\r\n\r\n    const heading = new ElementBuilder({\r\n      tag: 'h2',\r\n      className: ['error__heading'],\r\n      textContent: PAGE_TITLES.error,\r\n    }).getElement();\r\n\r\n    const message = new ElementBuilder({\r\n      tag: 'p',\r\n      className: ['error__message'],\r\n      textContent: ERROR_PAGE_MESSAGE,\r\n    }).getElement();\r\n\r\n    const homeButton = new Button({\r\n      className: ['button--homepage'],\r\n      textContent: BUTTON_TITLES.home,\r\n      callback: (): void => Router.followRoute(Route.Login),\r\n    }).getElement();\r\n\r\n    errorSection.append(heading, errorImage, message, homeButton);\r\n    this.container.append(errorSection);\r\n  }\r\n}\r\n","import { ERROR_TEXT, SIGNIN_FORM, TOOLTIP_TEXT } from '@/constants/constants';\r\nimport { BUTTON_TITLES } from '@/constants/constants';\r\nimport { Router } from '@/router/router';\r\nimport { Route } from '@/types/enums';\r\nimport type { InputParameters } from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { InputBuilder } from '@/utils/input-builder';\r\nimport { WebSocketService } from '@/websocket/websocket-service';\r\n\r\nimport { Component } from '../base/component';\r\nimport { Button } from '../buttons/base-button';\r\n\r\nexport class AuthorizationForm extends Component {\r\n  private usernameInput: InputBuilder;\r\n  private passwordInput: InputBuilder;\r\n  private usernameError: HTMLElement;\r\n  private passwordError: HTMLElement;\r\n  private wsService: WebSocketService;\r\n\r\n  constructor() {\r\n    super({ tag: 'form', className: 'auth-form' });\r\n    this.wsService = WebSocketService.getInstance();\r\n    this.wsService.setLoginHandler(AuthorizationForm.loginUser.bind(this));\r\n    this.usernameInput = AuthorizationForm.createFieldInput(\r\n      SIGNIN_FORM.usernamePlaceholder,\r\n      'text'\r\n    );\r\n    this.passwordInput = AuthorizationForm.createFieldInput(\r\n      SIGNIN_FORM.passwordPlaceholder,\r\n      'password'\r\n    );\r\n    this.usernameError = AuthorizationForm.createError(ERROR_TEXT.username);\r\n    this.passwordError = AuthorizationForm.createError(ERROR_TEXT.password);\r\n    this.render();\r\n  }\r\n\r\n  private static createFieldInput(\r\n    placeholder: string,\r\n    inputType: InputParameters['type']\r\n  ): InputBuilder {\r\n    const fieldInput = new InputBuilder({\r\n      tag: 'input',\r\n      className: ['auth-form__input', 'input__field'],\r\n      type: inputType,\r\n      value: '',\r\n      placeholder,\r\n      readonly: false,\r\n      attributes:\r\n        inputType === 'password'\r\n          ? { autocomplete: 'current-password' }\r\n          : { autocomplete: 'username' },\r\n    });\r\n\r\n    return fieldInput;\r\n  }\r\n\r\n  private static createTooltip(tooltipText: string): HTMLElement {\r\n    const tooltipIcon = new ElementBuilder({\r\n      tag: 'span',\r\n      className: 'auth-form__tooltip-icon',\r\n      textContent: '?',\r\n    }).getElement();\r\n\r\n    const tooltip = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'auth-form__tooltip',\r\n      textContent: tooltipText,\r\n    }).getElement();\r\n\r\n    tooltipIcon.addEventListener('mouseenter', () => {\r\n      tooltip.style.display = 'block';\r\n    });\r\n    tooltipIcon.addEventListener('mouseleave', () => {\r\n      tooltip.style.display = 'none';\r\n    });\r\n\r\n    tooltipIcon.append(tooltip);\r\n\r\n    return tooltipIcon;\r\n  }\r\n\r\n  private static createError(errorText: string): HTMLElement {\r\n    const error = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'auth-form__error',\r\n      textContent: errorText,\r\n    }).getElement();\r\n\r\n    return error;\r\n  }\r\n\r\n  private static validateUsername(username: string): boolean {\r\n    return username.length >= 5 && username.length <= 15;\r\n  }\r\n\r\n  private static validatePassword(password: string): boolean {\r\n    return (\r\n      password.length >= 8 &&\r\n      password.length <= 20 &&\r\n      /[A-Z]/.test(password) &&\r\n      /\\d/.test(password) &&\r\n      /[^\\dA-Za-z]/.test(password)\r\n    );\r\n  }\r\n\r\n  private static loginUser(): void {\r\n    Router.followRoute(Route.Chat);\r\n  }\r\n\r\n  protected render(): void {\r\n    const usernameField = this.createUsernameField();\r\n    const passwordField = this.createPasswordField();\r\n    const signinButton = new Button({\r\n      className: ['button--signin'],\r\n      textContent: BUTTON_TITLES.signin,\r\n      callback: (): void => this.handleSignin(),\r\n    });\r\n\r\n    signinButton.getElement().addEventListener('click', (event) => {\r\n      event.preventDefault();\r\n    });\r\n\r\n    this.container.append(usernameField, passwordField, signinButton.getElement());\r\n  }\r\n\r\n  private createUsernameField(): HTMLElement {\r\n    const usernameItem = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'auth-form__item',\r\n    }).getElement();\r\n\r\n    const usernameLabelContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'auth-form__field-container',\r\n    }).getElement();\r\n\r\n    const usernameLabel = new ElementBuilder({\r\n      tag: 'label',\r\n      className: 'auth-form__label',\r\n      textContent: SIGNIN_FORM.username,\r\n    }).getElement();\r\n\r\n    const tooltip = AuthorizationForm.createTooltip(TOOLTIP_TEXT.username);\r\n\r\n    usernameLabelContainer.append(usernameLabel, tooltip);\r\n\r\n    usernameItem.append(\r\n      usernameLabelContainer,\r\n      this.usernameInput.getElement(),\r\n      this.usernameError\r\n    );\r\n\r\n    this.usernameInput.getElement().addEventListener('click', () => {\r\n      this.usernameInput.getElement().classList.remove('input__field--error');\r\n      this.usernameError.classList.remove('auth-form__error--visible');\r\n    });\r\n\r\n    return usernameItem;\r\n  }\r\n\r\n  private createPasswordField(): HTMLElement {\r\n    const passwordItem = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'auth-form__item',\r\n    }).getElement();\r\n\r\n    const passwordLabelContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'auth-form__field-container',\r\n    }).getElement();\r\n\r\n    const passwordLabel = new ElementBuilder({\r\n      tag: 'label',\r\n      className: 'auth-form__label',\r\n      textContent: SIGNIN_FORM.password,\r\n    }).getElement();\r\n\r\n    const tooltip = AuthorizationForm.createTooltip(TOOLTIP_TEXT.password);\r\n\r\n    passwordLabelContainer.append(passwordLabel, tooltip);\r\n\r\n    passwordItem.append(\r\n      passwordLabelContainer,\r\n      this.passwordInput.getElement(),\r\n      this.passwordError\r\n    );\r\n\r\n    this.passwordInput.getElement().addEventListener('click', () => {\r\n      this.passwordInput.getElement().classList.remove('input__field--error');\r\n      this.passwordError.classList.remove('auth-form__error--visible');\r\n    });\r\n\r\n    return passwordItem;\r\n  }\r\n\r\n  private handleSignin(): void {\r\n    const usernameValue = this.usernameInput.getValue();\r\n    const passwordValue = this.passwordInput.getValue();\r\n\r\n    if (AuthorizationForm.validateUsername(usernameValue)) {\r\n      this.usernameError.classList.remove('auth-form__error--visible');\r\n      this.usernameInput.getElement().classList.remove('input__field--error');\r\n    } else {\r\n      this.usernameError.classList.add('auth-form__error--visible');\r\n      this.usernameInput.getElement().classList.add('input__field--error');\r\n      return;\r\n    }\r\n\r\n    if (AuthorizationForm.validatePassword(passwordValue)) {\r\n      this.passwordError.classList.remove('auth-form__error--visible');\r\n      this.passwordInput.getElement().classList.remove('input__field--error');\r\n    } else {\r\n      this.passwordError.classList.add('auth-form__error--visible');\r\n      this.passwordInput.getElement().classList.add('input__field--error');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.wsService.sendLoginRequest(usernameValue, passwordValue);\r\n    } catch (error) {\r\n      console.error('Login request error:', error);\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@/components/base/component';\r\nimport { AuthorizationForm } from '@/components/forms/authorization-form';\r\nimport { PAGE_TITLES } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nexport class LoginPage extends Component {\r\n  private authForm: AuthorizationForm = new AuthorizationForm();\r\n\r\n  constructor() {\r\n    super({ tag: 'main', className: 'login' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const title = new ElementBuilder({\r\n      tag: 'h1',\r\n      className: ['login__title'],\r\n      textContent: PAGE_TITLES.login,\r\n    }).getElement();\r\n\r\n    this.container.append(title, this.authForm.getElement());\r\n  }\r\n}\r\n","import type { LinkParameters } from '@/types/interfaces';\r\n\r\nimport { ElementBuilder } from './element-builder';\r\n\r\nexport class LinkBuilder extends ElementBuilder {\r\n  constructor(parameters: LinkParameters) {\r\n    super({ ...parameters });\r\n    this.applyURL(parameters.href);\r\n    this.applyTarget(parameters.target);\r\n  }\r\n\r\n  private applyURL(url: string): void {\r\n    if (url && this.element instanceof HTMLAnchorElement) {\r\n      this.element.href = url;\r\n    }\r\n  }\r\n\r\n  private applyTarget(target: LinkParameters['target']): void {\r\n    if (target && this.element instanceof HTMLAnchorElement) {\r\n      this.element.target = target;\r\n    }\r\n  }\r\n}\r\n","import { AUTHOR_NAME, COPYRIGHT_TEXT, GITHUB_URL } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { LinkBuilder } from '@/utils/link-builder';\r\n\r\nimport { Component } from '../base/component';\r\n\r\nexport class Copyright extends Component {\r\n  constructor() {\r\n    super({ tag: 'div', className: 'footer__copyright' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const copyrightText = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'copyright__text',\r\n      textContent: `${COPYRIGHT_TEXT} `,\r\n    }).getElement();\r\n\r\n    const githubLink = new LinkBuilder({\r\n      tag: 'a',\r\n      className: ['footer__link', 'footer__link--copyright'],\r\n      textContent: AUTHOR_NAME,\r\n      href: GITHUB_URL,\r\n      target: '_blank',\r\n    }).getElement();\r\n\r\n    this.container.append(githubLink, copyrightText);\r\n  }\r\n}\r\n","export default \"data:image/svg+xml,%3csvg%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_5701_38384)'%3e%3ccircle%20cx='32'%20cy='32'%20r='32'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13%2021.5095V42.5L19.3067%2042.4621V33.9474C20.0567%2033.9474%2020.7616%2033.9775%2021.4049%2034.4267C21.8946%2034.8785%2022.2838%2035.4335%2022.546%2036.054L25.9202%2042.4621H33C31.5957%2039.6675%2030.4706%2036.1327%2028.0552%2034.0104C27.5455%2033.6749%2026.9919%2033.4158%2026.411%2033.241C27.1873%2033.0779%2027.9357%2032.7973%2028.6319%2032.4084C30.3855%2031.3375%2031.3915%2029.3808%2031.3436%2027.3374C31.3798%2026.1328%2031.0495%2024.9466%2030.3988%2023.9441C28.9256%2021.6883%2025.9337%2021.4213%2023.4663%2021.5095H13ZM21.9939%2030.0116H19.3313V25.6975H22.1043C23.4807%2025.5594%2025.1814%2026.1754%2025.0859%2027.8041C25.1499%2029.5621%2023.3647%2029.9127%2021.9939%2030.0116Z'%20fill='%23FFB749'/%3e%3cpath%20d='M39.4768%2035.089L33%2035.4666C33.1262%2037.3671%2034.0021%2039.16%2035.4636%2040.5088C36.9117%2041.8323%2039.5076%2042.4941%2043.2515%2042.4941C46.3564%2042.5823%2049.9058%2041.8146%2051.821%2039.1569C52.5929%2038.0934%2053.0033%2036.8427%2052.9998%2035.564C53.0217%2033.1848%2051.4339%2031.2297%2049.3044%2030.3147C47.2632%2029.4766%2045.1198%2028.8674%2042.9204%2028.5C42.1107%2028.41%2041.3327%2028.1563%2040.6423%2027.757C39.9039%2027.2597%2040.078%2026.2272%2040.735%2025.7596C42.6084%2024.5207%2045.6299%2025.5545%2045.8608%2027.9032L52.2845%2027.5621C52.1703%2025.768%2051.1844%2024.0545%2049.6356%2022.9583C47.6987%2021.8887%2045.4532%2021.3874%2043.1986%2021.5212C41.3493%2021.4527%2039.5037%2021.7218%2037.7682%2022.3128C35.6082%2023.1125%2033.829%2025.064%2033.8344%2027.4525C33.7931%2028.9377%2034.5158%2030.4088%2035.755%2031.3621C37.6454%2032.6238%2039.8325%2033.4582%2042.139%2033.798C43.3833%2033.9637%2044.5727%2034.3795%2045.6224%2035.0159C46.5878%2035.7309%2046.5807%2037.167%2045.5959%2037.8903C44.5078%2038.6532%2042.9034%2038.7416%2041.6818%2038.2468C40.3717%2037.716%2039.6048%2036.4784%2039.4768%2035.089Z'%20fill='%23FFB749'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_5701_38384'%3e%3crect%20width='64'%20height='64'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\"","import { SCHOOL_NAME, SCHOOL_URL } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\nimport { LinkBuilder } from '@/utils/link-builder';\r\n\r\nimport logo from '../../assets/svg/rs-school-logo.svg';\r\nimport { Component } from '../base/component';\r\n\r\nexport class SchoolInfo extends Component {\r\n  constructor() {\r\n    super({ tag: 'div', className: 'footer__school-info' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const schoolName = new ElementBuilder({\r\n      tag: 'p',\r\n      className: 'school-info__name',\r\n      textContent: SCHOOL_NAME,\r\n    }).getElement();\r\n\r\n    const schoolLogo = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'school-info__logo',\r\n      source: logo,\r\n      alt: 'RS School logo',\r\n    }).getElement();\r\n\r\n    const schoolLink = new LinkBuilder({\r\n      tag: 'a',\r\n      className: ['footer__link', 'footer__link--school'],\r\n      href: SCHOOL_URL,\r\n      target: '_blank',\r\n    }).getElement();\r\n\r\n    schoolLink.append(schoolLogo);\r\n\r\n    this.container.append(schoolName, schoolLink);\r\n  }\r\n}\r\n","import { ElementBuilder } from '@/utils/element-builder';\r\n\r\nimport { Component } from '../base/component';\r\nimport { Copyright } from './copyright';\r\nimport { SchoolInfo } from './rsschool-info';\r\n\r\nexport class Footer extends Component {\r\n  private copyright: Copyright = new Copyright();\r\n  private schoolInfo: SchoolInfo = new SchoolInfo();\r\n\r\n  constructor() {\r\n    super({ tag: 'footer', className: 'footer' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const footerContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'footer__container',\r\n    }).getElement();\r\n\r\n    footerContainer.append(this.copyright.getElement(), this.schoolInfo.getElement());\r\n\r\n    this.container.append(footerContainer);\r\n  }\r\n}\r\n","import { MENU_ITEMS } from '@/constants/constants';\r\nimport { Router } from '@/router/router';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nimport { Component } from '../base/component';\r\n\r\nexport class HeaderMenu extends Component {\r\n  constructor() {\r\n    super({ tag: 'ul', className: 'header__menu' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    for (const item of MENU_ITEMS) {\r\n      const menuItem = new ElementBuilder({\r\n        tag: 'li',\r\n        className: 'menu__item',\r\n        textContent: item.name,\r\n      }).getElement();\r\n\r\n      menuItem.addEventListener('click', () => {\r\n        Router.followRoute(item.route);\r\n      });\r\n\r\n      this.container.append(menuItem);\r\n    }\r\n  }\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG7AAABuwE67OPiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAcJQTFRF/////////4CA/////////////5+f/////////6qq7e3t/6Sk8fHx/5yq8vLy/6Ki9PT09fX19peh9vb29/f39/f39/f3+Jmg+Jif+Pj48/Pz+Zyi9PT0+pqf9fX19fX1+pme/5uk9vb2+5qj9/f3+52i8/Pz8/Pz9PT0+5uf9PT09fX1+Zib9fX19vb2+Zib9vb2/Jac9PT0+pac/JWd+pWa9vb29vb2+pOZ+5KZ9PT0n6PJ+5KY9PT0+5GY9fX19fX1rpO2+5GXio6/+5CX+5CW9vb2+4+V9fX19fX1+o2S9fX19fX19fX19fX19PT09fX1/ImP+4mP9fX19fX1/IaN+4WM9fX19vb2+4SL9fX1+4OJ9fX1/IGH/X2E+3yE9fX1+32C9fX1/XyD/XqB9PT09fX1/HmB9fX1/HZ+9fX1/HV99fX1/XJ69fX19fX1/W929fX1/W52/Wtz9vb2/Wpy9fX19fX19fX1/mNr/mNs9fX1/WBp/l9o/mBp/l1m9fX1/ltk9fX1/lli9fX1/lVf/lZf/1Jc/1NdQUebc3e0d0iHf1CMf1GMjl+T9fX1/lBa/lFb/0tV/0xW/01X/09ZAYI9hAAAAIl0Uk5TAAECBAYHCAkLDA4OEhITFhcZGx0eHyAjJSUrLC0wMjU3ODk6PDxBQkVFRk5PUFFSV1pbX2VqbW5xc3Z3d3h5f4OEhIeHiIuQlJWWl5mdoKaqq62ys7W4u72/w8PGytLT1dXW1tna29zd4OHj5Ojp7e3u7vHy8vP19/j4+fr6+vv8/P39/v7+/v7zaMZoAAABmklEQVRYw+2XRVcCcRRHR7G7uwsLO0BMxO7uFsUAWyzsDp4KfF8XDjgHpv7vsPLMXc+9q5kzv0dRfOT06vU9WRSW2EEAAICBaJQe0HwCNKYmf2Ldq2IbGGyWEfrps+DCdBqBHtl/D27c9kWI1H0bjoGVwzofMX6JHjhZKxLUUyaBl4kkXj2s6xoEuO4M4dRltXsggp0aGbtfuAwiWcxn0RNHgYCRRBc9qP0ciDhvD2L6eUYgxpj358tNgMAkdwZ0gELn8GMASRwdKMIGHC+2AhtQeCqgfkWipgOtL0hapYAUkAJS4P8FWizvbwg+LC10QPuNROupgAYb0NCBXGwg0/F7vsD5F859oPrC+F+qv4mivCP375TMkRQ1ZyfT7XNRLjutwEDiGwpYlmL9mVj9tJF9qvoNPYrRH4b9ONdy/LxNSLctJPDu9eJdfn+/VPBi0Fxy6+Y2MSdL4Ngzu/40Hizyakpetbrr1vVUgrut/MDVP6okvBw7rpj6Tbc38e0aOuX8xD5nwlHXc8bGr7+VTWGpWjKbV6p5H/kB5wH7UDhsCE8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import ruFlag from '@/assets/icons/rus.png';\r\nimport ukFlag from '@/assets/icons/uk.png';\r\nimport { Component } from '@/components/base/component';\r\nimport { LanguageSelectorUtility } from '@/locales/language-selector';\r\nimport type { Language } from '@/types/enums';\r\nimport { isLanguageChangeEvent } from '@/types/guards';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nexport class LanguageSelector extends Component {\r\n  private isOpen: boolean = false;\r\n  private languageDropdown: HTMLElement = new ElementBuilder({\r\n    tag: 'div',\r\n    className: 'header__language-dropdown',\r\n  }).getElement();\r\n  private languageSelectorUtility: LanguageSelectorUtility = new LanguageSelectorUtility();\r\n  private currentLanguage: Language = this.languageSelectorUtility.getLanguage();\r\n  private currentFlag: HTMLElement = new ImageBuilder({\r\n    tag: 'img',\r\n    className: 'header__language-flag',\r\n    source: this.currentLanguage === 'en' ? ukFlag : ruFlag,\r\n    alt: this.currentLanguage === 'en' ? 'UK Flag' : 'Russian Flag',\r\n  }).getElement();\r\n\r\n  constructor() {\r\n    super({\r\n      tag: 'div',\r\n      className: 'header__language-option',\r\n    });\r\n    this.render();\r\n    this.addEventListeners();\r\n  }\r\n\r\n  protected render(): void {\r\n    const languageSelector = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__language-selector',\r\n      callback: (): void => {\r\n        this.showDropdown();\r\n      },\r\n    }).getElement();\r\n\r\n    const enOption = this.createLanguageItem('en', ukFlag, 'English');\r\n    const ruOption = this.createLanguageItem('ru', ruFlag, 'Русский');\r\n\r\n    languageSelector.append(this.currentFlag);\r\n    this.languageDropdown.append(enOption, ruOption);\r\n    this.container.append(languageSelector, this.languageDropdown);\r\n  }\r\n\r\n  private createLanguageItem(language: Language, flag: string, text: string): HTMLElement {\r\n    const languageItem = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__language-item',\r\n      callback: (): void => {\r\n        this.changeLanguage(language);\r\n      },\r\n    }).getElement();\r\n\r\n    const countryFlag = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'header__language-flag',\r\n      source: flag,\r\n      alt: language === 'en' ? 'UK Flag' : 'Russian Flag',\r\n    }).getElement();\r\n\r\n    const languageText = new ElementBuilder({\r\n      tag: 'span',\r\n      className: 'header__language-text',\r\n      textContent: text,\r\n    }).getElement();\r\n\r\n    languageItem.append(countryFlag, languageText);\r\n    return languageItem;\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    globalThis.addEventListener('click', (event: Event) => {\r\n      if (\r\n        this.isOpen &&\r\n        event.target !== null &&\r\n        event.target instanceof Node &&\r\n        !this.container.contains(event.target)\r\n      ) {\r\n        this.closeDropdown();\r\n      }\r\n    });\r\n\r\n    document.addEventListener('languageChange', (event: Event): void => {\r\n      if (isLanguageChangeEvent(event)) {\r\n        this.currentLanguage = event.detail.language;\r\n        if (this.currentFlag instanceof HTMLImageElement) {\r\n          this.currentFlag.src = this.currentLanguage === 'en' ? ukFlag : ruFlag;\r\n          this.currentFlag.alt = this.currentLanguage === 'en' ? 'UK Flag' : 'Russian Flag';\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private showDropdown(): void {\r\n    this.isOpen = !this.isOpen;\r\n    if (this.languageDropdown) {\r\n      this.languageDropdown.classList.toggle('header__language-dropdown--active');\r\n    }\r\n  }\r\n\r\n  private closeDropdown(): void {\r\n    if (this.isOpen && this.languageDropdown) {\r\n      this.isOpen = false;\r\n      this.languageDropdown.classList.remove('header__language-dropdown--active');\r\n    }\r\n  }\r\n\r\n  private changeLanguage(language: Language): void {\r\n    if (language === this.currentLanguage) {\r\n      this.closeDropdown();\r\n      return;\r\n    }\r\n    this.languageSelectorUtility.setLanguage(language);\r\n    this.closeDropdown();\r\n    globalThis.location.reload();\r\n  }\r\n}\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAC7gAAAu4Bks13cwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASxSURBVHic7ZtNaFVHFMd/J+YDHglaqLgQJBFE2mehYLS460KkFltqXZR268qFrsUupIvgSogLwYW4UVDIplKhm+4lpW5SE7ISLLiotimlUHx5SU4XM21f5s28N/feue/e4DtwyLuXmfPxn8/7n4moKlWIiJwE5uzj16r6QyVxVAGAiOwCngEH7KtfgIOqujnoWEYG7dBKk/+Tx/5uVhFIVQD4/FYSS1UA1EaGAFQdQNUyBCC2oIjsF5FGIr/tyHeZRUQaIrI/uoKq9lXgJrAB/A5cjKnTx54Aq4BaXcXuSQravWhj3ABuRtWJMHoI2OoIVoHLCYKdBR5anU1g77IT4xZwKAUA+4B1x3gSEFKpJ3m1Me8rDIB1cMPjoBYgBJJX4EZU/UgnI8CduoHQI/k7wEgyACJAOF5B8seLJp8JgD4gXM+ZRANo5Kx7vWjymQHoAcKpiHp7gK+AB8DPwFpH/TX77j7wBTAVYe9U0eRzAWCdC/A5cM/+Da7hwGFgIbCShPQ1cBeY6RPDORvD2V4xJAcgEqTdwC3MDi82cVdbwDwwWVqcJSV/EFgpkLirS8B0GbEmp8RE5APgEfB2oEgbWAaeWAU4arUJjAXqvQI+UdXFdNGStgcA08BLwq34ITDRo/6ELbMUsPEKwx3WbwgAk4HANzDs73gGW+O2zobH3gqwu44AzHuCfQYcK2DzmLXh2r1VKwCAGcyM7bZ87uQdENye0AYO1wmAu55WmkvYu+Y89hdqAQAwhdm4uBNe9JiP8DHumV/WgT1FbafgBD/GzN6dcklV1xPYBsDauuS8HrO+C0kKAD5zntvA4wR2XXlMN2/4aVGjo/DfWV0TPyBtYEVtX/TIEed5WVVbRQNzRVVbIrIMvN/xOnicJiICvIt/Y7WFiXMT4CTwnN5b0VUCvB3bv+oUuJ1q7Ht83XZ8rQXKzbKddPXpc5s7i30K/qsPPY4annIXSgTggsdfF5+AIVpjclocYXg4wmnM+fwbOQRGVfV7EZkh/yT4Anir4/loJviziWv7ha+Qqv4kIu8QMQmO2gqbmI1GHnnK9pWgKSITqVcCEZmge9Z/GipvG2y5n90U4/9b53kMOJHArisn6G5N13d2STAuq9oKvyaCPO2nhXuAqv6FIT075T3galHbHXLV2uyUBeu7mCRqoUF/DrfowRhnsp+wmw6SEJlPFndCAAZFiS2RkCZPBoANfJpySdGXJKbHy6LFvwP2BorkpcV/A85onWlxpyeEWjGPrpCYDi9lCDggTGImRnd1yKJtzPFaMho8CQCYg8mzmIPJc/Q+HJ3BkKbuZqmXrmP2FkHmF9iFOUm+B5weGADkPx6fsgHfJ3w8/gBzhN6X7AS+dGK4VjoAgeSVai5I+Kj4zCCkSF6p5orMR4FYMoGQIvkqL0ldKwpCrKM6X5MLgXAlCQDsjIuSPhD+JOauUYTxnXJV1gWhRcKbojvlsvQV2/It4JuYOtHfAvYK+h+q+ndUhd62mnTzeUdUtS+HF2F7CrO0/hpTfjTWsKp6Gdic4vvgCX0EZRI1LFE0U/TGH4oMAag6gKplCEBFfrci35Uuw3+eHrRDAJvoeeBHq+erSB7gH8F+2j0aLdzTAAAAAElFTkSuQmCC\"","import darkIcon from '@/assets/icons/dark.png';\r\nimport lightIcon from '@/assets/icons/light.png';\r\nimport { Component } from '@/components/base/component';\r\nimport { THEME_OPTIONS } from '@/constants/constants';\r\nimport type { Theme } from '@/types/enums';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\n\r\nexport class ThemeSelector extends Component {\r\n  private currentTheme: Theme = 'dark';\r\n  private isOpen: boolean = false;\r\n  private themeDropdown: HTMLElement = new ElementBuilder({\r\n    tag: 'div',\r\n    className: 'header__theme-dropdown',\r\n  }).getElement();\r\n  private currentIcon: HTMLElement = new ImageBuilder({\r\n    tag: 'img',\r\n    className: 'header__theme-icon',\r\n    source: this.currentTheme === 'dark' ? darkIcon : lightIcon,\r\n    alt: this.currentTheme === 'dark' ? 'Moon Icon' : 'Sun Icon',\r\n  }).getElement();\r\n\r\n  constructor() {\r\n    super({\r\n      tag: 'div',\r\n      className: 'header__theme-option',\r\n    });\r\n    this.loadTheme();\r\n    this.render();\r\n    this.addEventListeners();\r\n  }\r\n\r\n  protected render(): void {\r\n    const themeSelector = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__theme-selector',\r\n      callback: (): void => {\r\n        this.showDropdown();\r\n      },\r\n    }).getElement();\r\n\r\n    const darkOption = this.createThemeItem('dark', darkIcon, THEME_OPTIONS.darkTheme);\r\n    const lightOption = this.createThemeItem('light', lightIcon, THEME_OPTIONS.lightTheme);\r\n\r\n    themeSelector.append(this.currentIcon);\r\n    this.themeDropdown.append(darkOption, lightOption);\r\n    this.container.append(themeSelector, this.themeDropdown);\r\n  }\r\n\r\n  private loadTheme(): void {\r\n    const savedTheme = localStorage.getItem('fun-chat-konstantin-theme');\r\n    if (savedTheme === undefined) {\r\n      this.currentTheme = 'dark';\r\n    } else if (savedTheme === 'dark' || savedTheme === 'light') {\r\n      this.currentTheme = savedTheme;\r\n    } else {\r\n      this.currentTheme = 'dark';\r\n    }\r\n    this.applyTheme(this.currentTheme);\r\n  }\r\n\r\n  private createThemeItem(theme: Theme, icon: string, text: string): HTMLElement {\r\n    const themeItem = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__theme-item',\r\n      callback: (): void => {\r\n        this.changeTheme(theme);\r\n      },\r\n    }).getElement();\r\n\r\n    const themeIcon = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'header__theme-icon',\r\n      source: icon,\r\n      alt: theme === 'dark' ? 'Moon Icon' : 'Sun Icon',\r\n    }).getElement();\r\n\r\n    const themeText = new ElementBuilder({\r\n      tag: 'span',\r\n      className: 'header__theme-text',\r\n      textContent: text,\r\n    }).getElement();\r\n\r\n    themeItem.append(themeIcon, themeText);\r\n    return themeItem;\r\n  }\r\n\r\n  private addEventListeners(): void {\r\n    globalThis.addEventListener('click', (event: Event) => {\r\n      if (\r\n        this.isOpen &&\r\n        event.target !== null &&\r\n        event.target instanceof Node &&\r\n        !this.container.contains(event.target)\r\n      ) {\r\n        this.closeDropdown();\r\n      }\r\n    });\r\n  }\r\n\r\n  private showDropdown(): void {\r\n    this.isOpen = !this.isOpen;\r\n    if (this.themeDropdown) {\r\n      this.themeDropdown.classList.toggle('header__theme-dropdown--active');\r\n    }\r\n  }\r\n\r\n  private closeDropdown(): void {\r\n    if (this.isOpen && this.themeDropdown) {\r\n      this.isOpen = false;\r\n      this.themeDropdown.classList.remove('header__theme-dropdown--active');\r\n    }\r\n  }\r\n\r\n  private applyTheme(theme: Theme): void {\r\n    if (theme === 'light') {\r\n      document.body.classList.add('body--light-theme');\r\n    } else {\r\n      document.body.classList.remove('body--light-theme');\r\n    }\r\n    if (this.currentIcon instanceof HTMLImageElement) {\r\n      this.currentIcon.src = theme === 'dark' ? darkIcon : lightIcon;\r\n      this.currentIcon.alt = theme === 'dark' ? 'Moon Icon' : 'Sun Icon';\r\n    }\r\n  }\r\n\r\n  private changeTheme(theme: Theme): void {\r\n    if (theme === this.currentTheme) {\r\n      this.closeDropdown();\r\n      return;\r\n    }\r\n    this.currentTheme = theme;\r\n    this.applyTheme(theme);\r\n    localStorage.setItem('fun-chat-konstantin-theme', theme);\r\n    this.closeDropdown();\r\n  }\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAACdeAAAnXgHPwViOAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA81JREFUeJztmstvTUEcxz+3rVC9hDbUu2g8YoFEQppqIt6JYEH6BxALGxtC2CASaaxIVyIWJCINERWPNFWPiCgWiJSUkKIvEQlFVWivxRxJ7+1v7jn3zpxzD84nmc3k/L7z/U1vz5n5zUBERETEf0wsB2POAZYDk4ApTl870Ak0AS9y4Ml3RgC7gOdAwqU9A3Y6Mf8E1cBb3BNPbW+AzTnwa40YcIDME09tx4C8YK2bEwNOY578n3YqWPvm7CN9QgNAC3DVaS1OX7qYPYFmYEAF0I+cxBdgPzBZiJsCHHSekWL7gcU+e7fCTeQEngIzPMTPdJ6VNG774Ncqq5CNvwSKM9ApAV5ptFZY9GudE8j/74uy0FqC/F44bsWpD+QB3Qw1fN5A84Kg10VIP4tlyD/ZTQaa1RrNqUZOB2FzJido+h8aaN7X9E800EzC5gSUavrfG2h2ZzhWxticgB5N/2gDzTGa/s8GmknYnIBOTf9cA01dbJeBZhI2J+Ad8EPo32CgKcX2OWOFkisMfWP3AOOz0BqH+qmn6l2y4tQntiF/turIrPoUQ60fJK2tFv1aZyTQgWz8KJDvQSMfqNVotAOF1l1bRvcrSAA3gPlpYhcCt9LEb7Ft1o+iaD5wDbUxkhgAmoFGVNkLYLrz/BL0L+YGYB1qWxx6xgKt2KsItTqafxVlwGPMk38ETAvYuzXiwFmyT/4MUBS4ax+oAu7hPfG7wNIgjAV9MjQP2Iiq6kwm+WSoA7gO1KMOUCIiIiIi/Mb2V6AIqAQWoJa3Y4Bhhpo/gU9AG2phdRfoNdS0SgxYiyph/8De8lfX+pyx1gSRnBsVqKqv30nr2gPUBipwCoAa9IegQbZ+1Gl0YIu6kcilr1y3OsdbRmQ6a8OBy8BKl+e+Aa9RS9yvmZpKIY5aMpfjnuBl1FJ7wHBMLSdJ/1e4CKzHn7JVoaNd7+KhxoexAf05XQJ1ta3Sr4EFqlBH7jo/JqV4kVGogw9psCZyU60pRn8ZoxXz9UcSuzUDtWB29GVKHHgi+EoA220Nkod8z68Xb1de/KYc+M5Qf21YOvlaJoj7+rLJgiPIHqtsiB8WhH+hjq7CQinKU6rPQzbEmwThMN7WusNQn41uQV7+R2ZpBgsbkqfZbkFeJqBE6OvwEBc0kifJexJeJkBa1X30EBc0H4Q+172BlwmQ9gsJD3FBI3ly3euE8r5dkHiZAOk+TrttIxaQ7ihZeVftJfnT0owqiISNAtS9wsFeXa/Ye60HVAOrUReYazHf4/tFHNiBunHeAJzLrZ2IiIiIkPMbLf49Y5eyUGIAAAAASUVORK5CYII=\"","import { Component } from '@/components/base/component';\r\nimport { Button } from '@/components/buttons/base-button';\r\nimport { BUTTON_TITLES } from '@/constants/constants';\r\nimport { Router } from '@/router/router';\r\nimport { Route } from '@/types/enums';\r\nimport type { User } from '@/types/interfaces';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\nimport { ImageBuilder } from '@/utils/image-builder';\r\nimport { WebSocketService } from '@/websocket/websocket-service';\r\n\r\nimport icon from '../../assets/icons/user.png';\r\n\r\nexport class UserInfo extends Component {\r\n  private isLoggedIn: boolean = false;\r\n  private username: string = '';\r\n  private wsService: WebSocketService;\r\n\r\n  constructor() {\r\n    super({\r\n      tag: 'div',\r\n      className: 'header__user-info',\r\n    });\r\n    this.wsService = WebSocketService.getInstance();\r\n    const currentUser = this.wsService.getCurrentUser();\r\n    this.isLoggedIn = currentUser !== null;\r\n    this.username = currentUser?.login || '';\r\n    this.wsService.setLoginHandler(this.loginUser.bind(this));\r\n    this.wsService.setLogoutHandler(this.logoutUser.bind(this));\r\n    this.render();\r\n  }\r\n\r\n  private static handleLogin(): void {\r\n    Router.followRoute(Route.Login);\r\n  }\r\n\r\n  protected render(): void {\r\n    const userIcon = new ImageBuilder({\r\n      tag: 'img',\r\n      className: 'header__user-icon',\r\n      source: icon,\r\n      alt: 'User icon',\r\n    }).getElement();\r\n\r\n    const status = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__status',\r\n    }).getElement();\r\n\r\n    if (this.isLoggedIn) {\r\n      const userName = new ElementBuilder({\r\n        tag: 'span',\r\n        className: 'header__username',\r\n        textContent: this.username,\r\n      }).getElement();\r\n\r\n      status.classList.add('header__status--online');\r\n\r\n      const logoutButton = new Button({\r\n        className: ['button--logout'],\r\n        textContent: BUTTON_TITLES.logout,\r\n        callback: (): void => this.handleLogout(),\r\n      }).getElement();\r\n\r\n      this.container.append(status, userIcon, userName, logoutButton);\r\n    } else {\r\n      status.classList.remove('header__status--online');\r\n      const loginButton = new Button({\r\n        className: ['button--login'],\r\n        textContent: BUTTON_TITLES.login,\r\n        callback: (): void => UserInfo.handleLogin(),\r\n      }).getElement();\r\n\r\n      this.container.append(status, userIcon, loginButton);\r\n    }\r\n  }\r\n\r\n  private handleLogout(): void {\r\n    this.wsService.sendLogoutRequest();\r\n  }\r\n\r\n  private loginUser(user: User): void {\r\n    this.isLoggedIn = true;\r\n    this.username = user.login;\r\n    while (this.container.firstChild) {\r\n      this.container.firstChild.remove();\r\n    }\r\n    this.render();\r\n  }\r\n\r\n  private logoutUser(): void {\r\n    this.isLoggedIn = false;\r\n    this.username = '';\r\n    while (this.container.firstChild) {\r\n      this.container.firstChild.remove();\r\n    }\r\n    this.render();\r\n    Router.followRoute(Route.Login);\r\n  }\r\n}\r\n","import { ElementBuilder } from '@/utils/element-builder';\r\n\r\nimport { Component } from '../base/component';\r\nimport { LanguageSelector } from './language-selector';\r\nimport { ThemeSelector } from './theme-selector';\r\nimport { UserInfo } from './user-info';\r\n\r\nexport class HeaderSubMenu extends Component {\r\n  private userInfo: UserInfo = new UserInfo();\r\n  private languageSelector: LanguageSelector = new LanguageSelector();\r\n  private themeSelector: ThemeSelector = new ThemeSelector();\r\n\r\n  constructor() {\r\n    super({ tag: 'ul', className: 'header__submenu' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const submenuContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__submenu--container',\r\n    }).getElement();\r\n\r\n    submenuContainer.append(\r\n      this.languageSelector.getElement(),\r\n      this.themeSelector.getElement(),\r\n      this.userInfo.getElement()\r\n    );\r\n\r\n    this.container.append(submenuContainer);\r\n  }\r\n}\r\n","import { APP_NAME } from '@/constants/constants';\r\nimport { ElementBuilder } from '@/utils/element-builder';\r\n\r\nimport { Component } from '../base/component';\r\nimport { HeaderMenu } from './header-menu';\r\nimport { HeaderSubMenu } from './header-submenu';\r\n\r\nexport class Header extends Component {\r\n  private menu: HeaderMenu = new HeaderMenu();\r\n  private submenu: HeaderSubMenu = new HeaderSubMenu();\r\n\r\n  constructor() {\r\n    super({ tag: 'header', className: 'header' });\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    const headerContainer = new ElementBuilder({\r\n      tag: 'div',\r\n      className: 'header__container',\r\n    }).getElement();\r\n\r\n    const logo = new ElementBuilder({\r\n      tag: 'h1',\r\n      className: 'header__logo',\r\n      textContent: APP_NAME,\r\n    }).getElement();\r\n\r\n    headerContainer.append(logo, this.menu.getElement());\r\n    this.container.append(this.submenu.getElement(), headerContainer);\r\n  }\r\n}\r\n","import { AboutPage } from '@/pages/about-page';\r\nimport { ChatPage } from '@/pages/chat-page';\r\nimport { ErrorPage } from '@/pages/error-page';\r\nimport { LoginPage } from '@/pages/login-page';\r\nimport { Router } from '@/router/router';\r\nimport { Route } from '@/types/enums';\r\nimport { WebSocketService } from '@/websocket/websocket-service';\r\n\r\nimport { Component } from '../base/component';\r\nimport { Footer } from '../footer/footer';\r\nimport { Header } from '../header/header';\r\n\r\nexport class App extends Component {\r\n  private header: Header = new Header();\r\n  private loginPage: LoginPage = new LoginPage();\r\n  private aboutPage: AboutPage = new AboutPage();\r\n  private chatPage: ChatPage = new ChatPage();\r\n  private errorPage: ErrorPage = new ErrorPage();\r\n  private footer: Footer = new Footer();\r\n  private router: Router;\r\n  private currentPage: Component = this.loginPage;\r\n  private wsService: WebSocketService;\r\n\r\n  constructor() {\r\n    super({ tag: 'div', className: 'app' });\r\n    this.router = new Router(Route.Login);\r\n    this.wsService = WebSocketService.getInstance();\r\n    this.setupRoutes();\r\n    this.render();\r\n  }\r\n\r\n  protected render(): void {\r\n    this.container.append(\r\n      this.header.getElement(),\r\n      this.currentPage.getElement(),\r\n      this.footer.getElement()\r\n    );\r\n  }\r\n\r\n  private setupRoutes(): void {\r\n    this.router.addRoute(Route.Login, () => {\r\n      if (this.wsService.getCurrentUser()) {\r\n        Router.followRoute(Route.Chat);\r\n        return;\r\n      }\r\n      this.showPage(this.loginPage);\r\n    });\r\n\r\n    this.router.addRoute(Route.Chat, () => {\r\n      if (!this.wsService.getCurrentUser()) {\r\n        Router.followRoute(Route.Login);\r\n        return;\r\n      }\r\n      this.showPage(this.chatPage);\r\n    });\r\n\r\n    this.router.addRoute(Route.About, () => this.showPage(this.aboutPage));\r\n    this.router.addRoute(Route.Error, () => this.showPage(this.errorPage));\r\n  }\r\n\r\n  private showPage(newPage: Component): void {\r\n    if (this.currentPage !== newPage) {\r\n      this.currentPage.getElement().remove();\r\n      this.currentPage = newPage;\r\n      this.container.insertBefore(this.currentPage.getElement(), this.footer.getElement());\r\n    }\r\n  }\r\n}\r\n","import './styles/main.scss';\r\n\r\nimport { App } from './components/app/app';\r\n\r\nconst app = new App();\r\ndocument.body.append(app.getElement());\r\n"],"names":["Route","AboutFeature","TechStack","ConnectionErrorCondition","icon","error","languageSelector","language","logo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAe,aAAA;ACER,MAAM,eAAe;AAAA,EAG1B,YAAY,YAA+B;AAFjC;AAGR,SAAK,UAAU,SAAS,cAAc,WAAW,GAAG;AAC/C,SAAA,gBAAgB,WAAW,SAAS;AACpC,SAAA,iBAAiB,WAAW,WAAW;AAC5C,SAAK,cAAc,WAAW,UAAU,WAAW,SAAS;AACvD,SAAA,gBAAgB,WAAW,UAAU;AAAA,EAAA;AAAA,EAGrC,aAA0B;AAC/B,WAAO,KAAK;AAAA,EAAA;AAAA,EAGP,gBAAsB;AAC3B,SAAK,QAAQ,OAAO;AAAA,EAAA;AAAA,EAGd,gBAAgB,WAAiD;AACvE,QAAI,WAAW;AACT,UAAA,MAAM,QAAQ,SAAS,GAAG;AAC5B,aAAK,QAAQ,UAAU,IAAI,GAAG,SAAS;AAAA,MAAA,OAClC;AACA,aAAA,QAAQ,UAAU,IAAI,SAAS;AAAA,MAAA;AAAA,IACtC;AAAA,EACF;AAAA,EAGM,iBAAiB,MAAqB;AAC5C,QAAI,MAAM;AACR,WAAK,QAAQ,cAAc;AAAA,IAAA;AAAA,EAC7B;AAAA,EAGM,gBAAgB,YAAmD;AACzE,QAAI,YAAY;AACd,iBAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,UAAU,GAAG;AAChD,aAAA,QAAQ,aAAa,KAAK,KAAK;AAAA,MAAA;AAAA,IACtC;AAAA,EACF;AAAA,EAGM,cACN,UACA,YAA4C,SACtC;AACN,QAAI,UAAU;AACP,WAAA,QAAQ,iBAAiB,WAAW,QAAQ;AAAA,IAAA;AAAA,EACnD;AAEJ;AClDO,MAAe,UAAU;AAAA,EAGpB,YAAY,YAA+B;AAF3C;AAGR,SAAK,YAAY,IAAI,eAAe,UAAU,EAAE,WAAW;AAAA,EAAA;AAAA,EAGtD,aAA0B;AAC/B,WAAO,KAAK;AAAA,EAAA;AAAA,EAGP,SAAe;AACpB,SAAK,UAAU,OAAO;AAAA,EAAA;AAI1B;ACnBO,MAAM,KAAK;AAAA,EAChB,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,OAAO;AAAA,EACP,UAAU;AAAA,EACV,WAAW;AAAA,EACX,eAAe;AAAA,EACf,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,kBAAkB;AAAA,EAClB,UAAU;AAAA,EACV,UAAU;AAAA,EACV,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,iBAAiB;AAAA,EACjB,iBACE;AAAA,EACF,eAAe;AAAA,EACf,eAAe;AAAA,EACf,uBACE;AAAA,EACF,oBAAoB;AAAA,EACpB,iBAAiB;AAAA,EACjB,eAAe;AAAA,IACb,cAAc;AAAA,IACd,mBAAmB;AAAA,IACnB,kBAAkB;AAAA,IAClB,eAAe;AAAA,IACf,eAAe;AAAA,EACjB;AAAA,EACA,mBAAmB;AAAA,EACnB,oBAAoB;AAAA,EACpB,aAAa;AAAA,EACb,mBAAmB;AAAA,EACnB,YAAY;AAAA,EACZ,aAAa;AAAA,EACb,eAAe;AAAA,EACf,qBAAqB;AAAA,EACrB,kBAAkB;AAAA,EAClB,aAAa;AAAA,EACb,aAAa;AAAA,EACb,WAAW;AAAA,EACX,uBAAuB;AAAA,EACvB,yBAAyB;AAAA,EACzB,2BAA2B;AAAA,EAC3B,4BAA4B;AAAA,EAC5B,mCACE;AACJ;ACzDO,MAAM,KAAK;AAAA,EAChB,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,OAAO;AAAA,EACP,UAAU;AAAA,EACV,WAAW;AAAA,EACX,eAAe;AAAA,EACf,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,kBAAkB;AAAA,EAClB,UAAU;AAAA,EACV,UAAU;AAAA,EACV,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,iBAAiB;AAAA,EACjB,iBACE;AAAA,EACF,eAAe;AAAA,EACf,eAAe;AAAA,EACf,uBACE;AAAA,EACF,oBAAoB;AAAA,EACpB,iBAAiB;AAAA,EACjB,eAAe;AAAA,IACb,cAAc;AAAA,IACd,mBAAmB;AAAA,IACnB,kBAAkB;AAAA,IAClB,eAAe;AAAA,IACf,eAAe;AAAA,EACjB;AAAA,EACA,mBAAmB;AAAA,EACnB,oBAAoB;AAAA,EACpB,aAAa;AAAA,EACb,mBAAmB;AAAA,EACnB,YAAY;AAAA,EACZ,aAAa;AAAA,EACb,eAAe;AAAA,EACf,qBAAqB;AAAA,EACrB,kBAAkB;AAAA,EAClB,aAAa;AAAA,EACb,aAAa;AAAA,EACb,WAAW;AAAA,EACX,uBAAuB;AAAA,EACvB,yBAAyB;AAAA,EACzB,2BAA2B;AAAA,EAC3B,4BAA4B;AAAA,EAC5B,mCACE;AACJ;ACpDO,MAAM,wBAAwB;AAAA,EAGnC,YAAY,kBAA4B,MAAM;AAFtC;AAGA,UAAA,gBAAgB,aAAa,QAAQ,8BAA8B;AACzE,SAAK,kBACH,kBAAkB,QAAQ,kBAAkB,OAAO,gBAAgB;AAAA,EAAA;AAAA,EAGhE,YAAY,MAAsB;AACvC,SAAK,kBAAkB;AACV,iBAAA,QAAQ,gCAAgC,IAAI;AAChD,aAAA,cAAc,IAAI,YAAY,kBAAkB,EAAE,QAAQ,EAAE,UAAU,KAAO,EAAA,CAAC,CAAC;AAAA,EAAA;AAAA,EAGnF,cAAwB;AAC7B,WAAO,KAAK;AAAA,EAAA;AAAA,EAGP,kBAAyC;AACvC,WAAA,KAAK,oBAAoB,OAAO,KAAK;AAAA,EAAA;AAEhD;AC3BY,IAAA,0BAAAA,WAAL;AACLA,SAAA,OAAQ,IAAA;AACRA,SAAA,OAAQ,IAAA;AACRA,SAAA,MAAO,IAAA;AACPA,SAAA,OAAQ,IAAA;AAJEA,SAAAA;AAAA,GAAA,SAAA,CAAA,CAAA;AAaA,IAAA,iCAAAC,kBAAL;AACLA,gBAAA,cAAe,IAAA;AACfA,gBAAA,mBAAoB,IAAA;AACpBA,gBAAA,kBAAmB,IAAA;AACnBA,gBAAA,eAAgB,IAAA;AAChBA,gBAAA,eAAgB,IAAA;AALNA,SAAAA;AAAA,GAAA,gBAAA,CAAA,CAAA;AAQA,IAAA,8BAAAC,eAAL;AACLA,aAAA,MAAO,IAAA;AACPA,aAAA,KAAM,IAAA;AACNA,aAAA,YAAa,IAAA;AACbA,aAAA,MAAO,IAAA;AACPA,aAAA,MAAO,IAAA;AACPA,aAAA,QAAS,IAAA;AACTA,aAAA,UAAW,IAAA;AACXA,aAAA,WAAY,IAAA;AARFA,SAAAA;AAAA,GAAA,aAAA,CAAA,CAAA;AAWA,IAAA,6CAAAC,8BAAL;AACLA,4BAAA,MAAO,IAAA;AACPA,4BAAA,aAAc,IAAA;AAFJA,SAAAA;AAAA,GAAA,4BAAA,CAAA,CAAA;AC3BL,MAAM,mBAA6B;AAE1C,MAAM,mBAAmB,IAAI,wBAAwB,gBAAgB;AACrE,IAAI,WAAW,iBAAiB,gBAAgB;AAEhD,SAAS,iBAAiB,kBAAkB,MAAM;AAChD,aAAW,iBAAiB,gBAAgB;AAC9C,CAAC;AAEM,MAAM,aAAqB;AAC3B,MAAM,aAAqB;AAE3B,MAAM,cAAsB,SAAS;AAErC,MAAM,cAAsB;AAE5B,MAAM,iBAAyB;AAE/B,MAAM,WAAmB,SAAS;AAElC,MAAM,gBAQT;AAAA,EACF,MAAM,SAAS;AAAA,EACf,OAAO,SAAS;AAAA,EAChB,QAAQ,SAAS;AAAA,EACjB,QAAQ,SAAS;AAAA,EACjB,MAAM,SAAS;AAAA,EACf,MAAM,SAAS;AAAA,EACf,QAAQ,SAAS;AACnB;AAEO,MAAM,gBAA2D;AAAA,EACtE,WAAW,SAAS;AAAA,EACpB,YAAY,SAAS;AACvB;AAEO,MAAM,aAAyB;AAAA,EACpC,EAAE,MAAM,SAAS,UAAU,OAAO,MAAM,KAAK;AAAA,EAC7C,EAAE,MAAM,SAAS,WAAW,OAAO,MAAM,MAAM;AACjD;AAEO,MAAM,cAA6E;AAAA,EACxF,OAAO,SAAS;AAAA,EAChB,OAAO,SAAS;AAAA,EAChB,MAAM,SAAS;AAAA,EACf,OAAO,SAAS;AAClB;AAEO,MAAM,qBAA6B,SAAS;AAE5C,MAAM,cAKT;AAAA,EACF,UAAU,SAAS;AAAA,EACnB,UAAU,SAAS;AAAA,EACnB,qBAAqB,SAAS;AAAA,EAC9B,qBAAqB,SAAS;AAChC;AAEO,MAAM,eAAuD;AAAA,EAClE,UAAU,SAAS;AAAA,EACnB,UAAU,SAAS;AACrB;AAEO,MAAM,aAAqD;AAAA,EAChE,UAAU,SAAS;AAAA,EACnB,UAAU,SAAS;AACrB;AAEO,MAAM,kBAMT;AAAA,EACF,kBAAkB,SAAS;AAAA,EAC3B,eAAe,SAAS;AAAA,EACxB,YAAY,SAAS;AAAA,EACrB,UAAU,SAAS;AAAA,EACnB,WAAW;AAAA,IACT,MAAM;AAAA,IACN,KAAK;AAAA,IACL,YAAY;AAAA,IACZ,MAAM;AAAA,IACN,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,EAAA;AAEf;AAEO,MAAM,YAaT;AAAA,EACF,mBAAmB,SAAS;AAAA,EAC5B,oBAAoB,SAAS;AAAA,EAC7B,aAAa,SAAS;AAAA,EACtB,mBAAmB,SAAS;AAAA,EAC5B,YAAY,SAAS;AAAA,EACrB,aAAa,SAAS;AAAA,EACtB,WAAW,SAAS;AAAA,EACpB,eAAe,SAAS;AAAA,EACxB,qBAAqB,SAAS;AAAA,EAC9B,kBAAkB,SAAS;AAAA,EAC3B,aAAa,SAAS;AAAA,EACtB,aAAa,SAAS;AACxB;AAEO,MAAM,qBAAmE;AAAA,EAC9E,YAAY,SAAS;AAAA,EACrB,cAAc,SAAS;AACzB;AAEO,MAAM,yBAMT;AAAA,EACF,2BAA2B,SAAS;AAAA,EACpC,4BAA4B,SAAS;AAAA,EACrC,mCAAmC,SAAS;AAAA,EAC5C,sBAAsB;AAAA,EACtB,mBAAmB;AACrB;ACpJO,MAAM,qBAAqB,eAAe;AAAA,EAC/C,YAAY,YAA6B;AACjC,UAAA,EAAE,GAAG,YAAY;AAClB,SAAA,YAAY,WAAW,MAAM;AAC7B,SAAA,SAAS,WAAW,GAAG;AAAA,EAAA;AAAA,EAGtB,YAAY,QAAsB;AACpC,QAAA,UAAU,KAAK,mBAAmB,kBAAkB;AACtD,WAAK,QAAQ,MAAM;AAAA,IAAA;AAAA,EACrB;AAAA,EAGM,SAAS,KAAmB;AAC9B,QAAA,OAAO,KAAK,mBAAmB,kBAAkB;AACnD,WAAK,QAAQ,MAAM;AAAA,IAAA;AAAA,EACrB;AAEJ;ACfO,MAAM,kBAAkB,UAAU;AAAA,EACvC,cAAc;AACZ,UAAM,EAAE,KAAK,QAAQ,WAAW,SAAS;AACzC,SAAK,OAAO;AAAA,EAAA;AAAA,EAGd,OAAe,qBAAkC;AACzC,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW,CAAC,iBAAiB;AAAA,MAC7B,aAAa,gBAAgB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAER,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW,CAAC,qBAAqB;AAAA,IAClC,CAAA,EAAE,WAAW;AAEd,eAAW,WAAW,OAAO,OAAO,YAAY,GAAG;AAC3C,YAAA,WAAW,IAAI,eAAe;AAAA,QAClC,KAAK;AAAA,QACL,WAAW,CAAC,qBAAqB;AAAA,QACjC,aAAa,gBAAgB,SAAS,OAAO;AAAA,MAC9C,CAAA,EAAE,WAAW;AACd,mBAAa,OAAO,QAAQ;AAAA,IAAA;AAGxB,UAAA,YAAY,IAAI,eAAe;AAAA,MACnC,KAAK;AAAA,MACL,WAAW,CAAC,2BAA2B;AAAA,IACxC,CAAA,EAAE,WAAW;AAEJ,cAAA,OAAO,eAAe,YAAY;AACrC,WAAA;AAAA,EAAA;AAAA,EAGT,OAAe,kBAA+B;AACtC,UAAA,aAAa,IAAI,eAAe;AAAA,MACpC,KAAK;AAAA,MACL,WAAW,CAAC,iBAAiB;AAAA,MAC7B,aAAa,gBAAgB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAER,UAAA,sBAAsB,IAAI,eAAe;AAAA,MAC7C,KAAK;AAAA,MACL,WAAW,CAAC,8BAA8B;AAAA,IAC3C,CAAA,EAAE,WAAW;AAEd,eAAW,QAAQ,OAAO,OAAO,SAAS,GAAG;AACrC,YAAA,gBAAgB,IAAI,eAAe;AAAA,QACvC,KAAK;AAAA,QACL,WAAW,CAAC,mBAAmB;AAAA,MAChC,CAAA,EAAE,WAAW;AAER,YAAAC,QAAO,IAAI,aAAa;AAAA,QAC5B,KAAK;AAAA,QACL,WAAW,CAAC,mBAAmB;AAAA,QAC/B,QAAQ,gBAAgB,IAAI;AAAA,QAC5B,KAAK,GAAG,gBAAgB,UAAU,IAAI,CAAC;AAAA,MACxC,CAAA,EAAE,WAAW;AAEd,oBAAc,OAAOA,KAAI;AACzB,0BAAoB,OAAO,aAAa;AAAA,IAAA;AAGpC,UAAA,YAAY,IAAI,eAAe;AAAA,MACnC,KAAK;AAAA,MACL,WAAW,CAAC,wBAAwB;AAAA,IACrC,CAAA,EAAE,WAAW;AAEJ,cAAA,OAAO,YAAY,mBAAmB;AACzC,WAAA;AAAA,EAAA;AAAA,EAGC,SAAe;AACjB,UAAA,QAAQ,IAAI,eAAe;AAAA,MAC/B,KAAK;AAAA,MACL,WAAW,CAAC,cAAc;AAAA,MAC1B,aAAa,YAAY;AAAA,IAC1B,CAAA,EAAE,WAAW;AAER,UAAA,mBAAmB,IAAI,eAAe;AAAA,MAC1C,KAAK;AAAA,MACL,WAAW,CAAC,kBAAkB;AAAA,IAC/B,CAAA,EAAE,WAAW;AAER,UAAA,YAAY,IAAI,aAAa;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,cAAc;AAAA,MAC1B,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,mBAAmB,IAAI,eAAe;AAAA,MAC1C,KAAK;AAAA,MACL,WAAW,CAAC,qBAAqB;AAAA,MACjC,aAAa,gBAAgB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAEG,qBAAA;AAAA,MACf;AAAA,MACA;AAAA,MACA,UAAU,mBAAmB;AAAA,MAC7B,UAAU,gBAAgB;AAAA,IAC5B;AAEK,SAAA,UAAU,OAAO,OAAO,gBAAgB;AAAA,EAAA;AAEjD;AC/GO,MAAM,qBAAqB,eAAe;AAAA,EAC/C,YAAY,YAA6B;AACjC,UAAA,EAAE,GAAG,YAAY;AAClB,SAAA;AAAA,MACH,WAAW;AAAA,MACX,WAAW;AAAA,MACX,WAAW;AAAA,MACX,WAAW;AAAA,IACb;AAAA,EAAA;AAAA,EAGK,WAAmB;AACpB,QAAA,KAAK,mBAAmB,kBAAkB;AAC5C,aAAO,KAAK,QAAQ;AAAA,IAAA;AAEf,WAAA;AAAA,EAAA;AAAA,EAGF,SAAS,OAAqB;AAC/B,QAAA,KAAK,mBAAmB,kBAAkB;AAC5C,WAAK,QAAQ,QAAQ;AAAA,IAAA;AAAA,EACvB;AAAA,EAGM,mBACN,MACA,OACA,aACA,UACM;AACF,QAAA,KAAK,mBAAmB,kBAAkB;AAC5C,WAAK,QAAQ,OAAO;AAAA,IAAA;AAElB,QAAA,SAAS,KAAK,mBAAmB,kBAAkB;AACrD,WAAK,QAAQ,QAAQ;AAAA,IAAA;AAEnB,QAAA,eAAe,KAAK,mBAAmB,kBAAkB;AAC3D,WAAK,QAAQ,cAAc;AAAA,IAAA;AAEzB,QAAA,YAAY,KAAK,mBAAmB,kBAAkB;AACxD,WAAK,QAAQ,WAAW;AAAA,IAAA;AAAA,EAC1B;AAEJ;AC/CA,MAAe,kBAAA;ACQR,MAAM,sBAAsB,eAAe;AAAA,EAChD,YAAY,YAA8B;AAClC,UAAA,EAAE,GAAG,YAAY;AAClB,SAAA,cAAc,WAAW,IAAI;AAAA,EAAA;AAAA,EAG7B,gBAAsB;AACtB,SAAA,QAAQ,UAAU,IAAI,kBAAkB;AACzC,QAAA,KAAK,mBAAmB,mBAAmB;AAC7C,WAAK,QAAQ,WAAW;AAAA,IAAA;AAAA,EAC1B;AAAA,EAGK,eAAqB;AACrB,SAAA,QAAQ,UAAU,OAAO,kBAAkB;AAC5C,QAAA,KAAK,mBAAmB,mBAAmB;AAC7C,WAAK,QAAQ,WAAW;AAAA,IAAA;AAAA,EAC1B;AAAA,EAGM,cAAc,MAAsC;AACtD,QAAA,QAAQ,KAAK,mBAAmB,kBAAkB;AACpD,WAAK,QAAQ,OAAO;AAAA,IAAA;AAAA,EACtB;AAEJ;AC5BO,MAAe,cAAc,UAAU;AAAA,EAKlC,YAAY,WAAqB;AACnC,UAAA,EAAE,KAAK,UAAU,WAAW,CAAC,SAAS,GAAG,SAAS,GAAG;AALnD;AACA,kCAAS;AACX;AAKD,SAAA,eAAe,IAAI,eAAe;AAAA,MACrC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAET,SAAA,cAAc,IAAI,cAAc;AAAA,MACnC,MAAM;AAAA,MACN,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,MACb,UAAU,MAAY,KAAK,MAAM;AAAA,IAClC,CAAA,EAAE,WAAW;AAEd,SAAK,UAAU,iBAAiB,SAAS,CAAC,UAAU;AAC9C,UAAA,MAAM,WAAW,KAAK,WAAW;AACnC,aAAK,MAAM;AAAA,MAAA;AAAA,IACb,CACD;AAEQ,aAAA,iBAAiB,WAAW,CAAC,UAAU;AAC9C,UAAI,MAAM,QAAQ,YAAY,KAAK,QAAQ;AACzC,aAAK,MAAM;AAAA,MAAA;AAAA,IACb,CACD;AAED,SAAK,OAAO;AAAA,EAAA;AAAA,EAGP,OAAa;AACd,QAAA,CAAC,KAAK,QAAQ;AACP,eAAA,KAAK,OAAO,KAAK,SAAS;AAC1B,eAAA,KAAK,MAAM,WAAW;AAE3B,UAAA,KAAK,qBAAqB,mBAAmB;AAC/C,aAAK,UAAU,UAAU;AAAA,MAAA;AAG3B,WAAK,SAAS;AAAA,IAAA;AAAA,EAChB;AAAA,EAGK,QAAc;AACnB,QAAI,KAAK,QAAQ;AACX,UAAA,KAAK,qBAAqB,mBAAmB;AAC/C,aAAK,UAAU,MAAM;AAAA,MAAA;AAGd,eAAA,KAAK,MAAM,WAAW;AAC/B,WAAK,UAAU,OAAO;AACtB,WAAK,SAAS;AAAA,IAAA;AAAA,EAChB;AAAA,EAGQ,SAAe;AAClB,SAAA,aAAa,OAAO,KAAK,WAAW;AACpC,SAAA,UAAU,OAAO,KAAK,YAAY;AAAA,EAAA;AAE3C;AC9DO,MAAM,6BAA6B,MAAM;AAAA,EAI9C,YAAY,gBAA0C;AAC9C,UAAA,CAAC,wBAAwB,CAAC;AAJ1B;AACA,4CAAuC;AAI7C,SAAK,iBAAiB;AACtB,SAAK,eAAe;AAAA,EAAA;AAAA,EAGf,iBAAuB;AACvB,SAAA,mBAAmB,IAAI,eAAe;AAAA,MACzC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,uBAAuB;AAAA,IACrC,CAAA,EAAE,WAAW;AAER,UAAA,QAAQ,IAAI,aAAa;AAAA,MAC7B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,OAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aACE,KAAK,mBAAmB,yBAAyB,OAC7C,uBAAuB,6BACvB,uBAAuB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAEd,SAAK,iBAAiB,OAAO,SAAS,OAAO,IAAI;AAC5C,SAAA,aAAa,OAAO,KAAK,gBAAgB;AAAA,EAAA;AAElD;ACjDA,MAAe,cAAA;ACOR,MAAM,yBAAyB,MAAM;AAAA,EAI1C,YAAY,SAAiB;AACrB,UAAA,CAAC,oBAAoB,CAAC;AAJtB;AACA,4CAAuC;AAI7C,SAAK,eAAe;AACpB,SAAK,eAAe;AAAA,EAAA;AAAA,EAGf,iBAAuB;AACvB,SAAA,mBAAmB,IAAI,eAAe;AAAA,MACzC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,mBAAmB;AAAA,IACjC,CAAA,EAAE,WAAW;AAER,UAAA,QAAQ,IAAI,aAAa;AAAA,MAC7B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,OAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,mBAAmB;AAAA,IACjC,CAAA,EAAE,WAAW;AAER,UAAAC,SAAQ,IAAI,eAAe;AAAA,MAC/B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,KAAK;AAAA,IACnB,CAAA,EAAE,WAAW;AAEd,SAAK,iBAAiB,OAAO,SAAS,OAAO,MAAMA,MAAK;AACnD,SAAA,aAAa,OAAO,KAAK,gBAAgB;AAAA,EAAA;AAElD;ACjDO,SAAS,sBAAsB,OAA4C;AACzE,SAAA,iBAAiB,eAAe,cAAc,MAAM;AAC7D;AAEO,SAAS,mBAAsB,SAAkD;AACtF,SAAO,OAAO,YAAY,YAAY,YAAY,QAAQ,aAAa;AACzE;AAEO,SAAS,aAAa,MAAmC;AAC9D,SAAO,OAAO,SAAS,YAAY,SAAS,QAAQ,cAAc,QAAQ,cAAc;AAC1F;AAEgB,SAAA,8BACd,SACA,MACA,iBACgC;AAChC,SACE,OAAO,YAAY,YACnB,YAAY,QACZ,QAAQ,SAAS,QACjB,OAAO,QAAQ,YAAY,YAC3B,QAAQ,YAAY,QACpB,mBAAmB,QAAQ;AAE/B;ACmBO,MAAM,oBAAN,MAAM,kBAAiB;AAAA,EAyB5B,cAAc;AAvBN;AACA,+BAAM;AACN,yCAAgC,CAAC;AACjC,0CAAkC,CAAC;AACnC,kDAAuD;AACvD,mDAAyD;AACzD,8CAAgD;AAChD,gDAAoD;AACpD,+CAA4C,CAAC;AAC7C,kDAAkD,CAAC;AACnD,iDAAgD,CAAC;AACjD,8CAAgD;AAChD,iDAAsD;AACtD,+CAA4C,CAAC;AAC7C,uCAA0D;AAC1D,wCAAuB;AACvB;AACA;AACA,6CAAoB;AACpB,gDAAuB,uBAAuB;AAC9C,6CAAoB,uBAAuB;AAC3C,+CAAsB;AAmPtB,iDAAwB,MAAY;AAC1C,WAAK,oBAAoB;AACzB,WAAK,sBAAsB;AAC3B,WAAK,oBAAoB,MAAM;AAEzB,YAAA,aAAa,eAAe,QAAQ,YAAY;AACtD,UAAI,YAAY;AACV,YAAA;AACI,gBAAA,aAAsB,KAAK,MAAM,UAAU;AAC7C,cAAA,aAAa,UAAU,GAAG;AAC5B,iBAAK,iBAAiB,WAAW,UAAU,WAAW,QAAQ;AAAA,UAAA;AAAA,iBAEzDA,QAAO;AACN,kBAAA,MAAM,SAASA,MAAK;AAAA,QAAA;AAAA,MAC9B;AAAA,IAEJ;AAEQ,8CAAqB,CAAC,UAAsC;AAC9D,UAAA;AACF,cAAM,UAAmB,KAAK,MAAM,MAAM,IAAI;AAC1C,YAAA,mBAAmB,OAAO,GAAG;AAC/B,eAAK,cAAc,OAAO;AAAA,QAAA;AAAA,eAErBA,QAAO;AACN,gBAAA,MAAM,SAASA,MAAK;AAAA,MAAA;AAAA,IAEhC;AAEQ,kDAAyB,MAAY;AAC3C,YAAM,OAAO,KAAK;AAClB,WAAK,cAAc;AACnB,UAAI,MAAM;AACG,mBAAA,WAAW,KAAK,gBAAgB;AACzC,kBAAQ,EAAE,OAAO,KAAK,OAAO,WAAW,OAAO;AAAA,QAAA;AAAA,MACjD;AAGF,eAAS,cAAc,IAAI,YAAY,gBAAgB,CAAC;AAEpD,UAAA,CAAC,KAAK,qBAAqB;AAC7B,aAAK,oBAAoB,KAAK;AAC9B,aAAK,sBAAsB;AAAA,MAAA;AAGzB,UAAA,KAAK,oBAAoB,KAAK,sBAAsB;AACjD,aAAA;AACL,mBAAW,MAAM,KAAK,QAAQ,GAAG,KAAK,iBAAiB;AAAA,MAAA;AAAA,IAE3D;AAjSE,SAAK,QAAQ;AACb,SAAK,sBAAsB,IAAI,qBAAqB,yBAAyB,IAAI;AACjF,SAAK,6BAA6B,IAAI;AAAA,MACpC,yBAAyB;AAAA,IAC3B;AAAA,EAAA;AAAA,EAGF,OAAc,cAAgC;AACxC,QAAA,CAAC,kBAAiB,UAAU;AACb,wBAAA,WAAW,IAAI,kBAAiB;AAAA,IAAA;AAEnD,WAAO,kBAAiB;AAAA,EAAA;AAAA,EAGnB,gBAAgB,UAA8B;AAC9C,SAAA,cAAc,KAAK,QAAQ;AAAA,EAAA;AAAA,EAG3B,iBAAiB,UAA+B;AAChD,SAAA,eAAe,KAAK,QAAQ;AAAA,EAAA;AAAA,EAG5B,0BAA0B,UAAuC;AACtE,SAAK,yBAAyB;AAAA,EAAA;AAAA,EAGzB,2BAA2B,UAAwC;AACxE,SAAK,0BAA0B;AAAA,EAAA;AAAA,EAG1B,sBAAsB,UAAoC;AAC/D,SAAK,qBAAqB;AAAA,EAAA;AAAA,EAGrB,wBAAwB,UAAsC;AACnE,SAAK,uBAAuB;AAAA,EAAA;AAAA,EAGvB,uBAAuB,UAAoC;AAC3D,SAAA,oBAAoB,KAAK,QAAQ;AAAA,EAAA;AAAA,EAGjC,yBAAyB,UAAuC;AAChE,SAAA,uBAAuB,KAAK,QAAQ;AAAA,EAAA;AAAA,EAGpC,wBAAwB,UAAsC;AAC9D,SAAA,sBAAsB,KAAK,QAAQ;AAAA,EAAA;AAAA,EAGnC,sBAAsB,UAAoC;AAC/D,SAAK,qBAAqB;AAAA,EAAA;AAAA,EAGrB,yBAAyB,UAAuC;AACrE,SAAK,wBAAwB;AAAA,EAAA;AAAA,EAGxB,sBAAsB,UAAoC;AAC1D,SAAA,oBAAoB,KAAK,QAAQ;AAAA,EAAA;AAAA,EAGjC,iBAA8B;AAC5B,WAAA,KAAK,cAAc,EAAE,OAAO,KAAK,YAAY,OAAO,WAAW,KAAA,IAAS;AAAA,EAAA;AAAA,EAG1E,iBAAiB,UAAkB,UAAwB;AAChE,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AAC7D,WAAK,2BAA2B,KAAK;AAC/B,YAAA,IAAI,MAAM,6BAA6B;AAAA,IAAA;AAG/C,SAAK,eAAe;AACL,mBAAA,QAAQ,cAAc,KAAK,UAAU,EAAE,UAAU,SAAA,CAAU,CAAC;AAE3E,UAAM,UAA4B;AAAA,MAChC,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,UACJ,OAAO;AAAA,UACP;AAAA,QAAA;AAAA,MACF;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,EAAA;AAAA,EAGnC,oBAA0B;AAC/B,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AACvD,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG1C,QAAA,CAAC,KAAK,aAAa;AACf,YAAA,IAAI,MAAM,gCAAgC;AAAA,IAAA;AAGlD,UAAM,UAA6B;AAAA,MACjC,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,UACJ,OAAO,KAAK,YAAY;AAAA,UACxB,UAAU,KAAK,YAAY;AAAA,QAAA;AAAA,MAC7B;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AACxC,mBAAe,WAAW,YAAY;AAAA,EAAA;AAAA,EAGjC,kBAAwB;AAC7B,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AACvD,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG9C,UAAM,gBAA8B;AAAA,MAClC,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAEA,UAAM,kBAAgC;AAAA,MACpC,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,aAAa,CAAC;AAC9C,SAAK,OAAO,KAAK,KAAK,UAAU,eAAe,CAAC;AAAA,EAAA;AAAA,EAG3C,YAAY,UAAkB,MAAoB;AACvD,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AAC7D,WAAK,2BAA2B,KAAK;AAC/B,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG9C,UAAM,UAA8B;AAAA,MAClC,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,SAAS;AAAA,UACP,IAAI;AAAA,UACJ;AAAA,QAAA;AAAA,MACF;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,EAAA;AAAA,EAGnC,YAAY,WAAmB,SAAuB;AAC3D,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AACvD,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG9C,UAAM,UAAoD;AAAA,MACxD,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,SAAS;AAAA,UACP,IAAI;AAAA,UACJ,MAAM;AAAA,QAAA;AAAA,MACR;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,EAAA;AAAA,EAGnC,cAAc,WAAyB;AAC5C,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AACvD,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG9C,UAAM,UAAsD;AAAA,MAC1D,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,SAAS;AAAA,UACP,IAAI;AAAA,QAAA;AAAA,MACN;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,EAAA;AAAA,EAGnC,oBAAoB,WAAyB;AAClD,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AACvD,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG9C,UAAM,UAAyD;AAAA,MAC7D,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,MAAM;AAAA,UACJ,OAAO;AAAA,QAAA;AAAA,MACT;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,EAAA;AAAA,EAGnC,YAAY,WAAyB;AAC1C,QAAI,CAAC,KAAK,UAAU,KAAK,OAAO,eAAe,UAAU,MAAM;AACvD,YAAA,IAAI,MAAM,4BAA4B;AAAA,IAAA;AAG9C,UAAM,UAAoD;AAAA,MACxD,IAAI,OAAO,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,SAAS;AAAA,UACP,IAAI;AAAA,QAAA;AAAA,MACN;AAAA,IAEJ;AAEA,SAAK,OAAO,KAAK,KAAK,UAAU,OAAO,CAAC;AAAA,EAAA;AAAA,EAGlC,UAAgB;AACtB,SAAK,SAAS,IAAI,UAAU,KAAK,GAAG;AACpC,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGjB,oBAA0B;AAC5B,QAAA,CAAC,KAAK,OAAQ;AAElB,SAAK,OAAO,iBAAiB,QAAQ,KAAK,qBAAqB;AAC/D,SAAK,OAAO,iBAAiB,WAAW,KAAK,kBAAkB;AAC/D,SAAK,OAAO,iBAAiB,SAAS,KAAK,sBAAsB;AAAA,EAAA;AAAA,EAsD3D,cAAc,SAA0C;AAC9D,SAAK,mBAAmB,OAAO;AAC/B,SAAK,mBAAmB,OAAO;AAC/B,SAAK,mBAAmB,OAAO;AAAA,EAAA;AAAA,EAGzB,mBAAmB,SAA0C;AACnE,QAAI,8BAAwD,SAAS,cAAc,MAAM,GAAG;AACrF,WAAA,YAAY,QAAQ,QAAQ,IAAI;AACrC;AAAA,IAAA;AAGF,QAAI,8BAAyD,SAAS,eAAe,MAAM,GAAG;AACvF,WAAA,aAAa,QAAQ,QAAQ,IAAI;AACtC;AAAA,IAAA;AAIA,QAAA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,IAAA,GAEF;AACK,WAAA,qBAAqB,QAAQ,QAAQ,IAAI;AAC9C;AAAA,IAAA;AAIA,QAAA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,IAAA,GAEF;AACK,WAAA,uBAAuB,QAAQ,QAAQ,IAAI;AAChD;AAAA,IAAA;AAAA,EACF;AAAA,EAGM,mBAAmB,SAA0C;AACnE,SAAK,yBAAyB,OAAO;AACrC,SAAK,8BAA8B,OAAO;AAC1C,SAAK,4BAA4B,OAAO;AAAA,EAAA;AAAA,EAGlC,yBAAyB,SAA0C;AACzE,QAAI,8BAAyD,SAAS,eAAe,OAAO,GAAG;AACxF,WAAA,kBAAkB,QAAQ,QAAQ,KAAK;AAC5C;AAAA,IAAA;AAGF,QACE,8BAA2D,SAAS,iBAAiB,OAAO,GAC5F;AACK,WAAA,oBAAoB,QAAQ,QAAQ,KAAK;AAC9C;AAAA,IAAA;AAAA,EACF;AAAA,EAGM,8BAA8B,SAA0C;AAE5E,QAAA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,IAAA,GAEF;AACK,WAAA,qBAAqB,QAAQ,QAAQ,QAAQ;AAClD;AAAA,IAAA;AAGF,QAAI,8BAA0D,SAAS,YAAY,SAAS,GAAG;AACxF,WAAA,sBAAsB,QAAQ,QAAQ,OAAO;AAClD;AAAA,IAAA;AAAA,EACF;AAAA,EAGM,4BAA4B,SAA0C;AAE1E,QAAA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,IAAA,GAEF;AACK,WAAA,oBAAoB,QAAQ,QAAQ,OAAO;AAChD;AAAA,IAAA;AAGF,QACE,8BAA8D,SAAS,YAAY,SAAS,GAC5F;AACK,WAAA,kBAAkB,QAAQ,QAAQ,OAAO;AAC9C;AAAA,IAAA;AAIA,QAAA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,IAAA,GAEF;AACK,WAAA,uBAAuB,QAAQ,QAAQ,OAAO;AACnD;AAAA,IAAA;AAGF,QACE,8BAA8D,SAAS,YAAY,SAAS,GAC5F;AACK,WAAA,kBAAkB,QAAQ,QAAQ,OAAO;AAC9C;AAAA,IAAA;AAAA,EACF;AAAA,EAGM,mBAAmB,SAA0C;AACnE,QAAI,8BAAoD,SAAS,SAAS,OAAO,GAAG;AAC7E,WAAA,YAAY,QAAQ,OAAO;AAChC;AAAA,IAAA;AAAA,EACF;AAAA,EAGM,YAAY,MAAkB;AACpC,QAAI,MAAM;AACR,WAAK,cAAc;AAAA,QACjB,OAAO,KAAK;AAAA,QACZ,UAAU,KAAK;AAAA,MACjB;AACA,iBAAW,WAAW,KAAK,cAAe,SAAQ,IAAI;AAAA,IAAA;AAAA,EACxD;AAAA,EAGM,aAAa,MAAkB;AACrC,QAAI,MAAM;AACR,WAAK,cAAc;AACnB,iBAAW,WAAW,KAAK,eAAgB,SAAQ,IAAI;AACvD,eAAS,cAAc,IAAI,YAAY,YAAY,CAAC;AAAA,IAAA;AAAA,EACtD;AAAA,EAGM,YAAYA,QAAmC;AACrD,QAAI,MAAM;AACA,cAAA,MAAM,mBAAmBA,MAAK;AACtC,YAAM,QAAQ,IAAI,iBAAiBA,OAAM,MAAM,aAAa;AAC5D,YAAM,KAAK;AAAA,IAAA;AAAA,EACb;AAAA,EAGM,qBAAqB,MAAkB;AAC7C,QAAI,KAAK,wBAAwB;AAC/B,WAAK,uBAAuB,IAAI;AAAA,IAAA;AAAA,EAClC;AAAA,EAGM,uBAAuB,MAAkB;AAC/C,QAAI,KAAK,yBAAyB;AAChC,WAAK,wBAAwB,IAAI;AAAA,IAAA;AAAA,EACnC;AAAA,EAGM,kBAAkB,OAAqB;AAC7C,QAAI,KAAK,oBAAoB;AAC3B,WAAK,mBAAmB,KAAK;AAAA,IAAA;AAAA,EAC/B;AAAA,EAGM,oBAAoB,OAAqB;AAC/C,QAAI,KAAK,sBAAsB;AAC7B,WAAK,qBAAqB,KAAK;AAAA,IAAA;AAAA,EACjC;AAAA,EAGM,sBAAsB,SAA4B;AACxD,QAAI,MAAM;AACG,iBAAA,WAAW,KAAK,qBAAqB;AAC9C,gBAAQ,OAAO;AAAA,MAAA;AAAA,IACjB;AAAA,EACF;AAAA,EAGM,qBAAqB,UAA+B;AAC1D,QAAI,MAAM;AACG,iBAAA,WAAW,KAAK,wBAAwB;AACjD,gBAAQ,QAAQ;AAAA,MAAA;AAAA,IAClB;AAAA,EACF;AAAA,EAGM,oBAAoB,SAAoC;AAC9D,QAAI,MAAM;AACG,iBAAA,WAAW,KAAK,uBAAuB;AAChD,gBAAQ,OAAO;AAAA,MAAA;AAAA,IACjB;AAAA,EACF;AAAA,EAGM,kBAAkB,SAAkC;AAC1D,QAAI,KAAK,oBAAoB;AAC3B,WAAK,mBAAmB,OAAO;AAAA,IAAA;AAAA,EACjC;AAAA,EAGM,uBAAuB,SAAsC;AACnE,QAAI,KAAK,uBAAuB;AAC9B,WAAK,sBAAsB,OAAO;AAAA,IAAA;AAAA,EACpC;AAAA,EAGM,kBAAkB,SAAkC;AAC1D,QAAI,MAAM;AACG,iBAAA,WAAW,KAAK,qBAAqB;AAC9C,gBAAQ,OAAO;AAAA,MAAA;AAAA,IACjB;AAAA,EACF;AAEJ;AAphBE,cADW,mBACI;AADV,IAAM,mBAAN;AC1CA,MAAM,eAAe,UAAU;AAAA,EAGpC,YAAY,YAAgF;AAC1F,UAAM,EAAE,KAAK,OAAO,WAAW,oBAAoB;AAH3C;AAIH,SAAA,SAAS,IAAI,cAAc;AAAA,MAC9B,KAAK;AAAA,MACL,MAAM;AAAA,MACN,WAAW,CAAC,UAAU,GAAG,WAAW,SAAS;AAAA,MAC7C,aAAa,WAAW;AAAA,MACxB,UAAU,WAAW;AAAA,IAAA,CACtB;AACD,SAAK,OAAO;AAAA,EAAA;AAAA,EAGP,UAAgB;AACrB,SAAK,OAAO,cAAc;AAAA,EAAA;AAAA,EAGrB,SAAe;AACpB,SAAK,OAAO,aAAa;AAAA,EAAA;AAAA,EAGjB,SAAe;AACvB,SAAK,UAAU,OAAO,KAAK,OAAO,YAAY;AAAA,EAAA;AAElD;ACrBO,MAAM,iBAAiB,UAAU;AAAA,EAMtC,YAAY,SAAsB,WAA6B;;AACvD,UAAA;AAAA,MACJ,KAAK;AAAA,MACL,WAAW;AAAA,MACX,YAAY;AAAA,QACV,mBAAmB,QAAQ;AAAA,MAAA;AAAA,IAC7B,CACD;AAZK;AACA;AACA;AACA;AAUN,SAAK,UAAU;AACf,SAAK,YAAY;AACjB,SAAK,gBAAc,eAAU,eAAe,MAAzB,mBAA4B,UAAS;AACnD,SAAA,mBAAmB,SAAS,uBAAuB;AACxD,SAAK,OAAO;AACZ,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGzB,OAAe,yBAAsC;AACnD,WAAO,IAAI,eAAe;AAAA,MACxB,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAAA,EAAA;AAAA,EAGN,SAAe;AACjB,UAAA,mBAAmB,IAAI,eAAe;AAAA,MAC1C,KAAK;AAAA,MACL,WACE,KAAK,QAAQ,SAAS,KAAK,cACvB,CAAC,wBAAwB,2BAA2B,IACpD,CAAC,sBAAsB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAEd,SAAK,iBAAiB,OAAO,KAAK,cAAA,CAAe;AAEhC,qBAAA,OAAO,KAAK,aAAa,GAAG,KAAK,kBAAkB,KAAK,cAAc;AAElF,SAAA,UAAU,OAAO,gBAAgB;AAAA,EAAA;AAAA,EAGhC,oBAA0B;AAC3B,SAAA,UAAU,wBAAwB,CAAC,mBAAmB;AACzD,UAAI,eAAe,OAAO,KAAK,QAAQ,IAAI;AACzC,aAAK,UAAU,OAAO;AAAA,MAAA;AAAA,IACxB,CACD;AAEI,SAAA,UAAU,sBAAsB,CAAC,gBAAgB;AACpD,UAAI,YAAY,OAAO,KAAK,QAAQ,IAAI;AACjC,aAAA,QAAQ,OAAO,WAAW;AAAA,MAAA;AAAA,IACjC,CACD;AAAA,EAAA;AAAA,EAGK,eAA4B;AAC5B,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,KAAK,QAAQ;AAAA,IAC3B,CAAA,EAAE,WAAW;AAER,UAAA,cAAc,IAAI,eAAe;AAAA,MACrC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,IAAI,KAAK,KAAK,QAAQ,QAAQ,EAAE,mBAAmB;AAAA,IACjE,CAAA,EAAE,WAAW;AAEA,kBAAA,OAAO,eAAe,WAAW;AACxC,WAAA;AAAA,EAAA;AAAA,EAGD,gBAA6B;AAC7B,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,OAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,KAAK,QAAQ;AAAA,IAC3B,CAAA,EAAE,WAAW;AAEd,YAAQ,OAAO,IAAI;AAEf,QAAA,KAAK,QAAQ,OAAO,UAAU;AAC1B,YAAA,aAAa,IAAI,eAAe;AAAA,QACpC,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,UAAU;AAAA,MACxB,CAAA,EAAE,WAAW;AAEN,cAAA,OAAO,MAAM,UAAU;AAAA,IAAA;AAG1B,WAAA;AAAA,EAAA;AAAA,EAGD,iBAA8B;AAC9B,UAAA,OAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,QAAQ,IAAI,aAAa;AAAA,MAC7B,KAAK;AAAA,MACL,WAAW,CAAC,oBAAoB,cAAc;AAAA,MAC9C,MAAM;AAAA,MACN,OAAO,KAAK,QAAQ;AAAA,MACpB,aAAa,UAAU;AAAA,IACxB,CAAA,EAAE,WAAW;AAER,UAAA,gBAAgB,IAAI,OAAO;AAAA,MAC/B,WAAW,CAAC,UAAU,iBAAiB;AAAA,MACvC,aAAa;AAAA,MACb,UAAU,MAAY;AACpB,YAAI,iBAAiB,iBAAuB,MAAA,mBAAmB,MAAM,KAAK;AAAA,MAAA;AAAA,IAE7E,CAAA,EAAE,WAAW;AAER,UAAA,eAAe,IAAI,OAAO;AAAA,MAC9B,WAAW,CAAC,UAAU,gBAAgB;AAAA,MACtC,aAAa;AAAA,MACb,UAAU,MAAY,KAAK,kBAAkB;AAAA,IAC9C,CAAA,EAAE,WAAW;AAET,SAAA,OAAO,OAAO,eAAe,YAAY;AACvC,WAAA;AAAA,EAAA;AAAA,EAGD,wBAAqC;AACrC,UAAA,kBAAkB,IAAI,eAAe;AAAA,MACzC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAEd,QAAI,CAAC,KAAK,QAAQ,OAAO,aAAa;AAC9B,YAAA,qBAAqB,IAAI,eAAe;AAAA,QAC5C,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,UAAU;AAAA,MACxB,CAAA,EAAE,WAAW;AAEd,sBAAgB,OAAO,kBAAkB;AAAA,IAChC,WAAA,KAAK,QAAQ,OAAO,UAAU;AACjC,YAAA,aAAa,IAAI,eAAe;AAAA,QACpC,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,UAAU;AAAA,MACxB,CAAA,EAAE,WAAW;AAEd,sBAAgB,OAAO,UAAU;AAAA,IAAA,OAC5B;AACC,YAAA,kBAAkB,IAAI,eAAe;AAAA,QACzC,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,UAAU;AAAA,MACxB,CAAA,EAAE,WAAW;AAEd,sBAAgB,OAAO,eAAe;AAAA,IAAA;AAGjC,WAAA;AAAA,EAAA;AAAA,EAGD,yBAAsC;AACtC,UAAA,mBAAmB,IAAI,eAAe;AAAA,MAC1C,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,aAAa,IAAI,OAAO;AAAA,MAC5B,WAAW,CAAC,UAAU,cAAc;AAAA,MACpC,aAAa,cAAc;AAAA,MAC3B,UAAU,MAAY,KAAK,YAAY;AAAA,IACxC,CAAA,EAAE,WAAW;AAER,UAAA,eAAe,IAAI,OAAO;AAAA,MAC9B,WAAW,CAAC,UAAU,gBAAgB;AAAA,MACtC,aAAa,cAAc;AAAA,MAC3B,UAAU,MAAY,KAAK,cAAc;AAAA,IAC1C,CAAA,EAAE,WAAW;AAEG,qBAAA,OAAO,YAAY,YAAY;AACzC,WAAA;AAAA,EAAA;AAAA,EAGD,eAA4B;AAC5B,UAAA,SAAS,IAAI,eAAe;AAAA,MAChC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAEd,QAAI,KAAK,QAAQ,SAAS,KAAK,aAAa;AAC1C,aAAO,OAAO,KAAK,sBAAA,GAAyB,KAAK,wBAAwB;AAAA,IAAA;AAGpE,WAAA;AAAA,EAAA;AAAA,EAGD,cAAoB;AACnB,WAAA,KAAK,iBAAiB,YAAY;AAClC,WAAA,iBAAiB,WAAW,OAAO;AAAA,IAAA;AAEpC,UAAA,WAAW,KAAK,eAAe;AAChC,SAAA,iBAAiB,OAAO,QAAQ;AAAA,EAAA;AAAA,EAG/B,oBAA0B;AACzB,WAAA,KAAK,iBAAiB,YAAY;AAClC,WAAA,iBAAiB,WAAW,OAAO;AAAA,IAAA;AAEpC,UAAA,UAAU,KAAK,cAAc;AAC9B,SAAA,iBAAiB,OAAO,OAAO;AAAA,EAAA;AAAA,EAG9B,mBAAmB,SAAuB;AAChD,QAAI,QAAQ,KAAA,MAAW,KAAK,QAAQ,MAAM;AACxC,WAAK,kBAAkB;AACvB;AAAA,IAAA;AAGE,QAAA,QAAQ,KAAK,MAAM,IAAI;AACzB,WAAK,kBAAkB;AACvB;AAAA,IAAA;AAGF,SAAK,UAAU,YAAY,KAAK,QAAQ,IAAI,OAAO;AACnD,SAAK,QAAQ,OAAO;AACpB,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGjB,gBAAsB;AAC5B,SAAK,UAAU,cAAc,KAAK,QAAQ,EAAE;AAAA,EAAA;AAEhD;ACnPO,MAAM,iBAAiB,UAAU;AAAA,EAWtC,cAAc;AACZ,UAAM,EAAE,KAAK,OAAO,WAAW,aAAa;AAXtC;AACA;AACA;AACA;AACA;AACA,oCAA0B,CAAC;AAC3B,mEAA+C,IAAI;AACnD,kCAAkB;AAClB,6CAA6B;AAI9B,SAAA,YAAY,iBAAiB,YAAY;AACzC,SAAA,mBAAmB,SAAS,uBAAuB;AACnD,SAAA,eAAe,SAAS,mBAAmB;AAC3C,SAAA,aAAa,KAAK,iBAAiB;AACxC,SAAK,eAAe;AACpB,SAAK,OAAO;AACZ,SAAK,kBAAkB;AACvB,SAAK,qBAAqB;AAAA,EAAA;AAAA,EAG5B,OAAe,yBAAsC;AACnD,WAAO,IAAI,eAAe;AAAA,MACxB,KAAK;AAAA,MACL,WAAW,CAAC,iBAAiB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAAA,EAAA;AAAA,EAGhB,OAAe,qBAAmC;AAChD,WAAO,IAAI,aAAa;AAAA,MACtB,KAAK;AAAA,MACL,WAAW,CAAC,oBAAoB,cAAc;AAAA,MAC9C,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa,UAAU;AAAA,MACvB,UAAU;AAAA,IAAA,CACX;AAAA,EAAA;AAAA,EAGH,OAAe,kBAA+B;AACtC,UAAA,YAAY,IAAI,eAAe;AAAA,MACnC,KAAK;AAAA,MACL,WAAW,CAAC,kBAAkB;AAAA,IAC/B,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,0BAA0B;AAAA,MACtC,aAAa,UAAU;AAAA,IACxB,CAAA,EAAE,WAAW;AAEd,cAAU,OAAO,OAAO;AACjB,WAAA;AAAA,EAAA;AAAA,EAGT,OAAe,oBAAiC;AACxC,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,oBAAoB;AAAA,IACjC,CAAA,EAAE,WAAW;AAER,UAAA,OAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW,CAAC,yBAAyB;AAAA,IACtC,CAAA,EAAE,WAAW;AAER,UAAA,OAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW,CAAC,yBAAyB;AAAA,MACrC,aAAa,UAAU;AAAA,IACxB,CAAA,EAAE,WAAW;AAEN,YAAA,OAAO,MAAM,IAAI;AAClB,WAAA;AAAA,EAAA;AAAA,EAGF,gBAAgB,MAA6B;AAClD,SAAK,eAAe;AACpB,SAAK,SAAS;AACd,QAAI,MAAM;AACH,WAAA,oBAAoB,KAAK,KAAK;AAAA,IAAA,OAC9B;AACL,WAAK,WAAW,CAAC;AACjB,WAAK,eAAe;AAAA,IAAA;AAEjB,SAAA,aAAa,SAAS,EAAE;AAC7B,SAAK,aAAa,WAAA,EAAa,UAAU,OAAO,qBAAqB;AACrE,SAAK,OAAO;AAAA,EAAA;AAAA,EAGP,yBAAyB,WAA2B;AACzD,WAAO,KAAK,oBAAoB,IAAI,SAAS,KAAK;AAAA,EAAA;AAAA,EAG7C,4BAA4B,WAAmB,UAAwB;AAC5E,UAAM,yBAAyB,KAAK,oBAAoB,IAAI,SAAS,KAAK;AAC1E,UAAM,qBAAqB,yBAAyB;AAEpD,QAAI,aAAa,GAAG;AACb,WAAA,oBAAoB,OAAO,SAAS;AAAA,IAAA,OACpC;AACA,WAAA,oBAAoB,IAAI,WAAW,kBAAkB;AAAA,IAAA;AAG5D,aAAS,cAAc,IAAI,YAAY,8BAA8B,CAAC;AAAA,EAAA;AAAA,EAGjE,oBAAoB,UAA+B;AACpD,QAAA,SAAS,WAAW,EAAG;AAErB,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,QAAI,CAAC,YAAa;AAElB,QAAI,wBAAwB;AAC5B,eAAW,WAAW,UAAU;AAC9B,UAAI,QAAQ,OAAO,YAAY,SAAS,CAAC,QAAQ,OAAO,UAAU;AACvC,iCAAA;AAAA,MAAA;AAAA,IAC3B;AAGF,QAAI,KAAK,cAAc;AACrB,WAAK,oBAAoB,IAAI,KAAK,aAAa,OAAO,qBAAqB;AAAA,IAAA;AAG7E,aAAS,cAAc,IAAI,YAAY,8BAA8B,CAAC;AAAA,EAAA;AAAA,EAG9D,SAAe;AAChB,WAAA,KAAK,UAAU,YAAY;AAC3B,WAAA,UAAU,WAAW,OAAO;AAAA,IAAA;AAG7B,UAAA,WAAW,KAAK,eAAe;AAChC,SAAA,UAAU,OAAO,QAAQ;AAExB,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW,CAAC,sBAAsB;AAAA,IACnC,CAAA,EAAE,WAAW;AAEd,QAAI,KAAK,iBAAiB,SAAS,WAAW,GAAG;AACzC,YAAA,YAAY,SAAS,gBAAgB;AACtC,WAAA,iBAAiB,OAAO,SAAS;AAAA,IAAA;AAG1B,kBAAA,OAAO,KAAK,gBAAgB;AAEpC,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW,CAAC,qBAAqB;AAAA,IAClC,CAAA,EAAE,WAAW;AAED,iBAAA,OAAO,KAAK,aAAa,WAAA,GAAc,KAAK,WAAW,YAAY;AAChF,kBAAc,OAAO,YAAY;AAE5B,SAAA,UAAU,OAAO,aAAa;AAAA,EAAA;AAAA,EAG7B,oBAAoB,WAAyB;AAC9C,SAAA,UAAU,oBAAoB,SAAS;AAAA,EAAA;AAAA,EAGtC,iBAA8B;AAC9B,UAAA,WAAW,IAAI,eAAe;AAAA,MAClC,KAAK;AAAA,MACL,WAAW,CAAC,sBAAsB;AAAA,IACnC,CAAA,EAAE,WAAW;AAEd,QAAI,KAAK,cAAc;AACf,YAAA,WAAW,IAAI,eAAe;AAAA,QAClC,KAAK;AAAA,QACL,WAAW,CAAC,qBAAqB;AAAA,QACjC,aAAa,KAAK,aAAa;AAAA,MAChC,CAAA,EAAE,WAAW;AAER,YAAA,aAAa,IAAI,eAAe;AAAA,QACpC,KAAK;AAAA,QACL,WAAW;AAAA,UACT;AAAA,UACA,KAAK,aAAa,WACd,mCACA;AAAA,QACN;AAAA,QACA,aAAa,KAAK,aAAa,WAAW,UAAU,aAAa,UAAU;AAAA,MAC5E,CAAA,EAAE,WAAW;AAEL,eAAA,OAAO,UAAU,UAAU;AAAA,IAAA;AAG/B,WAAA;AAAA,EAAA;AAAA,EAGD,mBAA2B;AACjC,WAAO,IAAI,OAAO;AAAA,MAChB,WAAW,CAAC,cAAc;AAAA,MAC1B,aAAa,cAAc;AAAA,MAC3B,UAAU,MAAY,KAAK,YAAY;AAAA,IAAA,CACxC;AAAA,EAAA;AAAA,EAGK,oBAA0B;AAChC,SAAK,aAAa,WAAW,EAAE,iBAAiB,YAAY,CAAC,UAAU;AACjE,UAAA,MAAM,QAAQ,SAAS;AACzB,aAAK,YAAY;AAAA,MAAA;AAAA,IACnB,CACD;AAED,SAAK,aAAa,WAAa,EAAA,iBAAiB,SAAS,MAAM;AAC7D,WAAK,aAAa,WAAA,EAAa,UAAU,OAAO,qBAAqB;AAAA,IAAA,CACtE;AAED,SAAK,aAAa,WAAa,EAAA,iBAAiB,SAAS,MAAM;AAC7D,WAAK,aAAa,WAAA,EAAa,UAAU,OAAO,qBAAqB;AAAA,IAAA,CACtE;AAED,SAAK,iBAAiB;AAAA,MACpB;AAAA,MACA,MAAM;AACJ,aAAK,oBAAoB;AACzB,aAAK,aAAa;AAClB,mBAAW,MAAM;AACf,eAAK,oBAAoB;AAAA,WACxB,GAAI;AAAA,MACT;AAAA,MACA,EAAE,SAAS,KAAK;AAAA,IAClB;AAEK,SAAA,iBAAiB,iBAAiB,SAAS,MAAM;AACpD,WAAK,aAAa;AAAA,IAAA,CACnB;AAEU,eAAA,iBAAiB,YAAY,MAAM;AAC5C,WAAK,gBAAgB,IAAI;AAAA,IAAA,CAC1B;AAEQ,aAAA,iBAAiB,cAAc,MAAM;AAC5C,WAAK,WAAW,CAAC;AACjB,WAAK,oBAAoB,MAAM;AAAA,IAAA,CAChC;AAEQ,aAAA,iBAAiB,kBAAkB,MAAM;AAChD,WAAK,WAAW,CAAC;AACjB,WAAK,oBAAoB,MAAM;AAAA,IAAA,CAChC;AAAA,EAAA;AAAA,EAGK,yBAA+B;AAChC,SAAA,UAAU,uBAAuB,CAAC,eAAe;AAElD,UAAA,KAAK,iBACJ,WAAW,SAAS,KAAK,aAAa,SAAS,WAAW,OAAO,KAAK,aAAa,QACpF;AACM,cAAA,QAAQ,KAAK,SAAS,KAAK,CAAC,oBAAoB,gBAAgB,OAAO,WAAW,EAAE;AAC1F,YAAI,UAAU,QAAW;AAClB,eAAA,SAAS,KAAK,UAAU;AAC7B,cAAI,KAAK,QAAQ;AACf,iBAAK,aAAa;AAAA,UAAA;AAEpB,eAAK,eAAe;AAAA,QAAA;AAAA,MACtB;AAAA,IACF,CACD;AAEI,SAAA,UAAU,yBAAyB,CAAC,aAAa;AACpD,WAAK,WAAW;AAChB,WAAK,eAAe;AAEd,YAAA,cAAc,KAAK,UAAU,eAAe;AAClD,UAAI,aAAa;AACT,cAAA,qCAAqB,IAAoB;AAC/C,mBAAW,WAAW,UAAU;AAC9B,cAAI,QAAQ,OAAO,YAAY,SAAS,CAAC,QAAQ,OAAO,UAAU;AAChE,kBAAM,6BAA6B,eAAe,IAAI,QAAQ,IAAI,KAAK;AACvE,2BAAe,IAAI,QAAQ,MAAM,6BAA6B,CAAC;AAAA,UAAA;AAAA,QACjE;AAGF,mBAAW,CAAC,QAAQ,KAAK,KAAK,eAAe,WAAW;AACjD,eAAA,oBAAoB,IAAI,QAAQ,KAAK;AAAA,QAAA;AAE5C,iBAAS,cAAc,IAAI,YAAY,8BAA8B,CAAC;AAAA,MAAA;AAAA,IACxE,CACD;AAAA,EAAA;AAAA,EAGK,+BAAqC;AACtC,SAAA,UAAU,wBAAwB,CAAC,mBAAmB;AACpD,WAAA,WAAW,KAAK,SAAS,OAAO,CAAC,YAAY,QAAQ,OAAO,eAAe,EAAE;AAClF,WAAK,eAAe;AAAA,IAAA,CACrB;AAEI,SAAA,UAAU,sBAAsB,CAAC,kBAAkB;AAChD,YAAA,QAAQ,KAAK,SAAS,UAAU,CAAC,YAAY,QAAQ,OAAO,cAAc,EAAE;AAClF,UAAI,UAAU,IAAI;AAChB,aAAK,SAAS,KAAK,EAAE,OAAO,cAAc;AAC1C,aAAK,SAAS,KAAK,EAAE,OAAO,WAAW;AACvC,aAAK,eAAe;AAAA,MAAA;AAAA,IACtB,CACD;AAEI,SAAA,UAAU,yBAAyB,CAAC,qBAAqB;AACtD,YAAA,QAAQ,KAAK,SAAS,UAAU,CAAC,YAAY,QAAQ,OAAO,iBAAiB,EAAE;AACrF,UAAI,UAAU,IAAI;AAChB,aAAK,SAAS,KAAK,EAAE,OAAO,cAAc;AAC1C,aAAK,eAAe;AAAA,MAAA;AAAA,IACtB,CACD;AAEI,SAAA,UAAU,sBAAsB,CAAC,gBAAgB;AAC9C,YAAA,QAAQ,KAAK,SAAS,UAAU,CAAC,YAAY,QAAQ,OAAO,YAAY,EAAE;AAChF,UAAI,UAAU,IAAI;AAChB,aAAK,SAAS,KAAK,EAAE,OAAO,WAAW;AACvC,aAAK,eAAe;AAAA,MAAA;AAAA,IACtB,CACD;AAAA,EAAA;AAAA,EAGK,uBAA6B;AACnC,SAAK,uBAAuB;AAC5B,SAAK,6BAA6B;AAAA,EAAA;AAAA,EAG5B,iBAAuB;AACtB,WAAA,KAAK,iBAAiB,YAAY;AAClC,WAAA,iBAAiB,WAAW,OAAO;AAAA,IAAA;AAGtC,QAAA,KAAK,SAAS,WAAW,GAAG;AACxB,YAAA,YAAY,SAAS,gBAAgB;AACtC,WAAA,iBAAiB,OAAO,SAAS;AACtC;AAAA,IAAA;AAGI,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,QAAI,CAAC,YAAa;AAElB,QAAI,oBAAoB;AACxB,QAAI,kBAAkB;AACtB,QAAI,iBAAqC;AAEzC,QAAI,KAAK,QAAQ;AACJ,iBAAA,WAAW,KAAK,UAAU;AACnC,cAAM,WAAW,IAAI,SAAS,SAAS,KAAK,SAAS;AACrD,aAAK,iBAAiB,OAAO,SAAS,WAAA,CAAY;AAAA,MAAA;AAAA,IACpD,OACK;AACM,iBAAA,WAAW,KAAK,UAAU;AAC/B,YAAA,CAAC,mBAAmB,QAAQ,OAAO,YAAY,SAAS,CAAC,QAAQ,OAAO,UAAU;AAChE,8BAAA;AACd,gBAAA,UAAU,SAAS,kBAAkB;AACtC,eAAA,iBAAiB,OAAO,OAAO;AAClB,4BAAA;AACD,2BAAA;AAAA,QAAA;AAGnB,cAAM,WAAW,IAAI,SAAS,SAAS,KAAK,SAAS;AACrD,aAAK,iBAAiB,OAAO,SAAS,WAAA,CAAY;AAAA,MAAA;AAAA,IACpD;AAGF,QAAI,qBAAqB,gBAAgB;AACvC,qBAAe,eAAe,EAAE,UAAU,WAAW,OAAO,SAAS;AAAA,IAAA,OAChE;AACD,UAAA,CAAC,KAAK,mBAAmB;AACtB,aAAA,iBAAiB,YAAY,KAAK,iBAAiB;AAAA,MAAA;AAAA,IAC1D;AAAA,EACF;AAAA,EAGM,cAAoB;AACtB,QAAA,CAAC,KAAK,aAAc;AAElB,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,QAAI,CAAC,YAAa;AAEZ,UAAA,eAAe,KAAK,aAAa,WAAW;AAClD,QAAI,wBAAwB,kBAAkB;AACtC,YAAA,UAAU,aAAa,MAAM,KAAK;AACpC,UAAA,QAAQ,WAAW,GAAG;AACX,qBAAA,UAAU,IAAI,qBAAqB;AAChD;AAAA,MAAA;AAEF,WAAK,UAAU,YAAY,KAAK,aAAa,OAAO,OAAO;AAC3D,mBAAa,QAAQ;AACrB,WAAK,aAAa;AACb,WAAA,iBAAiB,YAAY,KAAK,iBAAiB;AAAA,IAAA;AAAA,EAC1D;AAAA,EAGM,eAAqB;AACrB,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,QAAI,CAAC,eAAe,CAAC,KAAK,aAAc;AAElC,UAAA,iBAAiB,KAAK,SAAS;AAAA,MACnC,CAAC,YAAA;;AACC,uBAAQ,WAAS,UAAK,iBAAL,mBAAmB,UACpC,QAAQ,OAAO,YAAY,SAC3B,CAAC,QAAQ,OAAO;AAAA;AAAA,IACpB;AAEI,QAAA,eAAe,SAAS,GAAG;AAC7B,iBAAW,WAAW,gBAAgB;AAC/B,aAAA,UAAU,YAAY,QAAQ,EAAE;AAAA,MAAA;AAAA,IACvC;AAGF,SAAK,SAAS;AAAA,EAAA;AAElB;ACraA,MAAe,mBAAA;ACMR,MAAM,oBAAoB,UAAU;AAAA,EACzC,cAAc;AACZ,UAAM,EAAE,KAAK,OAAO,WAAW,gBAAgB;AAC/C,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,YAAY,IAAI,eAAe;AAAA,MACnC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAAD,QAAO,IAAI,aAAa;AAAA,MAC5B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,UAAU;AAAA,IACxB,CAAA,EAAE,WAAW;AAEJ,cAAA,OAAOA,OAAM,OAAO;AACzB,SAAA,UAAU,OAAO,SAAS;AAAA,EAAA;AAEnC;AC9BO,MAAM,aAAa,UAAU;AAAA,EAKlC,YAAY,MAAgB,UAAqC,cAAsB,GAAG;AACxF,UAAM,EAAE,KAAK,OAAO,WAAW,mBAAmB;AAL5C;AACA;AACA;AAIN,SAAK,OAAO;AACZ,SAAK,aAAa;AAClB,SAAK,wBAAwB;AAC7B,SAAK,OAAO;AACZ,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGf,SAAe;AACjB,UAAA,WAAW,IAAI,eAAe;AAAA,MAClC,KAAK;AAAA,MACL,WAAW,CAAC,qBAAqB;AAAA,MACjC,aAAa,KAAK,KAAK;AAAA,IACxB,CAAA,EAAE,WAAW;AAER,UAAA,SAAS,IAAI,eAAe;AAAA,MAChC,KAAK;AAAA,MACL,WAAW;AAAA,QACT;AAAA,QACA,KAAK,KAAK,WAAW,8BAA8B;AAAA,MAAA;AAAA,IAEtD,CAAA,EAAE,WAAW;AAET,SAAA,UAAU,OAAO,QAAQ,QAAQ;AAElC,QAAA,KAAK,wBAAwB,GAAG;AAC5B,YAAA,iBAAiB,IAAI,eAAe;AAAA,QACxC,KAAK;AAAA,QACL,WAAW,CAAC,4BAA4B;AAAA,QACxC,aAAa,KAAK,wBAAwB,IAAI,OAAO,KAAK,sBAAsB,SAAS;AAAA,MAC1F,CAAA,EAAE,WAAW;AACT,WAAA,UAAU,OAAO,cAAc;AAAA,IAAA;AAAA,EACtC;AAAA,EAGM,oBAA0B;AAC3B,SAAA,UAAU,iBAAiB,SAAS,MAAM;AAC7C,UAAI,KAAK,YAAY;AACd,aAAA,WAAW,KAAK,IAAI;AAAA,MAAA;AAAA,IAC3B,CACD;AAAA,EAAA;AAEL;AClCO,MAAM,iBAAiB,UAAU;AAAA,EAStC,cAAc;AACZ,UAAM,EAAE,KAAK,OAAO,WAAW,aAAa;AATtC,qDAAmC,IAAI;AACvC;AACA;AACA;AACA;AACA,wCAAgC;AAChC,wDAAyC,IAAI;AAI9C,SAAA,YAAY,iBAAiB,YAAY;AACzC,SAAA,cAAc,SAAS,kBAAkB;AACzC,SAAA,oBAAoB,SAAS,wBAAwB;AAC1D,SAAK,qBAAqB;AAC1B,SAAK,kBAAkB;AACvB,SAAK,OAAO;AACZ,SAAK,sBAAsB;AAAA,EAAA;AAAA,EAG7B,OAAe,0BAAuC;AACpD,WAAO,IAAI,eAAe;AAAA,MACxB,KAAK;AAAA,MACL,WAAW,CAAC,iBAAiB;AAAA,IAC9B,CAAA,EAAE,WAAW;AAAA,EAAA;AAAA,EAGhB,OAAe,oBAAkC;AAC/C,WAAO,IAAI,aAAa;AAAA,MACtB,KAAK;AAAA,MACL,WAAW,CAAC,oBAAoB,cAAc;AAAA,MAC9C,MAAM;AAAA,MACN,OAAO;AAAA,MACP,aAAa,UAAU;AAAA,MACvB,UAAU;AAAA,IAAA,CACX;AAAA,EAAA;AAAA,EAGI,YAAY,UAA0B;AAC3C,SAAK,WAAW;AAAA,EAAA;AAAA,EAGR,SAAe;AACvB,SAAK,UAAU,OAAO,KAAK,YAAY,WAAW,GAAG,KAAK,iBAAiB;AAAA,EAAA;AAAA,EAGrE,WAAW,MAAsB;AACvC,SAAK,eAAe;AACpB,QAAI,KAAK,UAAU;AACZ,WAAA,SAAS,gBAAgB,IAAI;AAClC,YAAM,QAAQ,IAAI,YAAY,gBAAgB,EAAE,SAAS,MAAM;AAC1D,WAAA,UAAU,cAAc,KAAK;AAAA,IAAA;AAE/B,SAAA,YAAY,SAAS,EAAE;AAC5B,SAAK,YAAY;AAAA,EAAA;AAAA,EAGX,uBAA6B;AAC9B,SAAA,UAAU,gBAAgB,CAAC,SAAS;AACvC,WAAK,gBAAgB,IAAI;AACzB,WAAK,UAAU,gBAAgB;AAAA,IAAA,CAChC;AACD,SAAK,UAAU,iBAAiB,KAAK,iBAAiB,KAAK,IAAI,CAAC;AAChE,SAAK,UAAU,0BAA0B,KAAK,gBAAgB,KAAK,IAAI,CAAC;AACxE,SAAK,UAAU,2BAA2B,KAAK,iBAAiB,KAAK,IAAI,CAAC;AAC1E,SAAK,UAAU,sBAAsB,KAAK,kBAAkB,KAAK,IAAI,CAAC;AACtE,SAAK,UAAU,wBAAwB,KAAK,oBAAoB,KAAK,IAAI,CAAC;AAC1E,SAAK,UAAU,yBAAyB,KAAK,qBAAqB,KAAK,IAAI,CAAC;AAC5E,SAAK,UAAU,uBAAuB,KAAK,kBAAkB,KAAK,IAAI,CAAC;AACvE,SAAK,UAAU,wBAAwB,KAAK,oBAAoB,KAAK,IAAI,CAAC;AAC1E,SAAK,UAAU,sBAAsB,KAAK,kBAAkB,KAAK,IAAI,CAAC;AAAA,EAAA;AAAA,EAGhE,gBAAgB,MAAsB;AACtC,UAAA,cAAc,KAAK,UAAU,eAAe;AAC9C,QAAA,KAAK,WAAU,2CAAa,QAAO;AAChC,WAAA,MAAM,IAAI,KAAK,OAAO,EAAE,OAAO,KAAK,OAAO,UAAU,KAAA,CAAM;AAC5D,UAAA,KAAK,gBAAgB,KAAK,UAAU,KAAK,aAAa,SAAS,KAAK,UAAU;AAC3E,aAAA,SAAS,gBAAgB,EAAE,GAAG,KAAK,cAAc,UAAU,MAAM;AAAA,MAAA;AAExE,WAAK,YAAY;AAAA,IAAA;AAAA,EACnB;AAAA,EAGM,iBAAiB,MAAsB;AACvC,UAAA,cAAc,KAAK,UAAU,eAAe;AAC9C,QAAA,KAAK,WAAU,2CAAa,QAAO;AAChC,WAAA,MAAM,IAAI,KAAK,OAAO,EAAE,OAAO,KAAK,OAAO,UAAU,MAAA,CAAO;AAC7D,UAAA,KAAK,gBAAgB,KAAK,UAAU,KAAK,aAAa,SAAS,KAAK,UAAU;AAC3E,aAAA,SAAS,gBAAgB,EAAE,GAAG,KAAK,cAAc,UAAU,OAAO;AAAA,MAAA;AAEzE,WAAK,YAAY;AAAA,IAAA;AAAA,EACnB;AAAA,EAGM,kBAAkB,OAAiD;AACnE,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,SAAK,MAAM,MAAM;AACX,UAAA,aAAa,MAAM,OAAO,CAAC,SAAS,KAAK,WAAU,2CAAa,MAAK;AAC3E,eAAW,QAAQ,YAAY;AACxB,WAAA,MAAM,IAAI,KAAK,OAAO,EAAE,OAAO,KAAK,OAAO,UAAU,KAAA,CAAM;AAAA,IAAA;AAElE,SAAK,YAAY;AACjB,SAAK,sBAAsB;AAAA,EAAA;AAAA,EAGrB,oBAAoB,OAAmD;AACvE,UAAA,cAAc,KAAK,UAAU,eAAe;AAC5C,UAAA,aAAa,MAAM,OAAO,CAAC,SAAS,KAAK,WAAU,2CAAa,MAAK;AAC3E,eAAW,QAAQ,YAAY;AACxB,WAAA,MAAM,IAAI,KAAK,OAAO,EAAE,OAAO,KAAK,OAAO,UAAU,MAAA,CAAO;AAAA,IAAA;AAEnE,SAAK,YAAY;AAAA,EAAA;AAAA,EAGX,qBAAqB,UAA+B;AAC1D,QAAI,KAAK,UAAU;AACZ,WAAA,SAAS,oBAAoB,QAAQ;AAAA,IAAA;AAE5C,eAAW,WAAW,SAAU,MAAK,SAAS,IAAI,QAAQ,IAAI,OAAO;AAAA,EAAA;AAAA,EAG/D,kBAAkB,SAA4B;AACpD,QAAI,KAAK,YAAY,CAAC,QAAQ,OAAO,UAAU;AAC7C,WAAK,SAAS,4BAA4B,QAAQ,MAAM,CAAC;AAAA,IAAA;AAE3D,SAAK,SAAS,IAAI,QAAQ,IAAI,OAAO;AAAA,EAAA;AAAA,EAG/B,oBAAoB,gBAA2C;;AACrE,UAAM,kBAAkB,KAAK,SAAS,IAAI,eAAe,EAAE;AAC3D,QAAI,mBAAmB,CAAC,gBAAgB,OAAO,UAAU;AACvD,iBAAK,aAAL,mBAAe,4BAA4B,gBAAgB,MAAM;AAAA,IAAE;AAEhE,SAAA,SAAS,OAAO,eAAe,EAAE;AAAA,EAAA;AAAA,EAGhC,kBAAkB,aAAsC;;AAC9D,UAAM,UAAU,KAAK,SAAS,IAAI,YAAY,EAAE;AAC1C,UAAA,cAAc,KAAK,UAAU,eAAe;AAC9C,QAAA,WAAW,CAAC,QAAQ,OAAO,YAAY,QAAQ,QAAO,2CAAa,QAAO;AAC5E,iBAAK,aAAL,mBAAe,4BAA4B,QAAQ,MAAM;AACzD,cAAQ,OAAO,WAAW;AAAA,IAAA;AAAA,EAC5B;AAAA,EAGM,oBAA0B;AAC3B,SAAA,YAAY,aAAa,iBAAiB,SAAS,MAAM,KAAK,aAAa;AAEvE,aAAA,iBAAiB,kBAAkB,MAAM;AAChD,WAAK,eAAe;AACpB,WAAK,SAAS,MAAM;AACpB,UAAI,KAAK,UAAU;AACZ,aAAA,SAAS,gBAAgB,IAAI;AAAA,MAAA;AAEpC,WAAK,YAAY;AAAA,IAAA,CAClB;AAEQ,aAAA,iBAAiB,cAAc,MAAM;AAC5C,WAAK,eAAe;AACpB,WAAK,SAAS,MAAM;AACpB,UAAI,KAAK,UAAU;AACZ,aAAA,SAAS,gBAAgB,IAAI;AAAA,MAAA;AAEpC,WAAK,YAAY;AAAA,IAAA,CAClB;AAEQ,aAAA,iBAAiB,gCAAgC,MAAM;AAC9D,WAAK,YAAY;AAAA,IAAA,CAClB;AAEU,eAAA,iBAAiB,YAAY,MAAM;AAC5C,WAAK,eAAe;AACpB,UAAI,KAAK,UAAU;AACZ,aAAA,SAAS,gBAAgB,IAAI;AAAA,MAAA;AAEpC,WAAK,YAAY;AAAA,IAAA,CAClB;AAAA,EAAA;AAAA,EAGK,cAAoB;AAC1B,UAAM,aAAa,KAAK,YAAY,SAAA,EAAW,YAAY;AAC3D,UAAM,gBAAgB,CAAC,GAAG,KAAK,MAAM,OAAQ,CAAA,EAAE;AAAA,MAAO,CAAC,SACrD,KAAK,MAAM,YAAY,EAAE,SAAS,UAAU;AAAA,IAC9C;AACA,SAAK,YAAY,aAAa;AAAA,EAAA;AAAA,EAGxB,YAAY,OAA0B;;AACrC,WAAA,KAAK,kBAAkB,YAAY;AACnC,WAAA,kBAAkB,WAAW,OAAO;AAAA,IAAA;AAG3C,UAAM,aAAa,KAAK,YAAY,SAAA,EAAW,YAAY;AAC3D,UAAM,gBAAgB,SAAS,CAAC,GAAG,KAAK,MAAM,QAAQ;AACtD,UAAM,gBAAgB,aAClB,cAAc,OAAO,CAAC,SAAS,KAAK,MAAM,YAAY,EAAE,SAAS,UAAU,CAAC,IAC5E;AAEA,QAAA,cAAc,WAAW,GAAG;AACxB,YAAA,sBAAsB,IAAI,eAAe;AAAA,QAC7C,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,UAAU;AAAA,MACxB,CAAA,EAAE,WAAW;AACT,WAAA,kBAAkB,OAAO,mBAAmB;AACjD;AAAA,IAAA;AAGF,eAAW,QAAQ,eAAe;AAChC,YAAM,gBAAc,UAAK,aAAL,mBAAe,yBAAyB,KAAK,WAAU;AACrE,YAAA,cAAc,IAAI,KAAK,MAAM,KAAK,WAAW,KAAK,IAAI,GAAG,WAAW,EAAE,WAAW;AAEvF,UAAI,KAAK,gBAAgB,KAAK,aAAa,UAAU,KAAK,OAAO;AACnD,oBAAA,UAAU,IAAI,2BAA2B;AAAA,MAAA;AAGlD,WAAA,kBAAkB,OAAO,WAAW;AAAA,IAAA;AAAA,EAC3C;AAAA,EAGM,wBAA8B;AAC9B,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,QAAI,aAAa;AACf,iBAAW,QAAQ,KAAK,MAAM,OAAA,GAAU;AACjC,aAAA,UAAU,oBAAoB,KAAK,KAAK;AAAA,MAAA;AAAA,IAC/C;AAAA,EACF;AAEJ;AChPO,MAAM,iBAAiB,UAAU;AAAA,EAMtC,cAAc;AACZ,UAAM,EAAE,KAAK,QAAQ,WAAW,QAAQ;AANlC;AACA;AACA;AACA;AAID,SAAA,WAAW,IAAI,SAAS;AACxB,SAAA,WAAW,IAAI,SAAS;AACxB,SAAA,cAAc,IAAI,YAAY;AACnC,SAAK,cAAc;AAEd,SAAA,SAAS,YAAY,KAAK,QAAQ;AAEvC,SAAK,OAAO;AACZ,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGf,SAAe;AACjB,UAAA,QAAQ,IAAI,eAAe;AAAA,MAC/B,KAAK;AAAA,MACL,WAAW,CAAC,aAAa;AAAA,MACzB,aAAa,YAAY;AAAA,IAC1B,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,eAAe;AAAA,IAC5B,CAAA,EAAE,WAAW;AAEd,YAAQ,OAAO,KAAK,SAAS,WAAA,CAAY;AACjC,YAAA,OAAO,KAAK,cAAc,KAAK,YAAY,eAAe,KAAK,SAAS,WAAA,CAAY;AAErF,WAAA,KAAK,UAAU,YAAY;AAC3B,WAAA,UAAU,WAAW,OAAO;AAAA,IAAA;AAE9B,SAAA,UAAU,OAAO,OAAO,OAAO;AAAA,EAAA;AAAA,EAG9B,oBAA0B;AAC3B,SAAA,UAAU,iBAAiB,gBAAgB,MAAM;AACpD,WAAK,cAAc;AACnB,WAAK,OAAO;AAAA,IAAA,CACb;AAEQ,aAAA,iBAAiB,kBAAkB,MAAM;AAChD,WAAK,cAAc;AACnB,WAAK,OAAO;AAAA,IAAA,CACb;AAEQ,aAAA,iBAAiB,cAAc,MAAM;AAC5C,WAAK,cAAc;AACnB,WAAK,OAAO;AAAA,IAAA,CACb;AAEU,eAAA,iBAAiB,YAAY,MAAM;AAC5C,WAAK,cAAc;AACnB,WAAK,OAAO;AAAA,IAAA,CACb;AAAA,EAAA;AAEL;ACjEO,MAAM,OAAO;AAAA,EAIlB,YAAY,YAAmB;AAHvB;AACA;AAGD,SAAA,6BAAa,IAAI;AACtB,SAAK,aAAa;AAElB,SAAK,gBAAgB;AACrB,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGzB,OAAc,YAAY,OAAoB;AAC5C,eAAW,SAAS,OAAO;AAAA,EAAA;AAAA,EAG7B,OAAe,mBAAmB,MAA6B;AAC7D,UAAM,cAAc,oBAAI,IAAY,CAAC,MAAM,OAAO,MAAM,OAAO,MAAM,MAAM,MAAM,KAAK,CAAC;AAChF,WAAA,YAAY,IAAI,IAAI;AAAA,EAAA;AAAA,EAGtB,SAAS,OAAc,SAA8B;AACrD,SAAA,OAAO,IAAI,OAAO,OAAO;AAAA,EAAA;AAAA,EAGxB,kBAAwB;AAC1B,QAAA,CAAC,WAAW,SAAS,MAAM;AAClB,iBAAA,SAAS,OAAO,KAAK;AAAA,IAAA;AAAA,EAClC;AAAA,EAGM,oBAA0B;AAChC,eAAW,iBAAiB,cAAc,MAAM,KAAK,aAAa;AAClE,WAAO,iBAAiB,QAAQ,MAAM,KAAK,aAAa;AAAA,EAAA;AAAA,EAGlD,cAAoB;AAC1B,UAAM,cAAc,WAAW,SAAS,QAAQ,KAAK;AACrD,UAAM,QAAQ,OAAO,mBAAmB,WAAW,IAAI,cAAc,MAAM;AAC3E,UAAM,UAAU,KAAK,OAAO,IAAI,KAAK;AAErC,QAAI,SAAS;AACH,cAAA;AAAA,IAAA,OACH;AACM,iBAAA,SAAS,OAAO,KAAK;AAAA,IAAA;AAAA,EAClC;AAEJ;AClDA,MAAe,QAAA;ACWR,MAAM,kBAAkB,UAAU;AAAA,EACvC,cAAc;AACZ,UAAM,EAAE,KAAK,QAAQ,WAAW,SAAS;AACzC,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW,CAAC,kBAAkB;AAAA,IAC/B,CAAA,EAAE,WAAW;AAER,UAAA,aAAa,IAAI,aAAa;AAAA,MAClC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,gBAAgB;AAAA,MAC5B,aAAa,YAAY;AAAA,IAC1B,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,gBAAgB;AAAA,MAC5B,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAER,UAAA,aAAa,IAAI,OAAO;AAAA,MAC5B,WAAW,CAAC,kBAAkB;AAAA,MAC9B,aAAa,cAAc;AAAA,MAC3B,UAAU,MAAY,OAAO,YAAY,MAAM,KAAK;AAAA,IACrD,CAAA,EAAE,WAAW;AAEd,iBAAa,OAAO,SAAS,YAAY,SAAS,UAAU;AACvD,SAAA,UAAU,OAAO,YAAY;AAAA,EAAA;AAEtC;ACvCO,MAAM,0BAA0B,UAAU;AAAA,EAO/C,cAAc;AACZ,UAAM,EAAE,KAAK,QAAQ,WAAW,aAAa;AAPvC;AACA;AACA;AACA;AACA;AAID,SAAA,YAAY,iBAAiB,YAAY;AAC9C,SAAK,UAAU,gBAAgB,kBAAkB,UAAU,KAAK,IAAI,CAAC;AACrE,SAAK,gBAAgB,kBAAkB;AAAA,MACrC,YAAY;AAAA,MACZ;AAAA,IACF;AACA,SAAK,gBAAgB,kBAAkB;AAAA,MACrC,YAAY;AAAA,MACZ;AAAA,IACF;AACA,SAAK,gBAAgB,kBAAkB,YAAY,WAAW,QAAQ;AACtE,SAAK,gBAAgB,kBAAkB,YAAY,WAAW,QAAQ;AACtE,SAAK,OAAO;AAAA,EAAA;AAAA,EAGd,OAAe,iBACb,aACA,WACc;AACR,UAAA,aAAa,IAAI,aAAa;AAAA,MAClC,KAAK;AAAA,MACL,WAAW,CAAC,oBAAoB,cAAc;AAAA,MAC9C,MAAM;AAAA,MACN,OAAO;AAAA,MACP;AAAA,MACA,UAAU;AAAA,MACV,YACE,cAAc,aACV,EAAE,cAAc,mBAAmB,IACnC,EAAE,cAAc,WAAW;AAAA,IAAA,CAClC;AAEM,WAAA;AAAA,EAAA;AAAA,EAGT,OAAe,cAAc,aAAkC;AACvD,UAAA,cAAc,IAAI,eAAe;AAAA,MACrC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAER,UAAA,UAAU,IAAI,eAAe;AAAA,MACjC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAEF,gBAAA,iBAAiB,cAAc,MAAM;AAC/C,cAAQ,MAAM,UAAU;AAAA,IAAA,CACzB;AACW,gBAAA,iBAAiB,cAAc,MAAM;AAC/C,cAAQ,MAAM,UAAU;AAAA,IAAA,CACzB;AAED,gBAAY,OAAO,OAAO;AAEnB,WAAA;AAAA,EAAA;AAAA,EAGT,OAAe,YAAY,WAAgC;AACnD,UAAAC,SAAQ,IAAI,eAAe;AAAA,MAC/B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAEP,WAAAA;AAAA,EAAA;AAAA,EAGT,OAAe,iBAAiB,UAA2B;AACzD,WAAO,SAAS,UAAU,KAAK,SAAS,UAAU;AAAA,EAAA;AAAA,EAGpD,OAAe,iBAAiB,UAA2B;AACzD,WACE,SAAS,UAAU,KACnB,SAAS,UAAU,MACnB,QAAQ,KAAK,QAAQ,KACrB,KAAK,KAAK,QAAQ,KAClB,cAAc,KAAK,QAAQ;AAAA,EAAA;AAAA,EAI/B,OAAe,YAAkB;AACxB,WAAA,YAAY,MAAM,IAAI;AAAA,EAAA;AAAA,EAGrB,SAAe;AACjB,UAAA,gBAAgB,KAAK,oBAAoB;AACzC,UAAA,gBAAgB,KAAK,oBAAoB;AACzC,UAAA,eAAe,IAAI,OAAO;AAAA,MAC9B,WAAW,CAAC,gBAAgB;AAAA,MAC5B,aAAa,cAAc;AAAA,MAC3B,UAAU,MAAY,KAAK,aAAa;AAAA,IAAA,CACzC;AAED,iBAAa,WAAW,EAAE,iBAAiB,SAAS,CAAC,UAAU;AAC7D,YAAM,eAAe;AAAA,IAAA,CACtB;AAED,SAAK,UAAU,OAAO,eAAe,eAAe,aAAa,YAAY;AAAA,EAAA;AAAA,EAGvE,sBAAmC;AACnC,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,yBAAyB,IAAI,eAAe;AAAA,MAChD,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,YAAY;AAAA,IAC1B,CAAA,EAAE,WAAW;AAEd,UAAM,UAAU,kBAAkB,cAAc,aAAa,QAAQ;AAE9C,2BAAA,OAAO,eAAe,OAAO;AAEvC,iBAAA;AAAA,MACX;AAAA,MACA,KAAK,cAAc,WAAW;AAAA,MAC9B,KAAK;AAAA,IACP;AAEA,SAAK,cAAc,WAAa,EAAA,iBAAiB,SAAS,MAAM;AAC9D,WAAK,cAAc,WAAA,EAAa,UAAU,OAAO,qBAAqB;AACjE,WAAA,cAAc,UAAU,OAAO,2BAA2B;AAAA,IAAA,CAChE;AAEM,WAAA;AAAA,EAAA;AAAA,EAGD,sBAAmC;AACnC,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,yBAAyB,IAAI,eAAe;AAAA,MAChD,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,YAAY;AAAA,IAC1B,CAAA,EAAE,WAAW;AAEd,UAAM,UAAU,kBAAkB,cAAc,aAAa,QAAQ;AAE9C,2BAAA,OAAO,eAAe,OAAO;AAEvC,iBAAA;AAAA,MACX;AAAA,MACA,KAAK,cAAc,WAAW;AAAA,MAC9B,KAAK;AAAA,IACP;AAEA,SAAK,cAAc,WAAa,EAAA,iBAAiB,SAAS,MAAM;AAC9D,WAAK,cAAc,WAAA,EAAa,UAAU,OAAO,qBAAqB;AACjE,WAAA,cAAc,UAAU,OAAO,2BAA2B;AAAA,IAAA,CAChE;AAEM,WAAA;AAAA,EAAA;AAAA,EAGD,eAAqB;AACrB,UAAA,gBAAgB,KAAK,cAAc,SAAS;AAC5C,UAAA,gBAAgB,KAAK,cAAc,SAAS;AAE9C,QAAA,kBAAkB,iBAAiB,aAAa,GAAG;AAChD,WAAA,cAAc,UAAU,OAAO,2BAA2B;AAC/D,WAAK,cAAc,WAAA,EAAa,UAAU,OAAO,qBAAqB;AAAA,IAAA,OACjE;AACA,WAAA,cAAc,UAAU,IAAI,2BAA2B;AAC5D,WAAK,cAAc,WAAA,EAAa,UAAU,IAAI,qBAAqB;AACnE;AAAA,IAAA;AAGE,QAAA,kBAAkB,iBAAiB,aAAa,GAAG;AAChD,WAAA,cAAc,UAAU,OAAO,2BAA2B;AAC/D,WAAK,cAAc,WAAA,EAAa,UAAU,OAAO,qBAAqB;AAAA,IAAA,OACjE;AACA,WAAA,cAAc,UAAU,IAAI,2BAA2B;AAC5D,WAAK,cAAc,WAAA,EAAa,UAAU,IAAI,qBAAqB;AACnE;AAAA,IAAA;AAGE,QAAA;AACG,WAAA,UAAU,iBAAiB,eAAe,aAAa;AAAA,aACrDA,QAAO;AACN,cAAA,MAAM,wBAAwBA,MAAK;AAAA,IAAA;AAAA,EAC7C;AAEJ;AC1NO,MAAM,kBAAkB,UAAU;AAAA,EAGvC,cAAc;AACZ,UAAM,EAAE,KAAK,QAAQ,WAAW,SAAS;AAHnC,oCAA8B,IAAI,kBAAkB;AAI1D,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,QAAQ,IAAI,eAAe;AAAA,MAC/B,KAAK;AAAA,MACL,WAAW,CAAC,cAAc;AAAA,MAC1B,aAAa,YAAY;AAAA,IAC1B,CAAA,EAAE,WAAW;AAEd,SAAK,UAAU,OAAO,OAAO,KAAK,SAAS,YAAY;AAAA,EAAA;AAE3D;AClBO,MAAM,oBAAoB,eAAe;AAAA,EAC9C,YAAY,YAA4B;AAChC,UAAA,EAAE,GAAG,YAAY;AAClB,SAAA,SAAS,WAAW,IAAI;AACxB,SAAA,YAAY,WAAW,MAAM;AAAA,EAAA;AAAA,EAG5B,SAAS,KAAmB;AAC9B,QAAA,OAAO,KAAK,mBAAmB,mBAAmB;AACpD,WAAK,QAAQ,OAAO;AAAA,IAAA;AAAA,EACtB;AAAA,EAGM,YAAY,QAAwC;AACtD,QAAA,UAAU,KAAK,mBAAmB,mBAAmB;AACvD,WAAK,QAAQ,SAAS;AAAA,IAAA;AAAA,EACxB;AAEJ;AChBO,MAAM,kBAAkB,UAAU;AAAA,EACvC,cAAc;AACZ,UAAM,EAAE,KAAK,OAAO,WAAW,qBAAqB;AACpD,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa,GAAG,cAAc;AAAA,IAC/B,CAAA,EAAE,WAAW;AAER,UAAA,aAAa,IAAI,YAAY;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,gBAAgB,yBAAyB;AAAA,MACrD,aAAa;AAAA,MACb,MAAM;AAAA,MACN,QAAQ;AAAA,IACT,CAAA,EAAE,WAAW;AAET,SAAA,UAAU,OAAO,YAAY,aAAa;AAAA,EAAA;AAEnD;AC7BA,MAAe,OAAA;ACQR,MAAM,mBAAmB,UAAU;AAAA,EACxC,cAAc;AACZ,UAAM,EAAE,KAAK,OAAO,WAAW,uBAAuB;AACtD,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,aAAa,IAAI,eAAe;AAAA,MACpC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAER,UAAA,aAAa,IAAI,aAAa;AAAA,MAClC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,aAAa,IAAI,YAAY;AAAA,MACjC,KAAK;AAAA,MACL,WAAW,CAAC,gBAAgB,sBAAsB;AAAA,MAClD,MAAM;AAAA,MACN,QAAQ;AAAA,IACT,CAAA,EAAE,WAAW;AAEd,eAAW,OAAO,UAAU;AAEvB,SAAA,UAAU,OAAO,YAAY,UAAU;AAAA,EAAA;AAEhD;ACjCO,MAAM,eAAe,UAAU;AAAA,EAIpC,cAAc;AACZ,UAAM,EAAE,KAAK,UAAU,WAAW,UAAU;AAJtC,qCAAuB,IAAI,UAAU;AACrC,sCAAyB,IAAI,WAAW;AAI9C,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,kBAAkB,IAAI,eAAe;AAAA,MACzC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAEE,oBAAA,OAAO,KAAK,UAAU,WAAA,GAAc,KAAK,WAAW,YAAY;AAE3E,SAAA,UAAU,OAAO,eAAe;AAAA,EAAA;AAEzC;ACnBO,MAAM,mBAAmB,UAAU;AAAA,EACxC,cAAc;AACZ,UAAM,EAAE,KAAK,MAAM,WAAW,gBAAgB;AAC9C,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACvB,eAAW,QAAQ,YAAY;AACvB,YAAA,WAAW,IAAI,eAAe;AAAA,QAClC,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,KAAK;AAAA,MACnB,CAAA,EAAE,WAAW;AAEL,eAAA,iBAAiB,SAAS,MAAM;AAChC,eAAA,YAAY,KAAK,KAAK;AAAA,MAAA,CAC9B;AAEI,WAAA,UAAU,OAAO,QAAQ;AAAA,IAAA;AAAA,EAChC;AAEJ;AC3BA,MAAe,SAAA;ACAf,MAAe,SAAA;ACSR,MAAM,yBAAyB,UAAU;AAAA,EAe9C,cAAc;AACN,UAAA;AAAA,MACJ,KAAK;AAAA,MACL,WAAW;AAAA,IAAA,CACZ;AAlBK,kCAAkB;AAClB,4CAAgC,IAAI,eAAe;AAAA,MACzD,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AACN,mDAAmD,IAAI,wBAAwB;AAC/E,2CAA4B,KAAK,wBAAwB,YAAY;AACrE,uCAA2B,IAAI,aAAa;AAAA,MAClD,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ,KAAK,oBAAoB,OAAO,SAAS;AAAA,MACjD,KAAK,KAAK,oBAAoB,OAAO,YAAY;AAAA,IAClD,CAAA,EAAE,WAAW;AAOZ,SAAK,OAAO;AACZ,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGf,SAAe;AACjB,UAAAC,oBAAmB,IAAI,eAAe;AAAA,MAC1C,KAAK;AAAA,MACL,WAAW;AAAA,MACX,UAAU,MAAY;AACpB,aAAK,aAAa;AAAA,MAAA;AAAA,IAErB,CAAA,EAAE,WAAW;AAEd,UAAM,WAAW,KAAK,mBAAmB,MAAM,QAAQ,SAAS;AAChE,UAAM,WAAW,KAAK,mBAAmB,MAAM,QAAQ,SAAS;AAE/C,IAAAA,kBAAA,OAAO,KAAK,WAAW;AACnC,SAAA,iBAAiB,OAAO,UAAU,QAAQ;AAC/C,SAAK,UAAU,OAAOA,mBAAkB,KAAK,gBAAgB;AAAA,EAAA;AAAA,EAGvD,mBAAmBC,WAAoB,MAAc,MAA2B;AAChF,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,UAAU,MAAY;AACpB,aAAK,eAAeA,SAAQ;AAAA,MAAA;AAAA,IAE/B,CAAA,EAAE,WAAW;AAER,UAAA,cAAc,IAAI,aAAa;AAAA,MACnC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAKA,cAAa,OAAO,YAAY;AAAA,IACtC,CAAA,EAAE,WAAW;AAER,UAAA,eAAe,IAAI,eAAe;AAAA,MACtC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAED,iBAAA,OAAO,aAAa,YAAY;AACtC,WAAA;AAAA,EAAA;AAAA,EAGD,oBAA0B;AACrB,eAAA,iBAAiB,SAAS,CAAC,UAAiB;AACrD,UACE,KAAK,UACL,MAAM,WAAW,QACjB,MAAM,kBAAkB,QACxB,CAAC,KAAK,UAAU,SAAS,MAAM,MAAM,GACrC;AACA,aAAK,cAAc;AAAA,MAAA;AAAA,IACrB,CACD;AAEQ,aAAA,iBAAiB,kBAAkB,CAAC,UAAuB;AAC9D,UAAA,sBAAsB,KAAK,GAAG;AAC3B,aAAA,kBAAkB,MAAM,OAAO;AAChC,YAAA,KAAK,uBAAuB,kBAAkB;AAChD,eAAK,YAAY,MAAM,KAAK,oBAAoB,OAAO,SAAS;AAChE,eAAK,YAAY,MAAM,KAAK,oBAAoB,OAAO,YAAY;AAAA,QAAA;AAAA,MACrE;AAAA,IACF,CACD;AAAA,EAAA;AAAA,EAGK,eAAqB;AACtB,SAAA,SAAS,CAAC,KAAK;AACpB,QAAI,KAAK,kBAAkB;AACpB,WAAA,iBAAiB,UAAU,OAAO,mCAAmC;AAAA,IAAA;AAAA,EAC5E;AAAA,EAGM,gBAAsB;AACxB,QAAA,KAAK,UAAU,KAAK,kBAAkB;AACxC,WAAK,SAAS;AACT,WAAA,iBAAiB,UAAU,OAAO,mCAAmC;AAAA,IAAA;AAAA,EAC5E;AAAA,EAGM,eAAeA,WAA0B;AAC3C,QAAAA,cAAa,KAAK,iBAAiB;AACrC,WAAK,cAAc;AACnB;AAAA,IAAA;AAEG,SAAA,wBAAwB,YAAYA,SAAQ;AACjD,SAAK,cAAc;AACnB,eAAW,SAAS,OAAO;AAAA,EAAA;AAE/B;AC1HA,MAAe,WAAA;ACAf,MAAe,YAAA;ACQR,MAAM,sBAAsB,UAAU;AAAA,EAc3C,cAAc;AACN,UAAA;AAAA,MACJ,KAAK;AAAA,MACL,WAAW;AAAA,IAAA,CACZ;AAjBK,wCAAsB;AACtB,kCAAkB;AAClB,yCAA6B,IAAI,eAAe;AAAA,MACtD,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AACN,uCAA2B,IAAI,aAAa;AAAA,MAClD,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ,KAAK,iBAAiB,SAAS,WAAW;AAAA,MAClD,KAAK,KAAK,iBAAiB,SAAS,cAAc;AAAA,IACnD,CAAA,EAAE,WAAW;AAOZ,SAAK,UAAU;AACf,SAAK,OAAO;AACZ,SAAK,kBAAkB;AAAA,EAAA;AAAA,EAGf,SAAe;AACjB,UAAA,gBAAgB,IAAI,eAAe;AAAA,MACvC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,UAAU,MAAY;AACpB,aAAK,aAAa;AAAA,MAAA;AAAA,IAErB,CAAA,EAAE,WAAW;AAEd,UAAM,aAAa,KAAK,gBAAgB,QAAQ,UAAU,cAAc,SAAS;AACjF,UAAM,cAAc,KAAK,gBAAgB,SAAS,WAAW,cAAc,UAAU;AAEvE,kBAAA,OAAO,KAAK,WAAW;AAChC,SAAA,cAAc,OAAO,YAAY,WAAW;AACjD,SAAK,UAAU,OAAO,eAAe,KAAK,aAAa;AAAA,EAAA;AAAA,EAGjD,YAAkB;AAClB,UAAA,aAAa,aAAa,QAAQ,2BAA2B;AACnE,QAAI,eAAe,QAAW;AAC5B,WAAK,eAAe;AAAA,IACX,WAAA,eAAe,UAAU,eAAe,SAAS;AAC1D,WAAK,eAAe;AAAA,IAAA,OACf;AACL,WAAK,eAAe;AAAA,IAAA;AAEjB,SAAA,WAAW,KAAK,YAAY;AAAA,EAAA;AAAA,EAG3B,gBAAgB,OAAcH,OAAc,MAA2B;AACvE,UAAA,YAAY,IAAI,eAAe;AAAA,MACnC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,UAAU,MAAY;AACpB,aAAK,YAAY,KAAK;AAAA,MAAA;AAAA,IAEzB,CAAA,EAAE,WAAW;AAER,UAAA,YAAY,IAAI,aAAa;AAAA,MACjC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQA;AAAA,MACR,KAAK,UAAU,SAAS,cAAc;AAAA,IACvC,CAAA,EAAE,WAAW;AAER,UAAA,YAAY,IAAI,eAAe;AAAA,MACnC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAEJ,cAAA,OAAO,WAAW,SAAS;AAC9B,WAAA;AAAA,EAAA;AAAA,EAGD,oBAA0B;AACrB,eAAA,iBAAiB,SAAS,CAAC,UAAiB;AACrD,UACE,KAAK,UACL,MAAM,WAAW,QACjB,MAAM,kBAAkB,QACxB,CAAC,KAAK,UAAU,SAAS,MAAM,MAAM,GACrC;AACA,aAAK,cAAc;AAAA,MAAA;AAAA,IACrB,CACD;AAAA,EAAA;AAAA,EAGK,eAAqB;AACtB,SAAA,SAAS,CAAC,KAAK;AACpB,QAAI,KAAK,eAAe;AACjB,WAAA,cAAc,UAAU,OAAO,gCAAgC;AAAA,IAAA;AAAA,EACtE;AAAA,EAGM,gBAAsB;AACxB,QAAA,KAAK,UAAU,KAAK,eAAe;AACrC,WAAK,SAAS;AACT,WAAA,cAAc,UAAU,OAAO,gCAAgC;AAAA,IAAA;AAAA,EACtE;AAAA,EAGM,WAAW,OAAoB;AACrC,QAAI,UAAU,SAAS;AACZ,eAAA,KAAK,UAAU,IAAI,mBAAmB;AAAA,IAAA,OAC1C;AACI,eAAA,KAAK,UAAU,OAAO,mBAAmB;AAAA,IAAA;AAEhD,QAAA,KAAK,uBAAuB,kBAAkB;AAChD,WAAK,YAAY,MAAM,UAAU,SAAS,WAAW;AACrD,WAAK,YAAY,MAAM,UAAU,SAAS,cAAc;AAAA,IAAA;AAAA,EAC1D;AAAA,EAGM,YAAY,OAAoB;AAClC,QAAA,UAAU,KAAK,cAAc;AAC/B,WAAK,cAAc;AACnB;AAAA,IAAA;AAEF,SAAK,eAAe;AACpB,SAAK,WAAW,KAAK;AACR,iBAAA,QAAQ,6BAA6B,KAAK;AACvD,SAAK,cAAc;AAAA,EAAA;AAEvB;ACxIA,MAAe,OAAA;ACYR,MAAM,iBAAiB,UAAU;AAAA,EAKtC,cAAc;AACN,UAAA;AAAA,MACJ,KAAK;AAAA,MACL,WAAW;AAAA,IAAA,CACZ;AARK,sCAAsB;AACtB,oCAAmB;AACnB;AAOD,SAAA,YAAY,iBAAiB,YAAY;AACxC,UAAA,cAAc,KAAK,UAAU,eAAe;AAClD,SAAK,aAAa,gBAAgB;AAC7B,SAAA,YAAW,2CAAa,UAAS;AACtC,SAAK,UAAU,gBAAgB,KAAK,UAAU,KAAK,IAAI,CAAC;AACxD,SAAK,UAAU,iBAAiB,KAAK,WAAW,KAAK,IAAI,CAAC;AAC1D,SAAK,OAAO;AAAA,EAAA;AAAA,EAGd,OAAe,cAAoB;AAC1B,WAAA,YAAY,MAAM,KAAK;AAAA,EAAA;AAAA,EAGtB,SAAe;AACjB,UAAA,WAAW,IAAI,aAAa;AAAA,MAChC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,KAAK;AAAA,IACN,CAAA,EAAE,WAAW;AAER,UAAA,SAAS,IAAI,eAAe;AAAA,MAChC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAEd,QAAI,KAAK,YAAY;AACb,YAAA,WAAW,IAAI,eAAe;AAAA,QAClC,KAAK;AAAA,QACL,WAAW;AAAA,QACX,aAAa,KAAK;AAAA,MACnB,CAAA,EAAE,WAAW;AAEP,aAAA,UAAU,IAAI,wBAAwB;AAEvC,YAAA,eAAe,IAAI,OAAO;AAAA,QAC9B,WAAW,CAAC,gBAAgB;AAAA,QAC5B,aAAa,cAAc;AAAA,QAC3B,UAAU,MAAY,KAAK,aAAa;AAAA,MACzC,CAAA,EAAE,WAAW;AAEd,WAAK,UAAU,OAAO,QAAQ,UAAU,UAAU,YAAY;AAAA,IAAA,OACzD;AACE,aAAA,UAAU,OAAO,wBAAwB;AAC1C,YAAA,cAAc,IAAI,OAAO;AAAA,QAC7B,WAAW,CAAC,eAAe;AAAA,QAC3B,aAAa,cAAc;AAAA,QAC3B,UAAU,MAAY,SAAS,YAAY;AAAA,MAC5C,CAAA,EAAE,WAAW;AAEd,WAAK,UAAU,OAAO,QAAQ,UAAU,WAAW;AAAA,IAAA;AAAA,EACrD;AAAA,EAGM,eAAqB;AAC3B,SAAK,UAAU,kBAAkB;AAAA,EAAA;AAAA,EAG3B,UAAU,MAAkB;AAClC,SAAK,aAAa;AAClB,SAAK,WAAW,KAAK;AACd,WAAA,KAAK,UAAU,YAAY;AAC3B,WAAA,UAAU,WAAW,OAAO;AAAA,IAAA;AAEnC,SAAK,OAAO;AAAA,EAAA;AAAA,EAGN,aAAmB;AACzB,SAAK,aAAa;AAClB,SAAK,WAAW;AACT,WAAA,KAAK,UAAU,YAAY;AAC3B,WAAA,UAAU,WAAW,OAAO;AAAA,IAAA;AAEnC,SAAK,OAAO;AACL,WAAA,YAAY,MAAM,KAAK;AAAA,EAAA;AAElC;AC3FO,MAAM,sBAAsB,UAAU;AAAA,EAK3C,cAAc;AACZ,UAAM,EAAE,KAAK,MAAM,WAAW,mBAAmB;AAL3C,oCAAqB,IAAI,SAAS;AAClC,4CAAqC,IAAI,iBAAiB;AAC1D,yCAA+B,IAAI,cAAc;AAIvD,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,mBAAmB,IAAI,eAAe;AAAA,MAC1C,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAEG,qBAAA;AAAA,MACf,KAAK,iBAAiB,WAAW;AAAA,MACjC,KAAK,cAAc,WAAW;AAAA,MAC9B,KAAK,SAAS,WAAW;AAAA,IAC3B;AAEK,SAAA,UAAU,OAAO,gBAAgB;AAAA,EAAA;AAE1C;ACxBO,MAAM,eAAe,UAAU;AAAA,EAIpC,cAAc;AACZ,UAAM,EAAE,KAAK,UAAU,WAAW,UAAU;AAJtC,gCAAmB,IAAI,WAAW;AAClC,mCAAyB,IAAI,cAAc;AAIjD,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACjB,UAAA,kBAAkB,IAAI,eAAe;AAAA,MACzC,KAAK;AAAA,MACL,WAAW;AAAA,IACZ,CAAA,EAAE,WAAW;AAER,UAAAI,QAAO,IAAI,eAAe;AAAA,MAC9B,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,IACd,CAAA,EAAE,WAAW;AAEd,oBAAgB,OAAOA,OAAM,KAAK,KAAK,YAAY;AACnD,SAAK,UAAU,OAAO,KAAK,QAAQ,cAAc,eAAe;AAAA,EAAA;AAEpE;ACnBO,MAAM,YAAY,UAAU;AAAA,EAWjC,cAAc;AACZ,UAAM,EAAE,KAAK,OAAO,WAAW,OAAO;AAXhC,kCAAiB,IAAI,OAAO;AAC5B,qCAAuB,IAAI,UAAU;AACrC,qCAAuB,IAAI,UAAU;AACrC,oCAAqB,IAAI,SAAS;AAClC,qCAAuB,IAAI,UAAU;AACrC,kCAAiB,IAAI,OAAO;AAC5B;AACA,uCAAyB,KAAK;AAC9B;AAIN,SAAK,SAAS,IAAI,OAAO,MAAM,KAAK;AAC/B,SAAA,YAAY,iBAAiB,YAAY;AAC9C,SAAK,YAAY;AACjB,SAAK,OAAO;AAAA,EAAA;AAAA,EAGJ,SAAe;AACvB,SAAK,UAAU;AAAA,MACb,KAAK,OAAO,WAAW;AAAA,MACvB,KAAK,YAAY,WAAW;AAAA,MAC5B,KAAK,OAAO,WAAW;AAAA,IACzB;AAAA,EAAA;AAAA,EAGM,cAAoB;AAC1B,SAAK,OAAO,SAAS,MAAM,OAAO,MAAM;AAClC,UAAA,KAAK,UAAU,kBAAkB;AAC5B,eAAA,YAAY,MAAM,IAAI;AAC7B;AAAA,MAAA;AAEG,WAAA,SAAS,KAAK,SAAS;AAAA,IAAA,CAC7B;AAED,SAAK,OAAO,SAAS,MAAM,MAAM,MAAM;AACrC,UAAI,CAAC,KAAK,UAAU,kBAAkB;AAC7B,eAAA,YAAY,MAAM,KAAK;AAC9B;AAAA,MAAA;AAEG,WAAA,SAAS,KAAK,QAAQ;AAAA,IAAA,CAC5B;AAEI,SAAA,OAAO,SAAS,MAAM,OAAO,MAAM,KAAK,SAAS,KAAK,SAAS,CAAC;AAChE,SAAA,OAAO,SAAS,MAAM,OAAO,MAAM,KAAK,SAAS,KAAK,SAAS,CAAC;AAAA,EAAA;AAAA,EAG/D,SAAS,SAA0B;AACrC,QAAA,KAAK,gBAAgB,SAAS;AAC3B,WAAA,YAAY,WAAW,EAAE,OAAO;AACrC,WAAK,cAAc;AACd,WAAA,UAAU,aAAa,KAAK,YAAY,cAAc,KAAK,OAAO,YAAY;AAAA,IAAA;AAAA,EACrF;AAEJ;AC/DA,MAAM,MAAM,IAAI,IAAI;AACpB,SAAS,KAAK,OAAO,IAAI,WAAA,CAAY;"}